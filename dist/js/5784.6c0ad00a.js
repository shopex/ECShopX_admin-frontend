"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[5784],{15784:function(e,t,a){a.r(t),a.d(t,{default:function(){return r}});a(44114);var n=a(22541),s=(a(57270),a(85135)),l={data(){return{failVisible:!1,search_options:[{label:$t("dxb9y3","审核中","lang"),value:"0"},{label:$t("c00pno4","审核通过","lang"),value:"1"},{label:$t("bzrcwb4","审核失败","lang"),value:"2"}]}},computed:{setting(){return e=this,(0,n.createSetting)({search:[{key:"status",name:$t("bzvg8y4","审核状态","lang"),type:"select",options:e.search_options},{key:"template_name",name:$t("dtgrr54","模板名称","lang")}],columns:[{name:$t("dtgrr54","模板名称","lang"),key:"template_name"},{name:$t("e9n1cl6","模板CODE","lang"),key:"template_code"},{name:$t("dtg6aa4","模板内容","lang"),key:"template_content"},{name:$t("fgu70k4","短信类型","lang"),key:"template_type",formatter:e=>{switch(e){case"0":return`${$t("nbcoc3","验证码","lang")}`;case"1":return`${$t("fgxpjz4","短信通知","lang")}`;case"2":return`${$t("cyx5ez4","推广短信","lang")}`}}},{name:$t("fgnxu14","短信场景","lang"),key:"scene_name"},{name:$t("ar84e54","创建时间","lang"),key:"created",formatter:e=>{var t=new Date(1e3*e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())+" "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}},{name:$t("bzvg8y4","审核状态","lang"),key:"status",width:"100px",render:(e,{row:t})=>e("div",{class:"yahh"},[e("div",{class:`status-icon ${"1"==t.status&&"success"} ${"2"==t.status&&"fail"}`}),e("span",{},"0"==t.status&&$t("dxb9y3","审核中","lang")||"1"==t.status&&$t("c00pno4","审核通过","lang")||"2"==t.status&&$t("gmztyt5","审核失败 ","lang")),2==t.status&&t.reason&&e("el-tooltip",{class:"tips",props:{effect:"dark",content:t.reason,placement:"top"}},[e("i",{class:"el-icon-warning-outline"},"")])])}],actions:[{name:$t("obrz2","详情","lang"),key:"detail",type:"button",buttonType:"text",action:{type:"link",handler:async t=>{e.$router.push({path:e.matchRoutePath("edit"),query:{type:"detail",id:t[0].id}})}}},{name:$t("mekb2","编辑","lang"),key:"editor",type:"button",buttonType:"text",action:{type:"link",handler:async t=>{e.$router.push({path:e.matchRoutePath("edit"),query:{type:"edit",id:t[0].id}})}},visible:e=>"2"==e.status},{name:$t("eslg2","删除","lang"),key:"delete",type:"button",buttonType:"text",action:{type:"link",handler:async t=>{e.deleteTemplateHandle(t[0].id)}},visible:e=>"0"!=e.status}]});var e}},methods:{addTemplate(){this.$router.push({path:this.matchRoutePath("edit")})},beforeSearch(e){return{...e}},afterSearch(){},async deleteTemplateHandle(e){await(0,s.deleteSmsTemplate)(e);this.$message.success($t("azeh8z4","删除成功","lang")),this.$refs.finder.refresh(!0)}}},r=(0,a(81656).A)(l,function(){var e=this,t=e._self._c;return t("div",[-1===e.$route.path.indexOf("edit")?t("div",{staticClass:"sms_signatures"},[t("SpFinder",{ref:"finder",attrs:{"split-count":4,"search-row-count":2,"fixed-row-action":!0,setting:e.setting,"no-selection":"",hooks:{beforeSearch:e.beforeSearch,afterSearch:e.afterSearch},url:"/aliyunsms/template/list"},scopedSlots:e._u([{key:"tableTop",fn:function(){return[t("div",{staticClass:"mb-2"},[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addTemplate}},[e._v($t("tuq9el6"," 添加模板 ","lang"))])],1)]},proxy:!0}],null,!1,3063624783)})],1):e._e(),t("router-view")],1)},[],!1,null,null,null).exports}}]);