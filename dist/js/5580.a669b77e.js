"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[5580],{15580:function(e,t,a){a.r(t),a.d(t,{default:function(){return o}});a(44114);var n=a(22541),r={data(){return{params:{title:""}}},computed:{setting(){return e=this,(0,n.createSetting)({columns:[{name:$t("mrlmwl5","券包标题\t","lang"),key:"title"},{name:$t("hrlt2","描述","lang"),key:"package_describe",width:130},{name:$t("mrb9b3","领取量","lang"),key:"get_num"}],actions:[{name:$t("ibpi2","查看","lang"),key:"detail",type:"button",buttonType:"text",action:{type:"link",handler:t=>{e.$router.push({path:`${e.$route.path}/detail`,query:{type:"detail",package_id:t[0].package_id}})}}},{name:$t("mekb2","编辑","lang"),key:"edit",type:"button",buttonType:"text",action:{type:"link",handler:t=>{e.$router.push({path:`${e.$route.path}/editor`,query:{type:"edit",package_id:t[0].package_id}})}}},{name:$t("eslg2","删除","lang"),key:"delete",type:"button",buttonType:"text",action:{type:"link",handler:async t=>{await e.$confirm(`${$t("eqdhw25","删除券包？","lang")}`,$t("hn562","提示","lang"),{confirmButtonText:$t("kzjg2","确定","lang"),cancelButtonText:$t("ev022","取消","lang")});const{status:a}=await e.$api.coupons_package.deleteCoupon({package_id:t[0].package_id});a?(e.$message.success($t("azeh8z4","删除成功","lang")),e.$refs.finder.refresh()):e.$message.success($t("fy1g2","失败","lang"))}}}]});var e}},mounted(){},methods:{createCoupon(){this.$router.push({path:`${this.$route.path}/editor`,query:{type:"create"}})},beforeSearch(e){return e.title=this.params.title,{...e}},queryCoupon(){this.$refs.finder.refresh(!0)}}},o=(0,a(81656).A)(r,function(){var e=this,t=e._self._c;return t("SpPage",{staticClass:"zyk_coupon"},[t("SpRouterView",[t("SpFilterForm",{attrs:{model:e.params},on:{onSearch:e.queryCoupon,onReset:e.queryCoupon}},[t("SpFilterFormItem",{attrs:{prop:"title",label:$t("kuvcp35","劵包标题:","lang")}},[t("el-input",{attrs:{placeholder:$t("xkblin6","请入劵包标题","lang")},model:{value:e.params.title,callback:function(t){e.$set(e.params,"title",t)},expression:"params.title"}})],1)],1),t("el-button",{attrs:{type:"primary"},on:{click:e.createCoupon}},[e._v($t("6n9hu76"," 创建劵包 ","lang"))]),t("SpFinder",{ref:"finder",attrs:{"split-count":4,"fixed-row-action":!0,setting:e.setting,"no-selection":"",hooks:{beforeSearch:e.beforeSearch},"row-actions-fixed-align":"left",url:"/voucher/package/list"}})],1)],1)},[],!1,null,"05b29e7e",null).exports}}]);