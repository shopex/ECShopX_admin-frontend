"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[5673],{65673:function(t,e,a){a.r(e),a.d(e,{default:function(){return r}});var l=a(95353),n=a(5134),s={data(){return{params:{page:1,pageSize:15,status:"wait"},search_time:[],list:[],downloadfilename:"",downloadUrl:"",loading:!1,total_count:0}},mounted(){this.getList()},methods:{search(){},onReset(){this.search_time=[],this.params.page=1,this.params.status="wait",this.getList()},getList(){this.search_time.length>0?(this.params.time_start=this.search_time[0]/1e3,this.params.time_end=this.search_time[1]/1e3):(this.params.time_start="",this.params.time_end=""),this.loading=!0,(0,n.getTaskBrokerageCountList)(this.params).then(t=>{this.loading=!1,this.list=t.data.data.list,this.total_count=t.data.data.total_count})},handleClick(){this.params.page=1,this.getList()},handleSizeChange(t){this.params.page=1,this.params.pageSize=t,this.getList()},handleCurrentChange(t){this.params.page=t,this.getList()},exportData(){this.params.page=1,(0,n.exportTaskBrokerageCount)(this.params).then(t=>{this.downloadUrl=t.data.data.url,this.downloadfilename=t.data.data.filename,setTimeout(()=>{this.$refs.download.click()},200)})}},computed:{...(0,l.L8)(["wheight"])}},r=(0,a(81656).A)(s,function(){var t=this,e=t._self._c;return e("SpPage",[e("SpFilterForm",{attrs:{model:t.params},on:{onSearch:t.handleClick,onReset:t.onReset}},[e("SpFilterFormItem",{attrs:{prop:"promoter_mobile",label:$t("f20rl3","推广员","lang")}},[e("el-input",{attrs:{size:"mini",placeholder:$t("f20rl3","推广员","lang")},model:{value:t.params.promoter_mobile,callback:function(e){t.$set(t.params,"promoter_mobile",e)},expression:"params.promoter_mobile"}})],1),e("SpFilterFormItem",{attrs:{prop:"item_name",label:$t("eywr2","商品","lang")}},[e("el-input",{attrs:{size:"mini",placeholder:$t("eywr2","商品","lang")},model:{value:t.params.item_name,callback:function(e){t.$set(t.params,"item_name",e)},expression:"params.item_name"}})],1),e("SpFilterFormItem",{attrs:{label:$t("hwbe2","日期","lang"),prop:"search_time"}},[e("el-date-picker",{attrs:{type:"daterange","value-format":"timestamp","range-separator":$t("po31","至","lang"),"start-placeholder":$t("cd0ag54","开始日期","lang"),"end-placeholder":$t("gfhy2u4","结束日期","lang")},model:{value:t.search_time,callback:function(e){t.search_time=e},expression:"search_time"}})],1)],1),e("div",{staticClass:"action-container"},[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.exportData}},[t._v($t("c3nzu25"," 导 出 ","lang"))])],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list,height:t.wheight-170,"element-loading-text":$t("go5gpa5","数据加载中","lang"),"default-sort":{prop:"bind_date",order:"descending"}}},[e("el-table-column",{attrs:{prop:"promoter_mobile",label:$t("f20rl3","推广员","lang")}}),e("el-table-column",{attrs:{prop:"item_name",label:$t("eywr2","商品","lang")},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.item_name)),a.row.item_spec_desc?e("el-tag",{attrs:{size:"mini",effect:"plain"}},[t._v(" "+t._s(a.row.item_spec_desc)+" ")]):t._e()]}}])}),e("el-table-column",{attrs:{prop:"rebate_type",label:$t("zgls9s5","任务制类型","lang")},scopedSlots:t._u([{key:"default",fn:function(a){return["total_money"==a.row.rebate_type?e("span",[t._v($t("cwhkn24","按总金额","lang"))]):t._e(),"total_num"==a.row.rebate_type?e("span",[t._v($t("cw9zjl4","按总数量","lang"))]):t._e()]}}])}),e("el-table-column",{attrs:{prop:"total_fee",label:$t("o4uv365","已完成金额","lang"),"min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.total_fee/100)+$t("dtml2","元 ","lang"))]}}])}),e("el-table-column",{attrs:{prop:"finish_num",label:$t("o4n9zp5","已完成数量","lang"),"min-width":"80"}}),e("el-table-column",{attrs:{prop:"wait_num",label:$t("ua8d485","待完成数量","lang"),"min-width":"80"}}),e("el-table-column",{attrs:{prop:"close_num",label:$t("ij2o594","退回数量","lang"),"min-width":"80"}}),e("el-table-column",{attrs:{prop:"plan_date","min-width":"80",label:$t("okop2","账期","lang")}}),e("el-table-column",{attrs:{prop:"rebate_money","min-width":"80",label:$t("fzuj2","奖金","lang")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.rebate_money/100)+$t("dtml2","元 ","lang"))]}}])}),e("el-table-column",{attrs:{label:$t("k1e32","状态","lang"),"min-width":"60"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.status?e("el-tag",{attrs:{type:"success"}},[t._v($t("cxpkpx5"," 已达标 ","lang"))]):e("span",[t._v(t._s(a.row.limit_desc))])]}}])})],1),e("div",{staticClass:"mt-4 text-right"},[e("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","current-page":t.params.page,"page-sizes":[15,20,50],total:t.total_count,"page-size":t.params.pageSize},on:{"update:currentPage":function(e){return t.$set(t.params,"page",e)},"update:current-page":function(e){return t.$set(t.params,"page",e)},"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1),e("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"download",attrs:{href:t.downloadUrl,download:t.downloadfilename}})],1)},[],!1,null,"3691a721",null).exports}}]);