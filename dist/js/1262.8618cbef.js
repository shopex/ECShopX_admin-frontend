"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[1262],{61262:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var i=a(95353),l=a(87378),o=a(43224),n=a(79296),r=a(68322),s={components:{imgPicker:l.default,imgBox:o.A},data(){return{activeName:"banner",loading:!1,form:{name:"base",data:{no_login_banner:"",login_banner:"",is_show:!1,url_is_open:!1,app_id:"",page:""}},textarea:"",pic:"",remnant:0,fileList:[],imgDialog:!1,isGetImage:!1,pickerImgType:"no_login"}},computed:{...(0,i.L8)(["wheight","wwidth","template_name","ali_template_name"])},mounted(){let t={template_name:-1===this.$route.path.indexOf("aliapp")?this.template_name:this.ali_template_name,version:"v1.0.1",page_name:"member_center_setting"};-1===this.$route.path.indexOf("aliapp")?(0,n.getParamByTempName)(t).then(t=>{0!==t.data.data.list.length&&void 0!==t.data.data.list[0].params.data&&(this.form=t.data.data.list[0].params)}):(0,r.getALiParamByTempName)(t).then(t=>{0!==t.data.data.list.length&&void 0!==t.data.data.list[0].params.data&&(this.form=t.data.data.list[0].params)})},methods:{handleClick(t,e){},saveConfig(){let t={template_name:-1===this.$route.path.indexOf("aliapp")?this.template_name:this.ali_template_name,config:JSON.stringify([this.form]),page_name:"member_center_setting"};-1===this.$route.path.indexOf("aliapp")?(0,n.savePageParams)(t).then(t=>{t.data.data.status&&this.$message({message:$t("aghf564","保存成功","lang"),type:"success"})}):(0,r.saveALiPageParams)(t).then(t=>{t.data.data.status&&this.$message({message:$t("aghf564","保存成功","lang"),type:"success"})})},countInput(){this.remnant=this.form.intro.length},handleImgChange(t){this.pickerImgType=t,this.imgDialog=!0,this.isGetImage=!0},pickImg(t){"no_login"==this.pickerImgType?this.form.data.no_login_banner=t.url:this.form.data.login_banner=t.url,this.imgDialog=!1},closeImgDialog(){this.imgDialog=!1}}},m=a(81656),d=(0,m.A)(s,function(){var t=this,e=t._self._c;return e("div",[e("el-form",{ref:"form",attrs:{model:t.form,"label-position":"left","label-width":"160px"}},[e("div",{staticClass:"section-body"},[e("el-form-item",{attrs:{label:$t("vzatpya","未登录BANNER：","lang")}},[e("imgBox",{attrs:{"img-url":t.form.data.no_login_banner,inline:""},on:{click:function(e){return t.handleImgChange("no_login")}}})],1),e("el-form-item",{attrs:{label:$t("xdo0jia","已登录BANNER：","lang")}},[e("imgBox",{attrs:{"img-url":t.form.data.login_banner,inline:""},on:{click:function(e){return t.handleImgChange("login")}}})],1),e("el-form-item",{attrs:{label:$t("t0zhvu9","会员中心是否展示：","lang")}},[e("el-switch",{model:{value:t.form.data.is_show,callback:function(e){t.$set(t.form.data,"is_show",e)},expression:"form.data.is_show"}})],1),-1===t.$route.path.indexOf("aliapp")?e("div",[e("el-form-item",{attrs:{label:$t("iguuyt9","外部链接是否开启：","lang")}},[e("el-switch",{model:{value:t.form.data.url_is_open,callback:function(e){t.$set(t.form.data,"url_is_open",e)},expression:"form.data.url_is_open"}})],1),e("el-form-item",{attrs:{label:$t("vbt77sd","外部链接小程序appid：","lang")}},[e("el-input",{staticStyle:{width:"300px"},attrs:{type:"text"},model:{value:t.form.data.app_id,callback:function(e){t.$set(t.form.data,"app_id",e)},expression:"form.data.app_id"}})],1),e("el-form-item",{attrs:{label:$t("hiilgs7","外部链接路径：","lang")}},[e("el-input",{staticStyle:{width:"300px"},attrs:{type:"text"},model:{value:t.form.data.page,callback:function(e){t.$set(t.form.data,"page",e)},expression:"form.data.page"}})],1)],1):t._e()],1),e("div",{staticClass:"section-footer content-center"},[e("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:t.saveConfig}},[t._v($t("cp35x4"," 保存 ","lang"))])],1)]),e("imgPicker",{attrs:{"dialog-visible":t.imgDialog,"sc-status":t.isGetImage},on:{chooseImg:t.pickImg,closeImgDialog:t.closeImgDialog}})],1)},[],!1,null,null,null).exports,p={data(){return{activeName:"redirect",loading:!1,form:{name:"base",data:{point_url_is_open:!0,point_app_id:"",point_page:"",info_url_is_open:!0,info_app_id:"",info_page:""}},pic:"",remnant:0,fileList:[],imgDialog:!1,isGetImage:!1,pickerImgType:"no_login"}},computed:{...(0,i.L8)(["wheight","wwidth","template_name"])},mounted(){let t={template_name:this.template_name,version:"v1.0.1",page_name:"member_center_redirect_setting"};(0,n.getParamByTempName)(t).then(t=>{0!==t.data.data.list.length&&void 0!==t.data.data.list[0].params.data&&(this.form.data=t.data.data.list[0].params.data)})},methods:{handleClick(t,e){},saveConfig(){let t={template_name:this.template_name,config:JSON.stringify([this.form]),page_name:"member_center_redirect_setting"};(0,n.savePageParams)(t).then(t=>{t.data.data.status&&this.$message({message:$t("aghf564","保存成功","lang"),type:"success"})})}}},c=(0,m.A)(p,function(){var t=this,e=t._self._c;return e("div",[e("el-form",{ref:"form",attrs:{model:t.form,"label-position":"left","label-width":"200px"}},[e("div",{staticClass:"section-body"},[e("el-form-item",{staticClass:"title",attrs:{label:$t("8wffita","“积分”点击跳转设置","lang")}}),e("el-form-item",{attrs:{label:$t("iguuyt9","外部链接是否开启：","lang")}},[e("el-switch",{model:{value:t.form.data.point_url_is_open,callback:function(e){t.$set(t.form.data,"point_url_is_open",e)},expression:"form.data.point_url_is_open"}})],1),e("el-form-item",{attrs:{label:$t("vbt77sd","外部链接小程序appid：","lang")}},[e("el-input",{staticStyle:{width:"300px"},attrs:{type:"text"},model:{value:t.form.data.point_app_id,callback:function(e){t.$set(t.form.data,"point_app_id",e)},expression:"form.data.point_app_id"}})],1),e("el-form-item",{attrs:{label:$t("hiilgs7","外部链接路径：","lang")}},[e("el-input",{staticStyle:{width:"300px"},attrs:{type:"text"},model:{value:t.form.data.point_page,callback:function(e){t.$set(t.form.data,"point_page",e)},expression:"form.data.point_page"}})],1),e("el-form-item",{staticClass:"title",attrs:{label:$t("bqrf2qc","“个人信息”点击跳转设置","lang")}}),e("el-form-item",{attrs:{label:$t("iguuyt9","外部链接是否开启：","lang")}},[e("el-switch",{model:{value:t.form.data.info_url_is_open,callback:function(e){t.$set(t.form.data,"info_url_is_open",e)},expression:"form.data.info_url_is_open"}})],1),e("el-form-item",{attrs:{label:$t("vbt77sd","外部链接小程序appid：","lang")}},[e("el-input",{staticStyle:{width:"300px"},attrs:{type:"text"},model:{value:t.form.data.info_app_id,callback:function(e){t.$set(t.form.data,"info_app_id",e)},expression:"form.data.info_app_id"}})],1),e("el-form-item",{attrs:{label:$t("hiilgs7","外部链接路径：","lang")}},[e("el-input",{staticStyle:{width:"300px"},attrs:{type:"text"},model:{value:t.form.data.info_page,callback:function(e){t.$set(t.form.data,"info_page",e)},expression:"form.data.info_page"}})],1)],1),e("div",{staticClass:"section-footer content-center"},[e("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:t.saveConfig}},[t._v($t("cp35x4"," 保存 ","lang"))])],1)])],1)},[],!1,null,null,null).exports,g={data(){return{activeName:"menuoption",loading:!1,form:{name:"base",data:{ziti_order:!0,ext_info:!0,group:!0,boost_activity:!0,boost_order:!0,complaint:!0,activity:!0,recharge:!0,member_code:!0,community_activity:!0,community_order:!0,offline_order:!0,share_enable:!0,memberinfo_enable:!0,community_group_enable:!0}},pic:"",remnant:0,fileList:[],imgDialog:!1,isGetImage:!1,pickerImgType:"no_login"}},computed:{...(0,i.L8)(["wheight","wwidth","template_name"])},mounted(){let t={template_name:this.template_name,version:"v1.0.1",page_name:"member_center_menu_setting"};(0,n.getParamByTempName)(t).then(t=>{if(0!==t.data.data.list.length)try{const{ziti_order:e,ext_info:a,group:i,boost_activity:l,boost_order:o,complaint:n,activity:r,recharge:s,member_code:m,community_activity:d,community_order:p,offline_order:c,share_enable:g,memberinfo_enable:f,community_group_enable:_}=t.data.data.list[0].params.data;this.form.data={ziti_order:e,ext_info:a,group:i,boost_activity:l,boost_order:o,complaint:n,activity:r,recharge:s,member_code:m,community_activity:d,community_order:p,offline_order:c,share_enable:g,memberinfo_enable:f,community_group_enable:_}}catch(t){}})},methods:{handleClick(t,e){},saveConfig(){let t={template_name:this.template_name,config:JSON.stringify([this.form]),page_name:"member_center_menu_setting"};(0,n.savePageParams)(t).then(t=>{t.data.data.status&&this.$message({message:$t("aghf564","保存成功","lang"),type:"success"})})}}},f=(0,m.A)(g,function(){var t=this,e=t._self._c;return e("div",[e("el-form",{ref:"form",attrs:{model:t.form,"label-position":"left","label-width":"170px"}},[e("div",{staticClass:"section-body"},[e("el-form-item",{attrs:{label:$t("nwwjvl5","自提订单：","lang")}},[e("el-switch",{model:{value:t.form.data.ziti_order,callback:function(e){t.$set(t.form.data,"ziti_order",e)},expression:"form.data.ziti_order"}})],1),t.VERSION_IN_PURCHASE()?t._e():e("el-form-item",{attrs:{label:$t("rduh335","我的拼团：","lang")}},[e("el-switch",{model:{value:t.form.data.group,callback:function(e){t.$set(t.form.data,"group",e)},expression:"form.data.group"}})],1),t.VERSION_STANDARD()?e("el-form-item",{attrs:{label:$t("l2vmn95","助力活动：","lang")}},[e("el-switch",{model:{value:t.form.data.boost_activity,callback:function(e){t.$set(t.form.data,"boost_activity",e)},expression:"form.data.boost_activity"}})],1):t._e(),t.VERSION_STANDARD()?e("el-form-item",{attrs:{label:$t("kyf7bf5","助力订单：","lang")}},[e("el-switch",{model:{value:t.form.data.boost_order,callback:function(e){t.$set(t.form.data,"boost_order",e)},expression:"form.data.boost_order"}})],1):t._e(),t.VERSION_IN_PURCHASE()?t._e():e("el-form-item",{attrs:{label:$t("byswcr5","活动预约：","lang")}},[e("el-switch",{model:{value:t.form.data.activity,callback:function(e){t.$set(t.form.data,"activity",e)},expression:"form.data.activity"}})],1),t.VERSION_IN_PURCHASE()?t._e():e("el-form-item",{attrs:{label:$t("g9cjmp6","会员二维码：","lang")}},[e("el-switch",{model:{value:t.form.data.member_code,callback:function(e){t.$set(t.form.data,"member_code",e)},expression:"form.data.member_code"}})],1),e("el-form-item",{attrs:{label:$t("vrir185","个人信息：","lang")}},[e("el-switch",{model:{value:t.form.data.memberinfo_enable,callback:function(e){t.$set(t.form.data,"memberinfo_enable",e)},expression:"form.data.memberinfo_enable"}})],1),e("el-form-item",{attrs:{label:$t("cai6vh5","社区团购：","lang")}},[e("el-switch",{model:{value:t.form.data.community_group_enable,callback:function(e){t.$set(t.form.data,"community_group_enable",e)},expression:"form.data.community_group_enable"}})],1)],1),e("div",{staticClass:"section-footer content-center"},[e("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:t.saveConfig}},[t._v($t("cp35x4"," 保存 ","lang"))])],1)])],1)},[],!1,null,null,null).exports,_=a(10809),u=a(2038),h={components:{imgBox:o.A,imgPicker:l.default,wechatShare:_.default},data(){return{activeName:"redirect",loading:!1,form:{name:"base",data:{title:$t("1o9p6s8","震惊！这店绝了！","lang"),description:$t("kdyyicj","我发现了一家特别好的店，一起来看看吧？","lang"),pic:""}},remnant:0,fileList:[],isGetImage:!1,pickerImgType:"no_login",gift_max:15,description_max:30,rules:{title:[{required:!0,validator:(t,e,a)=>{""!=e&&e?a():a(new Error($t("7jerom8","分享标题不能为空","lang")))},trigger:"blur"}],description:[{required:!0,validator:(t,e,a)=>{""!=e&&e?a():a(new Error($t("ul7ara8","分享描述不能为空","lang")))},trigger:"blur"}]},imgDialog:!1,isGetImage:!1,pickerImgType:"no_login"}},computed:{...(0,i.L8)(["wheight","wwidth","app_type","template_name","ali_template_name"])},mounted(){(0,u.getDistributorInfo)({distributor_id:0}).then(({data:{data:t}})=>{this.form.data.pic||(this.form.data.pic=t&&t.logo?t.logo:"")}),(0,n.getShareInfo)().then(({data:{data:t},status:e})=>{!Array.isArray(t)&&t&&Object.assign(this.form.data,{title:t.share_title,description:t.share_description,pic:t.share_pic_wechatapp?t.share_pic_wechatapp:""})})},methods:{handleClick(t,e){},handleImgChange(t){this.pickerImgType=t,this.imgDialog=!0,this.isGetImage=!0},pickImg(t){"pic"==this.pickerImgType&&(this.form.data.pic=t.url),this.imgDialog=!1},saveConfig(){const{title:t,description:e,pic:a}=this.form.data;let i={share_title:t,share_description:e,share_pic_wechatapp:a,type:this.template_name};(0,n.setShareInfo)(i).then(t=>{this.$message({message:$t("aghf564","保存成功","lang"),type:"success",duration:2e3})})},closeImgDialog(){this.imgDialog=!1}}},b={components:{bannerTemplates:d,redirectTemplates:c,menuoptionTemplates:f,wechatshareTemplates:(0,m.A)(h,function(){var t=this,e=t._self._c;return e("div",[e("el-form",{ref:"form",attrs:{model:t.form.data,"label-position":"left","label-width":"100px",rules:t.rules}},[e("div",{staticClass:"section-body"},[e("el-form-item",{staticClass:"title",attrs:{label:$t("aoco2b4","分享信息","lang")}}),e("el-form-item",{attrs:{label:$t("aoh3124","分享标题","lang"),prop:"title"}},[e("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:15,placeholder:$t("susr0na","字数上限为15个汉字","lang")},model:{value:t.form.data.title,callback:function(e){t.$set(t.form.data,"title",e)},expression:"form.data.title"}}),t._v(" "),e("span",{staticClass:"frm-tips"},[t._v(t._s(t.form.data.title.length)+"/"+t._s(t.gift_max))])],1),e("el-form-item",{attrs:{label:$t("aogbhi4","分享描述","lang"),prop:"description"}},[e("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:30,type:"textarea",rows:2,placeholder:$t("stscrka","字数上限为30个汉字","lang")},model:{value:t.form.data.description,callback:function(e){t.$set(t.form.data,"description",e)},expression:"form.data.description"}}),t._v("  "),e("div",{staticClass:"frm-tips2"},[t._v(" "+t._s(t.form.data.description.length)+"/"+t._s(t.description_max)+" ")])],1),e("el-form-item",{staticClass:"inline-label paddingleft9",attrs:{label:$t("aodz5a4","分享图片","lang")}},[e("div",{staticClass:"inline"},[e("imgBox",{attrs:{"img-url":t.form.data.pic,inline:"","bottom-info":$t("e2p833","小程序","lang")},on:{click:function(e){return t.handleImgChange("pic")}}}),e("p",[t._v($t("etlrsz7","建议尺寸5:4","lang"))])],1)]),e("el-form-item",{staticClass:"inline-label paddingleft9",attrs:{label:$t("jt6v4o4","预览效果","lang")}},[e("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small",type:"primary"}},[t._v($t("clx4z15"," 小程序 ","lang"))]),e("wechatShare",{attrs:{title:t.form.data.title,"content-img-src":t.form.data.pic}})],1)],1),e("div",{staticClass:"section-footer content-center"},[e("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:t.saveConfig}},[t._v($t("cp35x4"," 保存 ","lang"))])],1)]),e("imgPicker",{attrs:{"dialog-visible":t.imgDialog,"sc-status":t.isGetImage},on:{chooseImg:t.pickImg,closeImgDialog:t.closeImgDialog}})],1)},[],!1,null,null,null).exports},data(){return{activeName:"banner"}},mounted(){void 0!==this.$route.query.activeName&&(this.activeName=this.$route.query.activeName)},methods:{}},v=(0,m.A)(b,function(){var t=this,e=t._self._c;return e("SpPage",[t.VERSION_SHUYUN()?t._e():e("SpPlatformTip",{attrs:{h5:"",app:"",alipay:""}}),e("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:$t("3j4a74a","会员中心BANNER","lang"),name:"banner"}},[e("bannerTemplates")],1),e("el-tab-pane",{attrs:{label:$t("d8j57o8","菜单隐藏显示设置","lang"),name:"menuoption"}},[e("menuoptionTemplates")],1),t.VERSION_IN_PURCHASE()?t._e():e("el-tab-pane",{attrs:{label:$t("hp0esq6","页面跳转设置","lang"),name:"redirect"}},[e("redirectTemplates")],1)],1)],1)},[],!1,null,null,null).exports}}]);