"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[5771],{55771:function(t,a,e){e.r(a),e.d(a,{default:function(){return l}});var s=e(95353),i=e(77944),n={components:{shopSelect:e(25159).default},data(){return{list:[],total_count:0,loading:!1,salesman_id:"",date:[],params:{page:1,pageSize:20,mobile:"",name:"",distributor_id:"",time_start_begin:"",time_start_end:""}}},computed:{...(0,s.L8)(["wheight"])},filters:{signType:function(t){return{signin:$t("lgfm2","签到","lang"),signout:$t("a7xdcf4","主动签退","lang"),forceout:$t("hl9p3z4","被动签退","lang")}[t]||$t("dilacr4","未知类型","lang")}},mounted(){this.getList()},methods:{addSelectStoreChange(t){this.form.distributor_id=t.shop_id},storeChange(t){t&&t.shop_id,this.params.distributor_id=t.shop_id,this.params.page=1,this.getList()},initChange(){this.shopId=""},resetSearch(){this.params.page=1,this.getList()},clearparams(t){this.params[t]="",this.resetSearch()},dateChange(){this.date?(this.params.time_start_begin=this.date[0]/1e3,this.params.time_start_end=this.date[1]/1e3):(this.params.time_start_begin="",this.params.time_start_end=""),this.resetSearch()},getList(){this.loading=!0,(0,i.getSalespersonLoginLog)(this.params).then(t=>{t.data.data.list&&(this.list=t.data.data.list,this.total_count=Number(t.data.data.total_count)),this.loading=!1})},handleSizeChange(t){this.params.page=1,this.params.pageSize=t,this.getList()},handleCurrentChange(t){this.params.page=t,this.getList()}}},l=(0,e(81656).A)(n,function(){var t=this,a=t._self._c;return a("div",[a("el-row",{staticClass:"head"},[a("shop-select",{attrs:{distributors:""},on:{update:t.storeChange,init:t.initChange}}),a("el-input",{staticClass:"input",attrs:{placeholder:$t("7ox09r6","导购员手机号","lang"),clearable:""},on:{clear:function(a){return t.clearparams("mobile")}},model:{value:t.params.mobile,callback:function(a){t.$set(t.params,"mobile",a)},expression:"params.mobile"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.resetSearch},slot:"append"})],1),a("el-input",{staticClass:"input",attrs:{placeholder:$t("mnwcyp5","导购员姓名","lang"),clearable:""},on:{clear:function(a){return t.clearparams("name")}},model:{value:t.params.name,callback:function(a){t.$set(t.params,"name",a)},expression:"params.name"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.resetSearch},slot:"append"})],1),a("el-date-picker",{attrs:{type:"datetimerange",placeholder:$t("to1gvf6","选择日期范围","lang"),format:"yyyy-MM-dd HH:mm:ss","value-format":"timestamp"},on:{change:t.dateChange},model:{value:t.date,callback:function(a){t.date=a},expression:"date"}})],1),a("el-card",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.list}},[a("el-table-column",{attrs:{prop:"sign_type",label:$t("lnjk2","类型","lang")}}),a("el-table-column",{attrs:{prop:"name",label:$t("c6s4qz4","导购姓名","lang")}}),a("el-table-column",{attrs:{prop:"mobile",label:$t("mq06yf5","导购手机号","lang")}}),a("el-table-column",{attrs:{prop:"shop_name",label:$t("csd8i54","所属门店","lang")}}),a("el-table-column",{attrs:{prop:"updated",label:$t("d1tr1p4","操作时间","lang")}})],1)],1),a("div",{staticClass:"mt-4 text-right"},[a("el-pagination",{attrs:{background:"","current-page":t.params.page,"page-sizes":[10,20,50,100],"page-size":t.params.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total_count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},[],!1,null,"5d5d4dec",null).exports}}]);