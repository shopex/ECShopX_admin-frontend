"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[724],{10724:function(t,a,e){e.r(a),e.d(a,{default:function(){return s}});var i=e(41776),r={data(){return{activeName:"alipay",loading:!1,form:{distributors:0,app_id:"",ali_public_key:"",private_key:"",is_open:!0}}},mounted(){this.getConfig()},methods:{handleClick(){this.getConfig()},certHandleChange(t,a){this.form.cert=t.raw},keyHandleChange(t,a){this.form.cert_key=t.raw},getConfig(){const{distributor_id:t,name:a}=this.$route.query;this.name=a,this.form.distributor_id=t;let e={pay_type:"alipay",distributor_id:t};(0,i.getPaymentSetting)(e).then(t=>{let a=Array.isArray(t.data.data)&&!t.data.data.length?{}:t.data.data;for(let t of Object.keys(a))this.$set(this.form,t,a[t])})},onSubmit(){this.loading=!0;let t={distributor_id:this.form.distributor_id,isUploadFile:!0,pay_type:"alipay",app_id:this.form.app_id,private_key:this.form.private_key,is_open:this.form.is_open,ali_public_key:this.form.ali_public_key};(0,i.setPaymentSetting)(t).then(t=>{this.$message({type:"success",message:$t("aghf564","保存成功","lang")}),this.loading=!1}).catch(t=>{this.loading=!1})}}},s=(0,e(81656).A)(r,function(){var t=this,a=t._self._c;return a("SpPage",{staticClass:"alipay-setting"},[a("el-form",{ref:"form",attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:$t("qd1pi86","当前店铺名称","lang")}},[a("span",[t._v(t._s(t.name))])]),a("el-form-item",{attrs:{label:$t("ri1d26","合作者PID","lang")}},[a("el-input",{staticStyle:{width:"300px"},model:{value:t.form.app_id,callback:function(a){t.$set(t.form,"app_id",a)},expression:"form.app_id"}}),a("br"),a("span",{staticClass:"frm-tips"},[t._v("APPID")])],1),a("el-form-item",{attrs:{label:$t("k8bw2b5","支付宝公钥","lang")}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:$t("2jbrwj5","请输入内容","lang")},model:{value:t.form.ali_public_key,callback:function(a){t.$set(t.form,"ali_public_key",a)},expression:"form.ali_public_key"}}),a("br"),a("span",{staticClass:"frm-tips"},[t._v($t("8jthi0k","RSA2(SHA256)密钥 支付宝公钥","lang"))])],1),a("el-form-item",{attrs:{label:$t("cf78rc4","应用私钥","lang")}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:$t("2jbrwj5","请输入内容","lang")},model:{value:t.form.private_key,callback:function(a){t.$set(t.form,"private_key",a)},expression:"form.private_key"}}),a("br"),a("span",{staticClass:"frm-tips"},[t._v($t("nj3phcj","RSA2(SHA256)密钥 自己私钥","lang"))])],1),a("el-form-item",{attrs:{label:$t("ej6wcp4","温馨提示","lang")}},[a("span",{staticClass:"frm-tips"},[t._v($t("y03twpf","您绑定的企业支付宝账号必须开通","lang")),a("a",{attrs:{href:"https://b.alipay.com/signing/productDetail.htm?productId=I1011000290000001001",target:"_blank"}},[t._v($t("p65lhc6","手机网站支付","lang"))])])]),a("div",{staticClass:"section-footer with-border content-center"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v($t("cp35x4"," 保存 ","lang"))])],1)],1)],1)},[],!1,null,"55e7debc",null).exports}}]);