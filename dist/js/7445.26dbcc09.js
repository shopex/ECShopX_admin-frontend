"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[7445],{57445:function(e,t,a){a.r(t),a.d(t,{default:function(){return r}});a(57270);var l=a(21255),s={provide(){return{refresh:this.getFetch}},components:{},data(){return{formLoad:!1,ruleForm:{enable:!1,url:null,appid:null,appsecret:null},rules:{url:[{required:!0,message:$t("sdbhaj7","请填写接入地址","lang"),trigger:"blur"}],appid:[{required:!0,message:$t("250z3le","请填写AccessKeyID","lang"),trigger:"blur"}],appsecret:[{required:!0,message:$t("2pqp2i","请填写AccessKeySecret","lang"),trigger:"blur"}]}}},mounted(){this.getFetch()},methods:{getFetch(){this.$data.formLoad=!0,(0,l.getUGCSetting)({type:"contentCheck"}).then(e=>{var{data:t}=e.data,a={enable:"1"==t.contentCheck_enable,url:t.contentCheck_url,appid:t.contentCheck_appid,appsecret:t.contentCheck_appsecret};this.$data.ruleForm=a,this.$data.formLoad=!1},e=>{this.$data.formLoad=!1})},formTrans(){const{ruleForm:e}=this.$data;var t={type:"contentCheck",setting:null},a={contentCheck_enable:e.enable?"1":"0",contentCheck_url:e.url,contentCheck_appid:e.appid,contentCheck_appsecret:e.appsecret};return t.setting=JSON.stringify(a),t},confirmHandle(){const e=this,{ruleForm:t}=this.$data;this.$refs.dataForm.validate(t=>{if(!t)return!1;var a=e.formTrans();(0,l.setUGCSetting)(a).then(e=>{var{message:t}=e.data.data;this.$message({type:"success",message:t})})})}}},r=(0,a(81656).A)(s,function(){var e=this,t=e._self._c;return t("SpPage",[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoad,expression:"formLoad"}],ref:"dataForm",staticClass:"point-form",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"140px"}},[t("el-row",[t("el-col",{attrs:{span:5}},[t("div",{staticClass:"p-title"},[e._v($t("3kecnl9","第三方审核对接设置","lang"))])]),t("el-col",{attrs:{span:19}},[t("div",{staticClass:"tips"},[e._v($t("hdvjl7g","请填写对接所需要的内容并点击保存","lang"))])])],1),t("el-card",{attrs:{shadow:"never"}},[t("el-row",[t("el-col",[t("el-form-item",{staticClass:"last-ipt",attrs:{label:$t("13w8o47","开启第三方审核","lang"),prop:"enable"}},[t("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:e.ruleForm.enable,callback:function(t){e.$set(e.ruleForm,"enable",t)},expression:"ruleForm.enable"}}),t("div",{staticClass:"tips unit"},[e._v($t("sd86urg","开启后用户的笔记首先会经过机审。","lang"))])],1)],1),t("el-col",[t("el-form-item",{staticClass:"last-ipt",attrs:{label:$t("bir23u7","API接入地址","lang"),prop:"url"}},[t("el-input",{staticClass:"mipt",attrs:{size:"small"},model:{value:e.ruleForm.url,callback:function(t){e.$set(e.ruleForm,"url",t)},expression:"ruleForm.url"}}),t("span",{staticClass:"tips unit"},[e._v($t("8szo7fd","内容检测API配置管理服务","lang"))])],1)],1),t("el-col",[t("el-form-item",{staticClass:"last-ipt",attrs:{label:"AccessKeyID",prop:"appid"}},[t("el-input",{staticClass:"mipt",attrs:{size:"small"},model:{value:e.ruleForm.appid,callback:function(t){e.$set(e.ruleForm,"appid",t)},expression:"ruleForm.appid"}})],1)],1),t("el-col",[t("el-form-item",{staticClass:"last-ipt",attrs:{label:"AccessKeySecret",prop:"appsecret"}},[t("el-input",{staticClass:"mipt",attrs:{size:"small"},model:{value:e.ruleForm.appsecret,callback:function(t){e.$set(e.ruleForm,"appsecret",t)},expression:"ruleForm.appsecret"}})],1)],1)],1)],1)],1),t("el-row",{staticClass:"btn-bar"},[t("el-col",[t("el-button",{attrs:{type:"primary"},on:{click:e.confirmHandle}},[e._v($t("iv7ii4"," 确认 ","lang"))])],1)],1)],1)},[],!1,null,"7cebc394",null).exports}}]);