"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[2818],{52818:function(t,e,a){a.r(e),a.d(e,{default:function(){return s}});var r=a(95353),n=a(5134),i={mixins:[a(77825).v8],data(){return{loading:!1,params:{order_id:"",mobile:"",start_time:"",end_time:"",activity_id:void 0}}},computed:{...(0,r.L8)(["wheight"])},mounted(){this.params.activity_id=this.$route.params.id,this.fetchList(this.params)},methods:{dateStrToTimeStamp(t){return Date.parse(new Date(t))/1e3},onReset(){this.params.start_time="",this.params.end_time="",this.onSearch()},dateChange(t){t?(this.params.start_time=this.dateStrToTimeStamp(t[0]+" 00:00:00"),this.params.end_time=this.dateStrToTimeStamp(t[1]+" 23:59:59")):(this.params.start_time="",this.params.end_time=""),this.page.pageIndex=1},fetchList(){this.loading=!0,(0,n.specificcrowddiscountList)(this.params).then(t=>{this.tableList=t.data.data.list,this.total_count=t.data.data.total_count,this.loading=!1})},handleCancel:function(){this.$router.go(-1)}}},s=(0,a(81656).A)(i,function(){var t=this,e=t._self._c;return e("div",[e("SpFilterForm",{attrs:{model:t.params},on:{onSearch:t.onSearch,onReset:t.onReset}},[e("SpFilterFormItem",{attrs:{prop:"order_id",label:$t("hymdzq4","订单号:","lang")}},[e("el-input",{model:{value:t.params.order_id,callback:function(e){t.$set(t.params,"order_id",e)},expression:"params.order_id"}})],1),e("SpFilterFormItem",{attrs:{prop:"mobile",label:$t("cttsc24","手机号:","lang")}},[e("el-input",{model:{value:t.params.mobile,callback:function(e){t.$set(t.params,"mobile",e)},expression:"params.mobile"}})],1),e("SpFilterFormItem",{attrs:{prop:"mobile",label:$t("3dapsk5","起始日期:","lang")}},[e("el-date-picker",{attrs:{size:"mini",type:"daterange","value-format":"yyyy/MM/dd",placeholder:$t("to1gvf6","选择日期范围","lang")},on:{change:t.dateChange},model:{value:t.datedata,callback:function(e){t.datedata=e},expression:"datedata"}})],1)],1),e("div",{staticClass:"action-container"},[e("el-button",{attrs:{type:"primary"},on:{click:t.handleCancel}},[t._v($t("m1m0m4"," 返回 ","lang"))])],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.tableList,height:t.wheight-150,border:""}},[e("el-table-column",{attrs:{prop:"order_id",label:$t("kuwys3","订单号","lang"),width:"170"}}),e("el-table-column",{attrs:{prop:"user_mobile",label:$t("ytf6465","会员手机号","lang"),width:"120"}}),e("el-table-column",{attrs:{prop:"specific_name",label:$t("j4abff4","针对人群","lang"),width:"120"}}),e("el-table-column",{attrs:{prop:"discount_fee",label:$t("ae1ayc4","优惠金额","lang"),width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.discount_fee/100))])]}}])}),e("el-table-column",{attrs:{prop:"action_type",label:$t("czr8e3","增/减","lang")},scopedSlots:t._u([{key:"default",fn:function(a){return["plus"==a.row.action_type?e("span",[t._v("+")]):"less"==a.row.action_type?e("span",[t._v($t("avpl3bc","-(订单已取消或已退款)","lang"))]):t._e()]}}])}),e("el-table-column",{attrs:{prop:"created",label:$t("ar84e54","创建时间","lang")},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t._f("formatTimestamp")(a.row.created)))])]}}])})],1),e("div",{staticClass:"mt-4 text-right"},[e("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","current-page":t.page.pageIndex,"page-sizes":[10,20,50],total:t.total_count,"page-size":t.page.pageSize},on:{"update:currentPage":function(e){return t.$set(t.page,"pageIndex",e)},"update:current-page":function(e){return t.$set(t.page,"pageIndex",e)},"current-change":t.onCurrentChange,"size-change":t.onSizeChange}})],1)],1)},[],!1,null,"035fd067",null).exports}}]);