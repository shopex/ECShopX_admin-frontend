"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[9640],{99640:function(e,t,a){a.r(t),a.d(t,{default:function(){return i}});a(18111),a(22489);var r=a(5134),l=a(98818),s={data(){return{form:{isOpenPromoterGrade:!1,upgrade:{stat_cycle:"total",filter:{children_num:!1,children_sales_amount:!1,grade_member:!1}},grade:{first_grade:{name:$t("io1tu3","等级一","lang"),grade_level:1},second_grade:{name:$t("io1xq3","等级二","lang"),grade_level:2},third_grade:{name:$t("io1u33","等级三","lang"),grade_level:3}}},vipGradeList:{},isChecked:0}},mounted(){(0,r.getPromoterGradeConfig)().then(e=>{e.data.data.upgrade&&(this.form=e.data.data)}),(0,l.listVipGrade)().then(e=>{null!=e&&e.data.data&&e.data.data.length>0&&(this.vipGradeList=e.data.data)}),this.isCheckedFun()},methods:{save(){this.isCheckedFun(),this.form.isOpenPromoterGrade&&3==this.isChecked?this.$message.error($t("u9l66sa","至少选择一项升级条件","lang")):(0,r.setPromoterGradeConfig)(this.form).then(e=>{this.$message({message:$t("aghf564","保存成功","lang"),type:"success"})})},isCheckedFun(){let e=this.form.upgrade.filter,t=Array();this.isChecked=0;for(let a in e)t[a]=e[a],t[a]||this.isChecked++}}},i=(0,a(81656).A)(s,function(){var e=this,t=e._self._c;return t("SpPage",{staticClass:"section section-white"},[t("el-form",{ref:"form",attrs:{model:e.form,"label-position":"right","label-width":"82px"}},[t("div",{staticClass:"section-body"},[t("el-form-item",{attrs:{label:$t("o947kx5","推广员等级","lang")}},[t("el-alert",{attrs:{title:$t("w2uwbf13","开启推广员等级后，推广员可以通过提升等级来建立自己的推广团队，并且获取团队奖金","lang"),type:"info","close-text":" "}}),t("el-switch",{attrs:{width:50,"active-value":"true","inactive-value":"false","inactive-color":"#ccc","active-text":$t("gmcv2","开启","lang"),"inactive-text":$t("eod62","关闭","lang"),"active-color":"#13ce66"},model:{value:e.form.isOpenPromoterGrade,callback:function(t){e.$set(e.form,"isOpenPromoterGrade",t)},expression:"form.isOpenPromoterGrade"}})],1),"true"==e.form.isOpenPromoterGrade?[t("el-form-item",{attrs:{label:$t("gkxtjt4","统计周期","lang")}},[t("el-alert",{attrs:{title:$t("8j3mce15","推广员升级的统计周期，累计或者月度统计（当月数据满足升级条件，不包含其他月份数据）","lang"),type:"info","close-text":" "}}),t("el-radio-group",{model:{value:e.form.upgrade.stat_cycle,callback:function(t){e.$set(e.form.upgrade,"stat_cycle",t)},expression:"form.upgrade.stat_cycle"}},[t("el-radio",{attrs:{label:"total"}},[e._v($t("jk9v24"," 累计 ","lang"))]),t("el-radio",{attrs:{label:"month_total"}},[e._v($t("4ad64g6"," 月度统计 ","lang"))])],1)],1),t("el-form-item",{attrs:{label:$t("b16k1h4","升级条件","lang")}},[t("el-checkbox",{attrs:{label:$t("2p153ja","直属下线数量达到X人","lang")},model:{value:e.form.upgrade.filter.children_num,callback:function(t){e.$set(e.form.upgrade.filter,"children_num",t)},expression:"form.upgrade.filter.children_num"}}),t("el-checkbox",{attrs:{label:$t("9ijfkbc","直属下线销售总额达到X元","lang")},model:{value:e.form.upgrade.filter.children_sales_amount,callback:function(t){e.$set(e.form.upgrade.filter,"children_sales_amount",t)},expression:"form.upgrade.filter.children_sales_amount"}}),t("el-checkbox",{attrs:{label:$t("3mtflya","成为指定付费等级会员","lang")},model:{value:e.form.upgrade.filter.grade_member,callback:function(t){e.$set(e.form.upgrade.filter,"grade_member",t)},expression:"form.upgrade.filter.grade_member"}})],1),t("el-form-item",{attrs:{label:$t("g31pz34","等级配置","lang")}},[t("el-alert",{attrs:{title:$t("kxeliit","等级一，等级二，等级三......为由低到高，等级一为最低","lang"),type:"info","close-text":" ",description:$t("vv2aov12","直接获取一级团队分红比例：表示推广员的直属上级为三级推广员，中间无二级推广员","lang")}}),t("el-row",{staticClass:"grade-setting-row",attrs:{gutter:20}},e._l(e.form.grade,function(a,r){return t("el-col",{key:r,staticClass:"grade-setting-col",attrs:{span:8}},[t("el-tag",[e._v(e._s(a.name))]),t("br"),t("span",{staticClass:"title"},[e._v($t("g2r9tt4","等级名称","lang"))]),t("el-input",{staticClass:"grade-setting-item",attrs:{placeholder:$t("fbjviy7","自定义等级名称","lang"),maxlength:30,minlength:1},model:{value:e.form.grade[r].custom_name,callback:function(t){e.$set(e.form.grade[r],"custom_name",t)},expression:"form.grade[key].custom_name"}}),a.grade_level>1?t("div",[t("span",{staticClass:"title"},[e._v($t("b16k1h4","升级条件","lang"))]),e.form.upgrade.filter.children_num?t("el-input",{staticClass:"grade-setting-item",attrs:{type:"number",required:"",min:"0"},model:{value:e.form.grade[r].children_num,callback:function(t){e.$set(e.form.grade[r],"children_num",t)},expression:"form.grade[key].children_num"}},[t("template",{slot:"append"},[e._v($t("na5hod8"," 直属下线数量 ","lang"))])],2):e._e(),e.form.upgrade.filter.children_sales_amount?t("el-input",{staticClass:"grade-setting-item",attrs:{type:"number",required:"",min:"0"},model:{value:e.form.grade[r].children_sales_amount,callback:function(t){e.$set(e.form.grade[r],"children_sales_amount",t)},expression:"form.grade[key].children_sales_amount"}},[t("template",{slot:"append"},[e._v($t("xn2nn2a"," 直属下线销售总额 ","lang"))])],2):e._e(),t("el-select",{directives:[{name:"show",rawName:"v-show",value:e.form.upgrade.filter.grade_member,expression:"form.upgrade.filter.grade_member"}],model:{value:e.form.grade[r].grade_member,callback:function(t){e.$set(e.form.grade[r],"grade_member",t)},expression:"form.grade[key].grade_member"}},e._l(e.vipGradeList,function(e){return t("el-option",{key:e.lv_type,attrs:{label:e.grade_name,value:e.lv_type}})}),1)],1):e._e(),2==a.grade_level?t("div",[t("span",{staticClass:"title"},[e._v($t("n037u86","团队分红比例","lang"))]),t("el-input",{staticClass:"grade-setting-item",attrs:{type:"number",required:"",min:"0"},model:{value:e.form.grade[r].first_ratio,callback:function(t){e.$set(e.form.grade[r],"first_ratio",t)},expression:"form.grade[key].first_ratio"}},[t("template",{slot:"append"},[e._v(" % ")])],2)],1):e._e(),3==a.grade_level?t("div",[t("span",{staticClass:"title"},[e._v($t("57l5nrc","直接获取一级团队分红比例","lang"))]),t("el-input",{staticClass:"grade-setting-item",attrs:{type:"number",required:"",min:"0"},model:{value:e.form.grade[r].first_ratio,callback:function(t){e.$set(e.form.grade[r],"first_ratio",t)},expression:"form.grade[key].first_ratio"}},[t("template",{slot:"append"},[e._v(" % ")])],2),t("span",{staticClass:"title"},[e._v($t("i9qciya","获取二级团队分红比例","lang"))]),t("el-input",{staticClass:"grade-setting-item",attrs:{type:"number",required:"",min:"0"},model:{value:e.form.grade[r].second_ratio,callback:function(t){e.$set(e.form.grade[r],"second_ratio",t)},expression:"form.grade[key].second_ratio"}},[t("template",{slot:"append"},[e._v(" % ")])],2)],1):e._e()],1)}),1)],1)]:e._e()],2),t("div",{staticClass:"section-footer with-border content-center"},[t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v($t("ako8wb5"," 保 存 ","lang"))])],1)])],1)},[],!1,null,null,null).exports}}]);