"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[4457],{84457:function(e,t,a){a.r(t),a.d(t,{default:function(){return s}});var i={name:"",data(){const e=this.$createElement;return{form:{order_cancel_time:15,order_finish_time:7,latest_aftersale_time:0,auto_refuse_time:0,auto_aftersales:!1,offline_aftersales:!1,is_refund_freight:!1},formList:[{label:$t("6uenoj6","订单自动取消","lang"),key:"order_cancel_time",component:()=>e("SpInput",{attrs:{prefix:$t("jf4v0r8","未付款订单，将在","lang"),suffix:$t("mvfkpp8","（分钟）之后取消","lang"),width:"100px"},model:{value:this.form.order_cancel_time,callback:e=>{this.$set(this.form,"order_cancel_time",e)}}}),validator:(e,t,a)=>{const{order_cancel_time:i}=this.form;i<5?a(new Error($t("7u5qd9g","订单自动取消时间需大于等于5分钟","lang"))):a()}},{label:$t("6ul1pj6","订单自动确认","lang"),key:"order_finish_time",component:()=>e("SpInput",{attrs:{prefix:$t("w1a1u58","已发货订单，将在","lang"),suffix:$t("8czvyg8","（天）后自动完成","lang"),width:"100px"},model:{value:this.form.order_finish_time,callback:e=>{this.$set(this.form,"order_finish_time",e)}}})},{label:$t("17kopx6","订单售后时效","lang"),key:"latest_aftersale_time",component:()=>e("SpInput",{attrs:{prefix:$t("66ik4ea","已确认收货订单，将在","lang"),suffix:$t("iq7mlwa","（天）后不可申请售后","lang"),width:"100px"},model:{value:this.form.latest_aftersale_time,callback:e=>{this.$set(this.form,"latest_aftersale_time",e)}}}),isShow:()=>!this.VERSION_IN_PURCHASE()},{label:$t("riiit78","售后自动驳回时效","lang"),key:"auto_refuse_time",component:()=>e("SpInput",{attrs:{prefix:$t("gn9cb3f","退货退款同意后未退回商品，将在","lang"),suffix:$t("bgzi5t8","（天）后驳回售后","lang"),width:"100px"},model:{value:this.form.auto_refuse_time,callback:e=>{this.$set(this.form,"auto_refuse_time",e)}}}),isShow:()=>!this.VERSION_IN_PURCHASE()},{label:$t("sykoe16","自动审批同意","lang"),key:"auto_aftersales",type:"switch",isShow:()=>!this.VERSION_IN_PURCHASE(),tip:$t("uhsjcrh","未发货订单申请退款是否自动审批同意","lang")},{label:$t("arqle64","到店退货","lang"),key:"offline_aftersales",type:"radio",options:[{label:!0,name:$t("eymx2","启用","lang")},{label:!1,name:$t("buism3","不启用","lang")}],isShow:()=>this.VERSION_STANDARD(),tip:$t("je304413","启用后，请前往店铺管理中设置到店退货信息，消费者申请退货退款时可选择到店退货。","lang")},{label:$t("r4496d9","退货退款时可退运费","lang"),key:"is_refund_freight",type:"radio",options:[{label:!0,name:$t("eymx2","启用","lang")},{label:!1,name:$t("buism3","不启用","lang")}],tip:$t("kgdm4dr","启用后，请前往店铺管理中设置退货退款时消费者可退运费。","lang")}]}},created(){this.fetch()},methods:{async fetch(){const e=await this.$api.trade.getOrderSetting();this.form={order_cancel_time:e.order_cancel_time,order_finish_time:e.order_finish_time,latest_aftersale_time:e.latest_aftersale_time,auto_refuse_time:e.auto_refuse_time,auto_aftersales:e.auto_aftersales,offline_aftersales:e.offline_aftersales,is_refund_freight:1==e.is_refund_freight}},async onSaveConfig(){const e=this.form;await this.$api.trade.setOrderSetting({...e,is_refund_freight:e.is_refund_freight?1:0,auto_aftersales:e.auto_aftersales?1:0}),this.$message.success($t("aghf564","保存成功","lang"))}}},s=(0,a(81656).A)(i,function(){var e=this,t=e._self._c;return t("SpPage",{staticClass:"page-order-order-setting",attrs:{title:$t("hywko34","订单设置","lang")}},[t("SpForm",{ref:"form",attrs:{"form-list":e.formList,submit:!1},on:{onSubmit:e.onSaveConfig},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),t("div",{staticClass:"text-center",attrs:{slot:"page-footer"},slot:"page-footer"},[t("el-button",{attrs:{type:"primary"},on:{click:()=>{e.$refs.form.handleSubmit()}}},[e._v($t("cp35x4"," 保存 ","lang"))])],1)],1)},[],!1,null,null,null).exports}}]);