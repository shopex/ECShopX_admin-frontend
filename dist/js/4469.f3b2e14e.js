"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[4469],{44469:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});a(44114),a(18111),a(7588);var s=a(31625),i=a(26456),l=a(56510),r={data(){return{chartData:{new_user:[],new_vip:[],new_svip:[]},realTimeData:{atv:{icon:"finance",label:$t("dts9w3","客单价","lang"),today:0,yesterday:0},refunded_fee:{icon:"tag-one",label:$t("im9oyy4","退款金额","lang"),today:0,yesterday:0},payed_fee:{icon:"expenses",label:$t("bw9c2u4","实付金额","lang"),today:0,yesterday:0},payed_orders:{icon:"shopping-cart-del",label:$t("dl9ajn5","实付订单数","lang"),today:0,yesterday:0},payed_members:{icon:"light-member",label:$t("dcea9k5","实付会员数","lang"),today:0,yesterday:0},aftersale_count:{icon:"date-comes-back",label:$t("ax7utf5","售后订单数","lang"),today:0,yesterday:0}},activeTab:"new_user",tabList:[{name:"new_user",label:$t("d73alg4","新增人数","lang")},{name:"new_vip",label:$t("hesre95","新增VIP","lang")},{name:"new_svip",label:$t("si373s6","新增SVIP","lang")}],themeColor:l.A.themeConfig.primaryColor,wait_delivery_count:0,aftersales_count:0,refund_errorlogs_count:0,warning_goods_count:0,started_seckill_count:0,started_gtoups_count:0}},mounted(){this.getCompanyStatistics()},methods:{async getCompanyStatistics(){const{member_data:t,notice_data:e,today_data:a,yesterday_data:s}=await this.$api.company.getCompanyStatistics();this.realTimeData.payed_fee.today=(0,i.$g)(a.real_payed_fee,!0,""),this.realTimeData.payed_fee.yesterday=(0,i.$g)(s.real_payed_fee,!0,""),this.realTimeData.payed_orders.today=a.real_payed_orders,this.realTimeData.payed_orders.yesterday=s.real_payed_orders,this.realTimeData.payed_members.today=a.real_payed_members,this.realTimeData.payed_members.yesterday=s.real_payed_members,this.realTimeData.atv.today=(0,i.$g)(a.real_atv,!0,""),this.realTimeData.atv.yesterday=(0,i.$g)(s.real_atv,!0,""),this.realTimeData.refunded_fee.today=(0,i.$g)(a.real_refunded_fee,!0,""),this.realTimeData.refunded_fee.yesterday=(0,i.$g)(s.real_refunded_fee,!0,""),this.realTimeData.aftersale_count.today=a.real_aftersale_count,this.realTimeData.aftersale_count.yesterday=s.real_aftersale_count,Object.keys(t).forEach(e=>{this.chartData.new_user.push({type:e.replace(/^\d{4}(\d{2})(\d{2})$/,"$1/$2"),sales:t[e].newAddMember}),this.chartData.new_vip.push({type:e.replace(/^\d{4}(\d{2})(\d{2})$/,"$1/$2"),sales:t[e].vipMember}),this.chartData.new_svip.push({type:e.replace(/^\d{4}(\d{2})(\d{2})$/,"$1/$2"),sales:t[e].svipMember})}),this.drawChart("new_user"),this.wait_delivery_count=e.wait_delivery_count,this.aftersales_count=e.aftersales_count,this.refund_errorlogs_count=e.refund_errorlogs_count,this.warning_goods_count=e.warning_goods_count,this.started_seckill_count=e.started_seckill_count,this.started_gtoups_count=e.started_gtoups_count},drawChart(t){this.columnPlot=new s.VP(document.getElementById("member-chart"),{data:this.chartData[t],xField:"type",yField:"sales",color:`l(90) 0:${(0,i.Ci)(l.A.themeConfig.primaryColor,1)} 1:${(0,i.Ci)(l.A.themeConfig.primaryColor,.5)}`}),this.columnPlot.render()},handleTabChange(t){this.columnPlot.changeData(this.chartData[t])}}},d=(0,a(81656).A)(r,function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-4"},[e("div",{staticClass:"grid grid-cols-3 gap-4"},t._l(t.realTimeData,function(a,s){return e("div",{key:s},[e("div",{staticClass:"flex flex-col bg-white rounded-lg px-6"},[e("div",{staticClass:"text-md text-card-foreground flex items-center py-4 gap-2 border-b"},[e("SpIcon",{attrs:{name:a.icon,size:"20",fill:t.themeColor}}),e("span",{staticClass:"text-[16px]"},[t._v(t._s(a.label))])],1),e("div",{staticClass:"py-6"},[e("div",{staticClass:"text-[28px] text-[#333] leading-10 font-[roboto]"},[t._v(t._s(a.today))]),e("div",{staticClass:"text-[14px] mt-2 leading-5 text-[#999]"},[t._v($t("fhed93","昨日：","lang")+t._s(a.yesterday))])])])])}),0),e("div",{staticClass:"mt-4 grid grid-cols-2 gap-4"},[e("div",{staticClass:"bg-white rounded-lg p-6 notice-box"},[e("div",{staticClass:"text-[18px] text-[#333]"},[t._v($t("iyk3k24","重要信息","lang"))]),e("div",{staticClass:"flex flex-col gap-6 py-6"},[e("div",{staticClass:"rounded-[8px] bg-[#f5f5f5] p-6"},[e("div",{staticClass:"text-[16px] text-[#333]"},[t._v($t("hyssdq4","订单相关","lang"))]),e("div",{staticClass:"flex gap-6 h-10 items-center"},[e("div",[e("span",{staticClass:"text-[#718096]"},[t._v($t("98eiok6","待发货订单：","lang"))]),e("span",{staticClass:"text-[#333] text-[20px]"},[t._v(t._s(t.wait_delivery_count))])]),e("div",[e("span",{staticClass:"text-[#718096]"},[t._v($t("7y33w56","待处理退款：","lang"))]),e("span",{staticClass:"text-[#333] text-[20px]"},[t._v(t._s(t.aftersales_count))])]),e("div",[e("span",{staticClass:"text-[#718096]"},[t._v($t("ayzbwb8","退款失败待处理：","lang"))]),e("span",{staticClass:"text-[#333] text-[20px]"},[t._v(t._s(t.refund_errorlogs_count))])])])]),e("div",{staticClass:"rounded-[8px] bg-[#f5f5f5] p-6"},[e("div",{staticClass:"text-[16px] text-[#333]"},[t._v($t("b46kty4","商品相关","lang"))]),e("div",{staticClass:"flex gap-6 h-10 items-center"},[e("div",[e("span",{staticClass:"text-[#718096]"},[t._v($t("usv0d47","库存预警商品：","lang"))]),e("span",{staticClass:"text-[#333] text-[20px]"},[t._v(t._s(t.warning_goods_count))])])])]),e("div",{staticClass:"rounded-[8px] bg-[#f5f5f5] p-6"},[e("div",{staticClass:"text-[16px] text-[#333]"},[t._v($t("haf03a4","营销相关","lang"))]),e("div",{staticClass:"flex gap-6 h-10 items-center"},[e("div",[e("span",{staticClass:"text-[#718096]"},[t._v($t("2q500s7","进行中的秒杀：","lang"))]),e("span",{staticClass:"text-[#333] text-[20px]"},[t._v(t._s(t.started_seckill_count))])]),e("div",[e("span",{staticClass:"text-[#718096]"},[t._v($t("2tk74k7","进行中的拼团：","lang"))]),e("span",{staticClass:"text-[#333] text-[20px]"},[t._v(t._s(t.started_gtoups_count))])])])])])]),e("div",{staticClass:"bg-white rounded-lg p-6"},[e("div",{staticClass:"flex justify-between items-center"},[e("div",{staticClass:"text-[18px] text-[#333]"},[t._v($t("yp1yut6","7天用户趋势","lang"))]),e("SpTabs",{attrs:{"tab-list":t.tabList},on:{change:t.handleTabChange},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}})],1),e("div",{staticClass:"h-[350px] mt-4",attrs:{id:"member-chart"}})])])])},[],!1,null,"86d5499c",null).exports}}]);