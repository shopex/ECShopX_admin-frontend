"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[2909],{2909:function(t,e,a){a.r(e),a.d(e,{default:function(){return n}});a(44114),a(18111),a(22489);var l=a(95353),i=a(71196),s=a(83731),r={components:{sideBar:i.A},data(){return{loading:!1,title:$t("pewx2","配置","lang"),show_sideBar:!1,detailTags:[{label:$t("cwisy3","商品名","lang"),value:"{goods_name}"},{label:$t("f1kb2","品牌","lang"),value:"{goods_brand}"},{label:$t("emut2","分类","lang"),value:"{goods_category}"},{label:$t("e04l2","价格","lang"),value:"{goods_price}"},{label:$t("lft72","简介","lang"),value:"{goods_brief}"}],listTags:[{label:$t("imiwxg5","搜索关键词","lang"),value:"{search_keywords}"},{label:$t("b40j3k4","商品分类","lang"),value:"{category}"},{label:$t("avcsbu4","分类路径","lang"),value:"{category_path}"},{label:$t("cx1hh3","商城名","lang"),value:"{shop_name}"}],tags:[],list:[{page:$t("agqj515","商品详情页","lang"),id:"detailTags"},{page:$t("ap0m2f5","商品列表页","lang"),id:"listTags"}],type:"",form:{title:"",mate_description:"",mate_keywords:""},tageArr:{title:[],mate_description:[],mate_keywords:[]}}},mounted(){},methods:{tagType(t,e){return-1==this.tageArr[t].findIndex(t=>t==e)?"":"danger"},handleEdit(t){this.show_sideBar=!0,this.resetData(),this.type=t.id,this.tags=this[t.id],this.title=t.page,this.getList()},handelClick(t,e){if(-1==this.tageArr[t].findIndex(t=>e.value==t)){this.tageArr[t].push(e.value);for(let t in this.tageArr)this.form[t]=this.tageArr[t].join(",")}else{this.tageArr[t]=this.tageArr[t].filter(t=>e.value!==t);for(let t in this.tageArr)this.form[t]=this.tageArr[t].join(",")}},resetData(){this.form={title:"",mate_description:"",mate_keywords:""},this.tageArr={title:[],mate_description:[],mate_keywords:[]}},save(){"detailTags"==this.type?(0,s.saveTdkgivensetDetail)(this.form).then(t=>{this.$message({type:"success",message:$t("d1spvi4","操作成功","lang")}),this.show_sideBar=!1}):(0,s.saveTdkgivensetList)(this.form).then(t=>{this.$message({type:"success",message:$t("d1spvi4","操作成功","lang")}),this.show_sideBar=!1}),this.resetData()},getList(){"detailTags"==this.type?(0,s.getTdkgivensetDetail)().then(t=>{let e=t.data.data;this.form=e;for(let t in e)e[t]?this.tageArr[t]=e[t].split(","):this.tageArr[t]=[]}):(0,s.getTdkgivensetList)().then(t=>{let e=t.data.data;this.form=e;for(let t in e)e[t]?this.tageArr[t]=e[t].split(","):this.tageArr[t]=[]})}},computed:{...(0,l.L8)(["wheight"])}},n=(0,a(81656).A)(r,function(){var t=this,e=t._self._c;return e("SpPage",[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{border:"",data:t.list,height:t.wheight-300,"element-loading-text":$t("go5gpa5","数据加载中","lang")}},[e("el-table-column",{attrs:{label:$t("hkxb2","操作","lang"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handleEdit(a.row)}}},[t._v($t("juz394"," 编辑 ","lang"))])]}}])}),e("el-table-column",{attrs:{prop:"page",label:$t("qrgt2","页面","lang")}})],1),e("sideBar",{attrs:{visible:t.show_sideBar,title:t.title},on:{"update:visible":function(e){t.show_sideBar=e}}},[e("el-form",[e("el-form-item",{attrs:{label:$t("fhojexd","\nTITLE(页面标题）","lang")}},[e("el-input",{attrs:{type:"textarea",rows:2,placeholder:$t("l72nr3","请选择","lang"),disabled:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form['title']"}}),e("div",t._l(t.tags,function(a,l){return e("el-tag",{key:l,attrs:{type:t.tagType("title",a.value)},on:{click:function(e){return t.handelClick("title",a)}}},[t._v(" "+t._s(a.label)+" ")])}),1)],1),e("el-form-item",{attrs:{label:$t("qmapa1o","\nMATE_DESCRIPTION(页面描述）","lang")}},[e("el-input",{attrs:{type:"textarea",rows:2,placeholder:$t("l72nr3","请选择","lang"),disabled:""},model:{value:t.form.mate_description,callback:function(e){t.$set(t.form,"mate_description",e)},expression:"form['mate_description']"}}),e("div",t._l(t.tags,function(a,l){return e("el-tag",{key:l,attrs:{type:t.tagType("mate_description",a.value)},on:{click:function(e){return t.handelClick("mate_description",a)}}},[t._v(" "+t._s(a.label)+" ")])}),1)],1),e("el-form-item",{attrs:{label:$t("bzb0upl","\nMATE_KEYWORDS (关键词）","lang")}},[e("el-input",{attrs:{type:"textarea",rows:2,placeholder:$t("l72nr3","请选择","lang"),disabled:""},model:{value:t.form.mate_keywords,callback:function(e){t.$set(t.form,"mate_keywords",e)},expression:"form['mate_keywords']"}}),e("div",t._l(t.tags,function(a,l){return e("el-tag",{key:l,attrs:{type:t.tagType("mate_keywords",a.value)},on:{click:function(e){return t.handelClick("mate_keywords",a)}}},[t._v(" "+t._s(a.label)+" ")])}),1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v($t("fk4a44"," 提交 ","lang"))])],1)],1)],1)],1)},[],!1,null,"d4cd61d4",null).exports}}]);