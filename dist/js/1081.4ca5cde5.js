"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[1081],{51081:function(a,t,i){i.r(t),i.d(t,{default:function(){return n}});var l={data(){const a=(a,t,i)=>{const{channel:l,wxapp:n,h5:e,app:o,aliapp:p,pc:s}=this.form;"multi"==l?n||e||o||p||s?i():i(new Error($t("2i9ss98","至少一项不能为空","lang"))):i()};return{form:{is_open:!1,channel:"single",common:"",wxapp:"",h5:"",app:"",aliapp:"",pc:"",is_distributor_open:!1},formList:[{label:$t("gjmjiy4","美洽客服","lang"),type:"group"},{label:$t("gjmjiy4","美洽客服","lang"),key:"is_open",type:"switch"},{label:$t("c9lmx44","平台客服","lang"),type:"group"},{label:$t("c9lmx44","平台客服","lang"),key:"channel",type:"radio",options:[{label:"single",name:$t("gc7cea4","统一配置","lang")},{label:"multi",name:$t("ogoqir5","按渠道配置","lang")}]},{label:$t("bzvs5u4","客服链接","lang"),key:"common",type:"input",tip:$t("s273bp1b","如实际运营中有多个客服人员接待咨询，建议配置为美洽客服组链接，在美洽客服组内添加客服人员坐席。","lang"),validator:(a,t,i)=>{const{channel:l,common:n}=this.form;"single"!=l||n?i():i(new Error($t("1vo2hq8","客服链接不能为空","lang")))},isShow:()=>"single"==this.form.channel},{label:$t("tf07z45","微信小程序","lang"),key:"wxapp",type:"input",validator:a,isShow:()=>"multi"==this.form.channel},{label:$t("1q1v94","H5商城","lang"),key:"h5",type:"input",validator:a,isShow:()=>"multi"==this.form.channel},{label:$t("11mccp5","APP商城","lang"),key:"app",type:"input",validator:a,isShow:()=>"multi"==this.form.channel},{label:$t("c57ypr6","支付宝小程序","lang"),key:"aliapp",type:"input",validator:a,isShow:()=>"multi"==this.form.channel},{label:$t("1sk7u95","PC网页版","lang"),key:"pc",type:"input",validator:a,isShow:()=>"multi"==this.form.channel},{label:$t("cjrkmm4","店铺客服","lang"),type:"group"},{label:$t("cl0jcj6","店铺独立客服","lang"),key:"is_distributor_open",type:"radio",options:[{label:!0,name:$t("el5j2","允许","lang")},{label:!1,name:$t("bu5b83","不允许","lang")}],tip:$t("cgwym52i","允许店铺配置独立客服时，请前往店铺管理中为店铺配置客服链接；如店铺未配置客服链接，则消费者咨询时将由平台客服接待。不允许店铺配置独立客服时，店铺里的消费者咨询将全部由平台客服接待。","lang")}]}},created(){this.fetch()},methods:{async fetch(){const{channel:a,is_distributor_open:t,meiqia_url:i,is_open:l}=await this.$api.im.getMeiqiaInfo(),{common:n,wxapp:e,h5:o,app:p,aliapp:s,pc:r}=i;this.form={is_open:l,channel:a,common:n,wxapp:e,h5:o,app:p,aliapp:s,pc:r,is_distributor_open:t}},async onSaveConfig(){await this.$api.im.saveMeiqia(this.form),this.$message.success($t("aghf564","保存成功","lang"))}}},n=(0,i(81656).A)(l,function(){var a=this,t=a._self._c;return t("SpPage",[a.VERSION_SHUYUN()?a._e():t("SpPlatformTip",{attrs:{h5:"",app:"",alipay:""}}),t("SpForm",{ref:"form",staticClass:"meiqia-config",attrs:{"form-list":a.formList,submit:!1},on:{onSubmit:a.onSaveConfig},model:{value:a.form,callback:function(t){a.form=t},expression:"form"}}),t("div",{staticClass:"footer-container"},[t("el-button",{attrs:{type:"primary"},on:{click:()=>{this.$refs.form.handleSubmit()}}},[a._v($t("cp35x4"," 保存 ","lang"))])],1)],1)},[],!1,null,null,null).exports}}]);