"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[3586],{73586:function(e,t,o){o.r(t),o.d(t,{default:function(){return s}});var a={data(){return{loading:!1,form:{app_key:"",app_secret:"",access_token:"",shop_id:"",is_open:!0}}},mounted(){this.getConfig()},methods:{handleClick(){this.getConfig()},getConfig(){this.$api.third.getJstErpSetting().then(e=>{this.form=e})},onSubmit(){this.loading=!0,this.$api.third.setJstErpSetting(this.form).then(e=>{this.$message({type:"success",message:$t("aghf564","保存成功","lang")}),this.loading=!1}).catch(e=>{this.loading=!1})},handleBind(){this.form.oauth_url&&window.open(this.form.oauth_url,"_blank")},onCopy(){this.$notify.success({message:$t("bkv2mw4","复制成功","lang"),showClose:!0})}}},s=(0,o(81656).A)(a,function(){var e=this,t=e._self._c;return t("SpPage",[t("el-form",{ref:"form",attrs:{"label-width":"100px"}},[t("el-form-item",{attrs:{label:$t("ddb3r16","店铺消息推送","lang")}},[e._v(" "+e._s(e.form.shop_callback_url)+" "),t("el-tag",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.form.shop_callback_url,expression:"form.shop_callback_url",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}]},[e._v($t("skvt416"," 点我复制 ","lang"))])],1),t("el-form-item",{attrs:{label:$t("cjxhyc4","店铺编号","lang")}},[t("el-input",{staticStyle:{width:"300px"},model:{value:e.form.shop_id,callback:function(t){e.$set(e.form,"shop_id",t)},expression:"form.shop_id"}}),t("br")],1),e.form.oauth_url?t("el-form-item",{attrs:{label:"accessToken"}},[e.form.access_token?t("el-button",{attrs:{type:"flex"},on:{click:e.handleBind}},[e._v($t("4r5k2x6"," 更新授权 ","lang"))]):t("el-button",{attrs:{type:"flex"},on:{click:e.handleBind}},[e._v($t("bgukwa5"," 去授权 ","lang"))])],1):e._e(),t("el-form-item",{attrs:{label:$t("d8pu5s4","是否启用","lang")}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.is_open,callback:function(t){e.$set(e.form,"is_open",t)},expression:"form.is_open"}})],1),t("div",{staticClass:"section-footer with-border content-center"},[t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v($t("cp35x4"," 保存 ","lang"))])],1)],1)],1)},[],!1,null,"1bab2edb",null).exports}}]);