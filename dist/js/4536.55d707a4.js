"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[4536],{54536:function(e,a,t){t.r(a),t.d(a,{default:function(){return r}});var n={data(){return{loading:!1,lock:!1,formItems:[{component:"input",componentProps:{placeholder:$t("29aecn9","请输入appKey","lang"),clearable:!0},fieldName:"app_key",formItemClass:"w-2/4",label:"appKey",rules:[{required:!0,message:$t("29aecn9","请输入appKey","lang"),trigger:"blur"}]},{component:"input",componentProps:{placeholder:$t("6ajaw8c","请输入appSecret","lang"),clearable:!0},fieldName:"app_secret",formItemClass:"w-2/4",label:"appSecret",rules:[{required:!0,message:$t("6ajaw8c","请输入appSecret","lang"),trigger:"blur"}]},{component:"input",componentProps:{placeholder:$t("n8ekqn7","请输入企业标识","lang"),clearable:!0},fieldName:"ent_sign",formItemClass:"w-2/4",label:$t("aaog484","企业标识","lang"),rules:[{required:!0,message:$t("n8ekqn7","请输入企业标识","lang"),trigger:"blur"}]},{fieldName:"is_open",label:$t("d8pu5s4","是否启用","lang"),component:"switch",value:!1,componentProps:{activeColor:"#13ce66",inactiveColor:"#ff4949"}}],formData:{app_key:"",app_secret:"",ent_sign:"",is_open:!1}}},mounted(){this.getConfig()},methods:{async getConfig(){this.loading=!0;try{const e=await this.$api.third.getDmcrmSetting();this.form.app_key=e.data.data.app_key,this.form.app_secret=e.data.data.app_secret,this.form.ent_sign=e.data.data.ent_sign,this.form.is_open=!!e.data.data.is_open,this.loading=!1}catch(e){this.loading=!1}},async handleSubmit(e){try{await this.$api.third.setDmcrmSetting(e),this.$message.success($t("hihfp5c","更新成功，重新登录后生效","lang"))}catch(e){}}}},r=(0,t(81656).A)(n,function(){var e=this,a=e._self._c;return a("SpPage",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("SpFormPlus",{ref:"crmform",attrs:{"form-type":"normalForm","form-items":e.formItems,"label-width":"100px"},on:{submit:e.handleSubmit},model:{value:e.formData,callback:function(a){e.formData=a},expression:"formData"}})],1)},[],!1,null,null,null).exports}}]);