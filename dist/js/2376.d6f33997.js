"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[2376],{39995:function(t,a,e){e.r(a),e.d(a,{default:function(){return p}});var s=e(95353),r=e(25159),l=e(77944),i={components:{shopSelect:r.default},data(){return{loading:!1,profitType:[{value:1,label:$t("gf5d2","导购","lang")},{value:2,label:$t("gwn72","店铺","lang")}],currentShop:"",list:[],total_count:0,params:{page:1,pageSize:20,profitType:1,distributor:"",salesperson:"",dealer:""}}},computed:{...(0,s.L8)(["wheight"])},mounted(){this.getList()},methods:{handleCurrentChange(t){this.params.page=t,this.getList()},handleSizeChange(t){this.params.page=1,this.params.pageSize=t,this.getList()},listSearch(){this.params.page=1,this.getList()},getList(){this.loading=!0,(0,l.getProfitStatistics)(this.params).then(t=>{this.list=t.data.data.list,this.total_count=t.data.data.total_count,this.loading=!1})},exportData(t){this.params.type=t,"profit_distributor"==t?this.params.profit_user_type=2:"profit_salesperson"==t?this.params.profit_user_type=1:"profit_agent"==t&&(this.params.profit_user_type=3),this.params.page=1,(0,l.profitExport)(this.params).then(t=>t.data.data.status?void this.$message({type:"success",message:$t("xdh90kk","已加入执行队列，请在设置-导出列表中下载","lang")}):t.data.data.url?(this.downloadUrl=t.data.data.url,this.downloadName=t.data.data.filename,void(this.downloadView=!0)):void this.$message({type:"error",message:$t("d17rj2j","无内容可导出 或 执行失败，请检查重试","lang")}))},handleSizeChange(t){this.params.page=1,this.params.pageSize=t,this.getList()}}},p=(0,e(81656).A)(i,function(){var t=this,a=t._self._c;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",[a("el-select",{attrs:{placeholder:$t("l72nr3","请选择","lang")},model:{value:t.params.profitType,callback:function(a){t.$set(t.params,"profitType",a)},expression:"params.profitType"}},t._l(t.profitType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),a("el-date-picker",{attrs:{type:"month","value-format":"yyyyMM",placeholder:$t("lkvt43","选择月","lang")},model:{value:t.params.date,callback:function(a){t.$set(t.params,"date",a)},expression:"params.date"}}),1==t.params.profitType?a("el-input",{staticClass:"input-m",attrs:{placeholder:$t("2j9q1y5","请输入导购","lang")},model:{value:t.params.salesperson,callback:function(a){t.$set(t.params,"salesperson",a)},expression:"params.salesperson"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.listSearch},slot:"append"})],1):t._e(),2==t.params.profitType?a("el-input",{staticClass:"input-m",attrs:{placeholder:$t("2j98k45","请输入店铺","lang")},model:{value:t.params.distributor,callback:function(a){t.$set(t.params,"distributor",a)},expression:"params.distributor"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.listSearch},slot:"append"})],1):t._e()],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-button-group",[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.exportData("profit_salesperson")}}},[t._v($t("7e6ett8"," 导出导购分润 ","lang"))]),a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.exportData("profit_distributor")}}},[t._v($t("ewchqr8"," 导出门店分润 ","lang"))])],1)],1)],1),a("el-card",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.list}},[a("el-table-column",{attrs:{prop:"name",label:$t("cea7aj6","分润对象名称","lang"),"min-width":"240"}}),a("el-table-column",{attrs:{prop:"withdrawals_fee",label:$t("at7jv04","分润金额","lang"),"min-width":"240"}}),a("el-table-column",{attrs:{prop:"date",label:$t("at02se4","分润时间","lang"),"min-width":"240"}})],1),a("div",{staticClass:"mt-4 text-right"},[a("el-pagination",{attrs:{background:"","current-page":t.params.page,"page-sizes":[10,20,50,100],"page-size":t.params.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total_count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)},[],!1,null,"76e27d14",null).exports}}]);