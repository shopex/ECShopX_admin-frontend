"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[9697],{29697:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});a(18111),a(22489),a(44114),a(20116),a(7588);var s=a(64916),i=a(88160),l=a(95353),n=a(91142),r=(a(85135),a(5134)),o=a(2038),d=a(98818),c=a(25159),g=(a(71710),a(33318)),p={components:{shopSelect:c.default,exportTip:s.default,aliyunsmsDialog:i.default},data(){return{editSuperiorVisible:!1,modalLoading:!1,paramsModal:{page:1,pageSize:14,mobile:""},identifierModal:"",modalList:[],modal_total_count:0,aliyunsms_status:!1,aliyunsmsDialogVisible:!1,aliyunsmsDialogInfo:{type:"add"},roleList:g.oc,panel:{search:!1},isEditRemarks:!1,loading:!1,mobile:"",total_count:0,memberData:[],vipGradeDelay:{vip_grade_id:"",add_day:0,filter:"users"},levelData:[],user_id:[],dialogTitle:"",dialogIsShow:!1,card_type:"all",staffCoupons:{dialog:!1,temp:[],list:[],checked:[],page:{pageSize:20,currentPage:1,total:0}},remarksForm:{user_id:"",title:"",label:"",placeholder:"",type:"",input:""},gradeForm:{user_id:"",grade_id:"",old_grade_id:"",remarks:""},smsUserData:[],sms_content:"",tag:{dialog:!1,editUser:[],list:[],form:{tag_ids:[],user_ids:[]},currentTags:[],tags:[]},editMobileDialog:!1,form:{oldMobile:"",user_id:"",newMobile:""},page:{pageIndex:1,pageSize:20,total:0},params:{vip_grade:"",tag_id:"",mobile:"",have_consume:"",role:""},operateLog:[],currentShop:"",salesman:[],loadingSalesman:!1,salesmanPaging:{name:"",mobile:"",page:1,pageSize:10,total_count:0},salesperson_id:"",salesperson_name:"",salesperson_mobile:"",is_batch:!1,currentDistributor:"",downloadView:!1,downloadUrl:"",downloadName:"",wxShopsList:[],distributorShopList:[],performInit:!1,created:"",pickerOptions:{shortcuts:[{text:$t("dl4oop4","最近一周","lang"),onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:$t("4znkgj5","最近一个月","lang"),onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:$t("4zndsa5","最近三个月","lang"),onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},sexoption:[{value:"0",label:$t("i7ej2","未知","lang")},{value:"1",label:$t("n5j1","男","lang")},{value:"2",label:$t("ho31","女","lang")}],membersSetting:[],basicInfo:{user_id:"",username:"",sex:"",birthday:"",address:"",email:"",industry:"",income:"",edu_background:"",habbit:[]},datapass_block:1,gradeList:[],vipGrade:[],dmcrmIsOpen:!1}},computed:{...(0,l.L8)(["isMicorMall","login_type"])},mounted(){const{salesman_mobile:e,wechat_nickname:t,mobile:a,orderRecords:s,grade_id:i,currentPage:l}=this.$route.query;this.params.salesman_mobile=e,t&&(this.params.wechat_nickname=t),a&&(this.params.mobile=a),s&&(this.params.have_consume=s),i&&(this.params.grade_id=i),l&&(this.page.pageIndex=Number(l)),this.getMembers(),this.getAllTagLists(),this.getGradeList(),this.getShopsList(),(0,n.getMemberRegisterSetting)().then(e=>{delete e.data.data.content_agreement,this.membersSetting=e.data.data.setting}),this.getAliSMS(),this.$api.third.getDmcrmSetting().then(e=>{this.dmcrmIsOpen=e.is_open})},methods:{async getAliSMS(){const{aliyunsms_status:e}=await this.$api.sms.getaliSmsStatus();this.aliyunsms_status=e},gradeUpdate(e){this.params.action_type="set_grade",this.dialogTitle=$t("ax89mu8","修改指定会员等级","lang"),this.dialogIsShow=!0,this.gradeForm.user_id=e.user_id,this.gradeForm.grade_id=e.grade_id,this.gradeForm.old_grade_id=e.grade_id,this.gradeForm.remarks=e.remarks,this.is_batch=!1},infoUpdate(e){this.params.action_type="basic_info",this.dialogTitle=$t("wuma658","修改会员基础信息","lang"),this.dialogIsShow=!0,this.basicInfo.user_id=e.user_id,this.basicInfo.username=e.username,this.basicInfo.mobile=e.mobile,this.basicInfo.sex=e.sex,this.basicInfo.birthday=e.birthday,this.basicInfo.address=e.address,this.basicInfo.email=e.email,this.basicInfo.industry=e.industry,this.basicInfo.income=e.income,this.basicInfo.edu_background=e.edu_background;let t=[];e.habbit.forEach(e=>{e&&"true"==e.ischecked&&t.push(e.name)}),this.basicInfo.habbit=t;for(let a in this.membersSetting)for(let s in e)a==s&&(this.membersSetting[a].value=e[s],"habbit"==a&&(this.membersSetting[a].value=t))},infoUpdateSubmit(){(0,n.updateMemberBasicInfo)(this.basicInfo).then(e=>{this.$message({type:"success",message:$t("ai8d7e4","修改成功","lang")}),this.getMembers(),this.dialogIsShow=!1})},gradeUpdateSubmit(){this.gradeForm.grade_id?!1===this.is_batch?(0,n.updateMemberGrade)(this.gradeForm).then(e=>{this.$message({type:"success",message:$t("ai8d7e4","修改成功","lang")}),this.getMembers(),this.dialogIsShow=!1}):(this.params.grade_form=JSON.stringify(this.gradeForm),this.batchAction($t("dgiecwe","是否给全部会员指定会员等级?","lang"))):this.$message({type:"error",message:$t("foalkp6","没有指定等级","lang")})},editRemarks(){let e={user_id:this.remarksForm.user_id};"remarks"==this.remarksForm.type?e.remarks=this.remarksForm.input:e.name=this.remarksForm.input,(0,n.updateMemberInfo)({...e}).then(e=>{this.$message({type:"success",message:$t("deua4r4","更新成功","lang")}),this.isEditRemarks=!1,this.getMembers()})},isEdit(e,t){this.isEditRemarks=!0,this.remarksForm="remarks"==t?{user_id:e.user_id,title:$t("7xy53e6","修改会员备注","lang"),label:$t("fqo12","备注","lang"),placeholder:$t("2jaeja5","请输入备注","lang"),type:"remarks",input:e.remarks}:{user_id:e.user_id,title:$t("x956r97","修改会员用户名","lang"),label:$t("hmxge3","用户名","lang"),placeholder:$t("7grhuz6","请输入用户名","lang"),type:"name",input:e.name}},getRowKeys(e){return`${e.user_id}${e.shop_id}`},submitSelected(){this.staffCoupons.dialog=!1,this.staffCoupons.checked=this.staffCoupons.temp;let e=[];for(var t=0;t<this.staffCoupons.checked.length;t++)e.push(this.staffCoupons.checked[t].card_id);this.staffCoupons.temp=[],this.params.couponsids=e,this.params.action_type="give_coupon",this.batchAction($t("qjpnw0d","是否给全部会员赠送优惠券?","lang"))},handleCancelLabelsDialog(){this.tag.dialog=!1,this.editMobileDialog=!1,this.isEditRemarks=!1,this.dialogIsShow=!1},handleSalesmanChange(e){this.salesperson_id=e.salesperson_id},handleSelectionChange(e){this.user_id=[],e&&e.forEach(e=>{e&&this.user_id.push(e.user_id)})},handleCurrentChange(e){this.page.pageIndex=e,this.getMembers()},handleSizeChange(e){this.page.pageSize=e,this.getMembers()},getParams(){this.currentShop?this.params.shop_id=this.currentShop:this.params.shop_id="",this.currentDistributor?this.params.distributor_id=this.currentDistributor:this.params.distributor_id=""},onReset(){this.created="",this.params.time_start_begin="",this.params.time_start_end="",this.onSearch()},onSearch(){this.page.pageIndex=1,this.$nextTick(()=>{this.getMembers()})},async getMembers(){this.loading=!0;const{pageIndex:e,pageSize:t}=this.page;let a={page:e,pageSize:t,...this.params};const{list:s,total_count:i,datapass_block:l}=await this.$api.member.getMembers(a);this.memberData=s,this.datapass_block=l,this.page.total=i,this.loading=!1},async getGradeList(){const e=await this.$api.membercard.getGradeList(),t=await this.$api.cardticket.listVipGrade(),a=[];e.forEach(({grade_id:e,grade_name:t})=>{a.push({grade_id:e,grade_name:t})}),this.VERSION_SHUYUN()||t.forEach(({vip_grade_id:e,grade_name:t,lv_type:s})=>{a.push({grade_id:s,grade_name:t})}),this.gradeList=e,this.vipGrade=t,this.levelData=a},async getAllTagLists(){const{list:e}=await this.$api.member.getTagList({page:1,page_size:500});this.tag.list=e},async getShopsList(){const{list:e}=await this.$api.shop.getWxShopsList({page:1,pageSize:500,is_disabled:!1});this.wxShopsList=e},showGrade(e,t){if(t){const e=this.levelData.find(e=>e.grade_id==t);return e&&e.grade_name}{const t=this.levelData.find(t=>t.grade_id==e);return t&&t.grade_name}},getDetail(e){let t=!1;try{t=/\/shopadmin/.test(document.location.pathname)}catch(e){}this.$router.push({path:`${this.$route.path}/detail`,query:{user_id:e,mobile:this.params.mobile,orderRecords:this.params.have_consume,grade_id:this.params.grade_id,currentPage:this.page.pageIndex}})},getCoupons(){this.staffCoupons.loading=!0,(0,d.getEffectiveCardList)({page_no:this.staffCoupons.page.currentPage,page_size:this.staffCoupons.page.pageSize,card_type:this.card_type}).then(e=>{for(var t=e.data.data.list,a=0;a<t.length;a++)for(var s=0;s<this.staffCoupons.temp.length;s++)t[a].card_id===this.staffCoupons.temp[s].card_id&&(t[a].checked=!0);this.staffCoupons.list=t,this.staffCoupons.page.total=e.data.data.total_count,this.staffCoupons.loading=!1})},salesmanSearch(){this.loadingSalesman=!0,(0,o.getSalesmanList)({salesman_name:this.salesmanPaging.name,mobile:this.salesmanPaging.mobile,page:this.salesmanPaging.page,pageSize:this.salesmanPaging.pageSize}).then(e=>{this.salesman=e.data.data.list,this.salesperson_id="",this.salesmanPaging.total_count=e.data.data.total_count,this.loadingSalesman=!1})},handleVipGradeDelay(e=!1){if(e){if(this.vipGradeDelay.add_day<=0)return void this.$message({type:"error",message:$t("4aqn40a","请输入正确的延期天数","lang")});"users"==this.vipGradeDelay.filter&&(this.params.user_id=this.user_id),this.params.vip_grade_form=JSON.stringify(this.vipGradeDelay),this.batchAction($t("m21spyg","是否给全部会员进行付费会员延期?","lang"))}else{if(this.params.action_type="vip_delay",this.dialogTitle=$t("wpteq06","付费会员延期","lang"),this.vipGrade.length<=0)return void this.$message({type:"error",message:$t("hbrgqp5","无付费会员","lang")});this.dialogIsShow=!0,this.vipGradeDelay.vip_grade_id=this.vipGrade[0].vip_grade_id}},checkNum(){this.sms_content.length>67&&this.$alert($t("g1bs0gl","当前短信内容字数超出67，将会分成多条发送","lang"),"",{confirmButtonText:$t("kzjg2","确定","lang")})},onSmsSends(){this.sms_content?(this.params.sms_content=this.sms_content,this.user_id.length>0?this.$confirm($t("79raj0c","确定发送该条短信给会员?","lang"),$t("hn562","提示","lang"),{confirmButtonText:$t("kzjg2","确定","lang"),cancelButtonText:$t("ev022","取消","lang"),type:"warning"}).then(()=>{this.params.action_type="send_sms",this.batchAction($t("79raj0c","确定发送该条短信给会员?","lang"))}).catch(()=>{this.$message({type:"info",message:$t("n78apg5","已取消发送","lang")})}):(this.params.action_type="send_sms",this.batchAction($t("ahn3hib","是否给全部会员发短信?","lang")))):this.$message({type:"error",message:$t("md2d8o8","短信内容不能为空","lang")})},addMemberTag(){this.params.action_type="rel_tag",this.tag.dialog=!0},tagRemove(e){this.tag.tags.unshift(this.tag.currentTags[e]),this.tag.currentTags.splice(e,1)},tagAdd(e,t){-1==this.tag.currentTags.findIndex(t=>t.tag_id==e.tag_id)&&(this.tag.currentTags.push(e),this.tag.tags.splice(t,1))},submitMemberTag(){this.params.tag_ids=[],this.params.user_id=[],this.tag.currentTags.forEach(e=>{this.params.tag_ids.push(e.tag_id)}),this.params.tag_ids.length<=0?this.$message({type:"error",message:$t("lallb76","没有选中标签","lang")}):(this.dialogIsShow=!1,this.batchAction($t("8pw13fb","是否给全部会员打标签?","lang")))},clearParams(){this.params.user_id=void 0,this.params.grade_form=void 0,this.params.action_type=void 0},batchAction(e){if(this.user_id.length>0){this.params.user_id=this.user_id;let e=JSON.parse(JSON.stringify(this.params));(0,n.batchOperating)(e).then(e=>{e.data.data.status&&(this.dialogIsShow=!1,this.$message({type:"success",message:e.data.data.msg}),this.clearParams(),this.getGradeList(),this.getMembers())})}else this.$confirm(e,$t("hn562","提示","lang"),{confirmButtonText:$t("kzjg2","确定","lang"),cancelButtonText:$t("ev022","取消","lang"),type:"warning"}).then(()=>{let e=JSON.parse(JSON.stringify(this.params));(0,n.batchOperating)(e).then(e=>{e.data.data.status&&(this.dialogIsShow=!1,this.$message({type:"success",message:e.data.data.msg}),this.getGradeList(),this.getMembers()),this.params.tag_ids=[],this.params.couponsids=[],this.params.couponsids=[],this.params.user_id=[]})}).catch(()=>{this.$message({type:"info",message:$t("e68dg3","已取消","lang")}),this.params.tag_ids=[],this.params.couponsids=[],this.params.couponsids=[],this.params.user_id=[]})},editMobile(e){this.editMobileDialog=!0,this.form.oldMobile=e.mobile,this.form.user_id=e.user_id,this.form.username=e.username,this.form.newMobile="",this.getOperateLog(e.user_id)},onEditMobileSubmit(){this.form.newMobile?this.$confirm($t("6u3n3ac","确定要修改该会员手机号？","lang"),$t("hn562","提示","lang"),{cancelButtonText:$t("ev022","取消","lang"),confirmButtonText:$t("kzjg2","确定","lang"),type:"warning",beforeClose:(e,t,a)=>{"confirm"===e&&(0,n.updateMemberMobile)(this.form).then(e=>{this.$message({type:"success",message:$t("viu5907","修改手机号成功","lang")}),this.getMembers(),this.editMobileDialog=!1}),a()}}):this.$message({type:"error",message:$t("sg9npe7","请填写手机号码","lang")})},getOperateLog(e){var t={user_id:e};(0,n.getMemberOperateLog)(t).then(e=>{this.operateLog=e.data.data.list})},storeHandle(e){e&&e.shop_id,this.currentDistributor=e.shop_id,this.currentShop="",this.currentPage=1,this.getMembers()},init(){this.params.mobile="",this.params.have_consume="",this.params.vip_grade="",this.params.grade_id="",this.params.tag_id="",this.params.inviter_mobile="",this.created="",this.params.remarks="",this.params.username="",this.params.salesman_mobile="",this.currentShop="",this.getMembers()},shopHandle(e){this.performInit=!0,this.currentStore="",this.currentShop=e,this.currentPage=1,this.getMembers()},exportData(){this.currentPage=1,(0,n.memberExport)(this.params).then(e=>{if(e.data.data.status)return this.$message({type:"success",message:$t("xdh90kk","已加入执行队列，请在设置-导出列表中下载","lang")}),void this.$export_open("member");e.data.data.url?(this.downloadUrl=e.data.data.url,this.downloadName=e.data.filename,this.downloadView=!0):this.$message({type:"error",message:$t("d17rj2j","无内容可导出 或 执行失败，请检查重试","lang")})})},dateChange(e){e&&e.length>0?(this.params.time_start_begin=this.dateStrToTimeStamp(e[0]+" 00:00:00"),this.params.time_start_end=this.dateStrToTimeStamp(e[1]+" 23:59:59")):(this.params.time_start_begin="",this.params.time_start_end="")},dateStrToTimeStamp(e){return Date.parse(new Date(e))/1e3},panelCollapse(e){this.panel[e]=!this.panel[e]},acitonDisabled(e,t){if(!0===t.is_disabled){var a=$t("3pve4rg","此操作将会禁用该会员，是否继续?","lang");this.$confirm(a,$t("hn562","提示","lang"),{confirmButtonText:$t("kzjg2","确定","lang"),cancelButtonText:$t("ev022","取消","lang"),type:"warning"}).then(()=>{let e={user_id:t.user_id,disabled:t.disabled};(0,n.updateMemberInfo)(e).then(e=>{this.getMembers()})})}else{let e={user_id:t.user_id,disabled:t.disabled};(0,n.updateMemberInfo)(e).then(e=>{this.getMembers()})}},switchChief(e,t){if(1==t.is_chief){var a=$t("rrsepif","此操作将设置为团长，是否继续?","lang");this.$confirm(a,$t("hn562","提示","lang"),{confirmButtonText:$t("kzjg2","确定","lang"),cancelButtonText:$t("ev022","取消","lang"),type:"warning"}).then(()=>{let e={user_id:t.user_id,distributor_ids:[this.$store.getters.shopId]};(0,n.setCheif)(e).then(e=>{this.getMembers()})})}else this.$message({type:"error",message:$t("5rzc1eb","取消团长，请联系管理员","lang")}),this.getMembers()},async relTagDelEvent(e,t){await this.$api.member.usersRelTagsDel({tag_id:e,user_id:t}),this.$message({type:"success",message:$t("ai8d7e4","修改成功","lang")}),this.getMembers()},changeStaffCouponsPage(e){this.staffCoupons.page.currentPage=e,this.getCoupons()},selectStaffItems(e){if(e.checked){for(var t=0;t<this.staffCoupons.temp.length;t++)this.staffCoupons.temp[t].card_id===e.card_id&&this.staffCoupons.temp.splice(t,1);for(t=0;t<this.staffCoupons.list.length;t++)this.staffCoupons.list[t].card_id===e.card_id&&(this.staffCoupons.list[t].checked=!1)}else{for(t=0;t<this.staffCoupons.list.length;t++)this.staffCoupons.list[t].card_id===e.card_id&&(this.staffCoupons.list[t].checked=!0);this.staffCoupons.temp.push(e)}},editSuperior(e){this.editSuperiorVisible=!0,this.row=e,this.identifierModal="",this.numberSearchModal()},submitSuperiorAction(){this.editPopularizeRemoveFun(),this.editSuperiorVisible=!1},handleCancelSuperior(){this.editSuperiorVisible=!1},numberSearchModal(e){this.paramsModal.page=1,this.paramsModal.mobile=this.identifierModal,this.getPopularizeListModalFun(this.paramsModal)},getPopularizeListModalFun(e){this.modalLoading=!0,(0,r.getPopularizeList)(e).then(e=>{this.modalList=e.data.data.list,this.modal_total_count=Number(e.data.data.total_count),this.modalLoading=!1})},handleCurrentChangeUpLV(e){e&&e.user_id&&(this.currentRow=e.user_id)},editPopularizeRemoveFun(){(0,r.editPopularizeRemove)({user_id:this.row.user_id,new_user_id:this.currentRow}).then(e=>{this.message=$t("btgue3","上下级","lang"),this.loading=!1,this.$message({message:$t("ode92","调整","lang")+this.message+$t("h4sv2","成功","lang"),type:"success",duration:5e3}),this.fetchList()})},handleModalPage(e){this.paramsModal.page=e,this.getPopularizeListModalFun(this.paramsModal)},batchActionDialog(e){this.params.action_type=e,"send_sms"==e&&this.aliyunsms_status?this.switchAliyunsmsDialog(!0):(this.dialogIsShow=!0,"rel_tag"==e?(this.dialogTitle=$t("52i4u6","为会员打标签","lang"),this.tag.currentTags=[],this.tag.tags=[...this.tag.list],this.tag.tags.forEach((e,t)=>{-1!=this.tag.currentTags.findIndex(t=>t.tag_id==e.tag_id)&&this.tag.tags.splice(t,1)}),this.tag.dialog=!0):"give_coupon"==e?(this.getCoupons(),this.dialogTitle=$t("30um9b5","赠送优惠券","lang")):"send_sms"==e?(this.sms_content="",this.dialogTitle=$t("ggf85d4","群发短信","lang")):"vip_delay"==e?this.dialogTitle=$t("wpteq06","付费会员延期","lang"):"set_grade"==e?(this.gradeForm.user_id="",this.gradeForm.grade_id="",this.gradeForm.old_grade_id="",this.gradeForm.remarks="",this.is_batch=!0,this.dialogTitle=$t("7y42dj6","修改会员等级","lang")):"set_saleman"==e&&(this.dialogTitle=$t("5e54fd5","设置导购员","lang")))},switchAliyunsmsDialog(e=!1){this.aliyunsmsDialogVisible=e}}},m=p,u=(0,a(81656).A)(m,function(){var e=this,t=e._self._c;return t("SpPage",[t("SpRouterView",[t("SpFilterForm",{attrs:{model:e.params},on:{onSearch:e.onSearch,onReset:e.onSearch}},[t("SpFilterFormItem",{attrs:{prop:"mobile",label:$t("cttsc24","手机号:","lang")}},[t("el-input",{attrs:{placeholder:$t("7ji3y96","请输入手机号","lang")},model:{value:e.params.mobile,callback:function(t){e.$set(e.params,"mobile",t)},expression:"params.mobile"}})],1),e.VERSION_SHUYUN()?e._e():t("SpFilterFormItem",{attrs:{prop:"username",label:$t("tgh7585","微信昵称:","lang")}},[t("el-input",{attrs:{placeholder:$t("l4fr0p7","请输入微信昵称","lang")},model:{value:e.params.username,callback:function(t){e.$set(e.params,"username",t)},expression:"params.username"}})],1),e.VERSION_IN_PURCHASE()?e._e():t("SpFilterFormItem",{attrs:{prop:"vip_grade",label:e.VERSION_SHUYUN()?$t("jx09kt7","付费会员等级:","lang"):$t("yn1rhy5","会员身份:","lang")}},[t("el-select",{attrs:{clearable:"",placeholder:$t("l72nr3","请选择","lang")},model:{value:e.params.vip_grade,callback:function(t){e.$set(e.params,"vip_grade",t)},expression:"params.vip_grade"}},e._l(e.vipGrade,function(e){return t("el-option",{key:e.lv_type,attrs:{label:e.grade_name,value:e.lv_type}})}),1)],1),e.VERSION_IN_PURCHASE()?e._e():t("SpFilterFormItem",{attrs:{prop:"grade_id",label:$t("ypnv0i5","会员等级:","lang")}},[t("el-select",{attrs:{clearable:"",placeholder:$t("l72nr3","请选择","lang")},model:{value:e.params.grade_id,callback:function(t){e.$set(e.params,"grade_id",t)},expression:"params.grade_id"}},e._l(e.levelData,function(e){return t("el-option",{key:e.grade_id,attrs:{label:e.grade_name,value:e.grade_id}})}),1)],1),e.VERSION_IN_PURCHASE()?e._e():t("SpFilterFormItem",{attrs:{prop:"inviter_mobile",label:$t("d43u5k4","推荐人:","lang")}},[t("el-input",{attrs:{placeholder:$t("evbnz59","请输入推荐人手机号","lang")},model:{value:e.params.inviter_mobile,callback:function(t){e.$set(e.params,"inviter_mobile",t)},expression:"params.inviter_mobile"}})],1),t("SpFilterFormItem",{attrs:{prop:"tag_id",label:$t("ftjgj3","标签:","lang")}},[t("el-select",{attrs:{clearable:"",placeholder:$t("l72nr3","请选择","lang")},model:{value:e.params.tag_id,callback:function(t){e.$set(e.params,"tag_id",t)},expression:"params.tag_id"}},e._l(e.tag.list,function(e){return t("el-option",{key:e.tag_id,attrs:{label:e.tag_name,value:e.tag_id}})}),1)],1),t("SpFilterFormItem",{attrs:{prop:"tag_id",label:$t("ackb5o5","注册日期:","lang")}},[t("el-date-picker",{attrs:{"unlink-panels":"",type:"daterange",align:"right",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","range-separator":$t("po31","至","lang"),"start-placeholder":$t("cd0ag54","开始日期","lang"),"end-placeholder":$t("gfhy2u4","结束日期","lang"),"prefix-icon":"null","picker-options":e.pickerOptions},on:{change:e.dateChange},model:{value:e.created,callback:function(t){e.created=t},expression:"created"}})],1),t("SpFilterFormItem",{attrs:{prop:"remarks",label:$t("djyqh3","备注:","lang")}},[t("el-input",{attrs:{placeholder:$t("fqo12","备注","lang")},model:{value:e.params.remarks,callback:function(t){e.$set(e.params,"remarks",t)},expression:"params.remarks"}})],1),e.VERSION_IN_PURCHASE()?e._e():t("SpFilterFormItem",{attrs:{prop:"have_consume",label:$t("5s1q4u5","购买记录:","lang")}},[t("el-select",{attrs:{placeholder:$t("l72nr3","请选择","lang"),clearable:""},model:{value:e.params.have_consume,callback:function(t){e.$set(e.params,"have_consume",t)},expression:"params.have_consume"}},[t("el-option",{attrs:{label:$t("frl2m3","有记录","lang"),value:"true"}}),t("el-option",{attrs:{label:$t("flgud3","无记录","lang"),value:"false"}})],1)],1),t("SpFilterFormItem",{attrs:{prop:"role",label:$t("kswuy3","角色:","lang")}},[t("el-select",{attrs:{placeholder:$t("l72nr3","请选择","lang"),clearable:""},model:{value:e.params.role,callback:function(t){e.$set(e.params,"role",t)},expression:"params.role"}},e._l(e.roleList,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),t("div",{staticClass:"action-container"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.batchActionDialog("rel_tag")}}},[e._v($t("dbv9925"," 打标签 ","lang"))]),e.VERSION_IN_PURCHASE()?e._e():t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.batchActionDialog("give_coupon")}}},[e._v($t("4tu6mn7"," 赠送优惠券 ","lang"))]),"distributor"!=e.$store.getters.login_type?t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.batchActionDialog("send_sms")}}},[e._v($t("s2rjfj6"," 群发短信 ","lang"))]):e._e(),"distributor"==e.$store.getters.login_type||e.VERSION_IN_PURCHASE()?e._e():t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleVipGradeDelay(!1)}}},[e._v($t("iq9d148"," 付费会员延期 ","lang"))]),"distributor"==e.$store.getters.login_type||e.VERSION_IN_PURCHASE()||e.VERSION_SHUYUN()?e._e():t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.batchActionDialog("set_grade")}}},[e._v($t("ozioic8"," 会员等级设置 ","lang"))]),t("el-button",{attrs:{type:"primary"},on:{click:e.exportData}},[e._v($t("efepu4"," 导出 ","lang"))])],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.memberData,"row-key":e.getRowKeys},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",align:"center",label:$t("emxt2","全选","lang")}}),e.VERSION_SHUYUN()?t("el-table-column",{attrs:{prop:"userid",label:$t("c9tycu4","平台账号","lang"),width:"100"}}):e._e(),t("el-table-column",{attrs:{prop:"mobile",label:$t("ewbd43","手机号","lang"),width:"160"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(a.row.mobile)+" "),"distributor"==e.$store.getters.login_type||0!=e.datapass_block||e.VERSION_SHUYUN()||e.dmcrmIsOpen?e._e():t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:$t("tg7q035","修改手机号","lang"),placement:"top-start"}},[t("el-button",{staticClass:"el-icon-edit",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.editMobile(a.row)}}})],1)]}}])}),t("el-table-column",{attrs:{prop:"username",label:$t("i1y32","昵称","lang"),width:"140"}}),e.VERSION_IN_PURCHASE()?e._e():t("el-table-column",{attrs:{prop:"sex",label:$t("gt0k2","性别","lang"),width:"70"},scopedSlots:e._u([{key:"default",fn:function(a){return["2"==a.row.sex?t("span",[e._v($t("ho31","女","lang"))]):"1"==a.row.sex?t("span",[e._v($t("n5j1","男","lang"))]):"0"==a.row.sex?t("span",[e._v($t("i7ej2","未知","lang"))]):t("span",[e._v(e._s(a.row.sex))])]}}],null,!1,1917237897)}),e.VERSION_IN_PURCHASE()?e._e():t("el-table-column",{attrs:{prop:"is_chief",label:$t("d8qh2s4","是否团长","lang"),width:"80"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-switch",{attrs:{disabled:"","active-value":"1","inactive-value":"0","active-color":"#ff4949","inactive-color":"#ccc"},on:{change:function(t){return e.switchChief(a.$index,a.row)}},model:{value:a.row.is_chief,callback:function(t){e.$set(a.row,"is_chief",t)},expression:"scope.row.is_chief"}})]}}],null,!1,1137836405)}),e.VERSION_IN_PURCHASE()?e._e():t("el-table-column",{attrs:{prop:"grade_id",label:$t("ac4j244","会员等级","lang"),width:"140"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.showGrade(a.row.grade_id,a.row.vip_grade)))])]}}],null,!1,2909692895)}),e.VERSION_IN_PURCHASE()?e._e():t("el-table-column",{attrs:{prop:"inviter",label:$t("f893m3","推荐人","lang"),width:"130"}}),t("el-table-column",{attrs:{prop:"disabled",label:$t("lb5z2","禁用","lang"),width:"80"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-color":"#ff4949","inactive-color":"#ccc"},on:{change:function(t){return e.acitonDisabled(a.$index,a.row)}},model:{value:a.row.disabled,callback:function(t){e.$set(a.row,"disabled",t)},expression:"scope.row.disabled"}})]}}])}),t("el-table-column",{attrs:{label:$t("ac18id4","会员标签","lang"),width:"130"},scopedSlots:e._u([{key:"default",fn:function(a){return[a.row.tagList.length>0?e._l(a.row.tagList,function(s){return t("el-tag",{key:s.tag_id,style:"color:"+s.font_color,attrs:{size:"mini",closable:"",effect:"dark",color:s.tag_color},on:{close:function(t){return e.relTagDelEvent(s.tag_id,a.row.user_id)}}},[e._v(" "+e._s(s.tag_name)+" ")])}):[t("span",{staticClass:"muted"},[e._v($t("n1474d6","暂无会员标签","lang"))])]]}}])}),e._e(),e._e(),t("el-table-column",{attrs:{label:$t("hmxge3","用户名","lang"),width:"130"},scopedSlots:e._u([{key:"default",fn:function(a){return[a.row.name?t("span",[e._v(e._s(a.row.name))]):t("span",{staticClass:"muted"},[e._v($t("c1jpfk5","暂无用户名","lang"))]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:$t("ia8p1f5","编辑用户名","lang"),placement:"top-start"}},[t("el-button",{staticClass:"el-icon-edit",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.isEdit(a.row,"name")}}})],1)]}}])}),t("el-table-column",{attrs:{label:$t("fqo12","备注","lang"),width:"130"},scopedSlots:e._u([{key:"default",fn:function(a){return[a.row.remarks?t("span",[e._v(e._s(a.row.remarks))]):t("span",{staticClass:"muted"},[e._v($t("dct3334","暂无备注","lang"))]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:$t("gmiipo4","编辑备注","lang"),placement:"top-start"}},[t("el-button",{staticClass:"el-icon-edit",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.isEdit(a.row,"remarks")}}})],1)]}}])}),t("el-table-column",{attrs:{label:$t("hkxb2","操作","lang"),width:"250"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.getDetail(a.row.user_id)}}},[e._v($t("likox4"," 详情 ","lang"))]),"distributor"==e.$store.getters.login_type||0!=e.datapass_block||e.VERSION_SHUYUN()?e._e():t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.infoUpdate(a.row)}}},[e._v($t("jhjwek6"," 基础信息 ","lang"))]),"distributor"==e.$store.getters.login_type||e.VERSION_IN_PURCHASE()||e.VERSION_SHUYUN()?e._e():t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.gradeUpdate(a.row)}}},[e._v($t("jk7yf06"," 会员等级 ","lang"))]),t("el-button",{attrs:{icon:"edit",type:"text"},on:{click:function(t){return e.editSuperior(a.row)}}},[e._v($t("7h5xle6"," 调整上级 ","lang"))])]}}])})],1),t("div",{staticClass:"content-center content-top-padded c-pagination"},[t("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","current-page":e.page.pageIndex,"page-sizes":[10,20,50],total:e.page.total,"page-size":e.page.pageSize},on:{"update:currentPage":function(t){return e.$set(e.page,"pageIndex",t)},"update:current-page":function(t){return e.$set(e.page,"pageIndex",t)},"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1),t("el-dialog",{attrs:{title:$t("abwxcg4","会员下载","lang"),visible:e.downloadView,"close-on-click-modal":!1},on:{"update:visible":function(t){e.downloadView=t}}},[e.downloadUrl?[t("a",{attrs:{href:e.downloadUrl,download:""}},[e._v(e._s(e.downloadName))])]:e._e()],2),t("el-dialog",{attrs:{width:"50%",title:e.dialogTitle,"before-close":e.handleCancelLabelsDialog,visible:e.dialogIsShow},on:{"update:visible":function(t){e.dialogIsShow=t}}},["give_coupon"==e.params.action_type?[t("el-radio-group",{on:{change:function(t){return e.changeStaffCouponsPage(1)}},model:{value:e.card_type,callback:function(t){e.card_type=t},expression:"card_type"}},[t("el-radio-button",{attrs:{label:"all",value:"all"}},[e._v($t("d6c1s4"," 全部 ","lang"))]),t("el-radio-button",{attrs:{label:"cash",value:"cash"}},[e._v($t("etfamu5"," 满减券 ","lang"))]),t("el-radio-button",{attrs:{label:"discount",value:"discount"}},[e._v($t("dc2jv75"," 折扣券 ","lang"))]),e.VERSION_STANDARD()?t("el-radio-button",{attrs:{label:"new_gift",value:"new_gift"}},[e._v($t("b5rlyx5"," 兑换券 ","lang"))]):e._e()],1),t("ul",{directives:[{name:"loading",rawName:"v-loading",value:e.staffCoupons.loading,expression:"staffCoupons.loading"}],staticClass:"dialog-list clearfix"},[e._l(e.staffCoupons.list,function(a,s){return[t("li",{key:s,class:a.checked?"checked":"",on:{click:function(t){return e.selectStaffItems(a)}}},[a.checked?t("i",{staticClass:"el-icon-check"}):e._e(),e._v(" "+e._s(a.title)+" ")])]})],2),t("div",{staticClass:"content-padded"},[t("el-pagination",{staticStyle:{"white-space":"initial"},attrs:{background:"",layout:"prev, pager, next","current-page":e.staffCoupons.page.currentPage,"page-size":e.staffCoupons.page.pageSize,total:e.staffCoupons.page.total},on:{"current-change":e.changeStaffCouponsPage}})],1),t("div",{staticStyle:{display:"none"}},[e._l(e.staffCoupons.temp,function(a,s){return[t("li",{key:s},[e._v(" "+e._s(a.title)+" ")])]})],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.submitSelected}},[e._v($t("fkxk7h4","确定赠送","lang"))])],1)]:e._e(),"rel_tag"==e.params.action_type?[t("div",{staticClass:"selected-tags view-flex"},[t("div",{staticClass:"label"},[e._v($t("rbsw8d6","已选中标签：","lang"))]),t("div",{staticClass:"view-flex-item"},e._l(e.tag.currentTags,function(a,s){return t("el-tag",{key:s,attrs:{closable:"",size:"small","disable-transitions":!1},on:{close:function(t){return e.tagRemove(s)}}},[e._v(" "+e._s(a.tag_name)+" ")])}),1)]),t("div",e._l(e.tag.tags,function(a,s){return t("el-tag",{key:s,staticClass:"tag-item",attrs:{size:"medium",color:"#ffffff","disable-transitions":!1},nativeOn:{click:function(t){return e.tagAdd(a,s)}}},[e._v(" "+e._s(a.tag_name)+" ")])}),1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogIsShow=!1}}},[e._v($t("caoqm3","取 消","lang"))]),t("el-button",{attrs:{type:"primary"},on:{click:e.submitMemberTag}},[e._v($t("hnjoo3","确 定","lang"))])],1)]:e._e(),"send_sms"==e.params.action_type?[t("el-form",[t("el-form-item",{staticClass:"content-center"},[t("el-input",{attrs:{focus:"",type:"textarea",rows:4,placeholder:$t("i2g4337","请输入短信内容","lang")},on:{blur:e.checkNum},model:{value:e.sms_content,callback:function(t){e.sms_content=t},expression:"sms_content"}}),t("span",[e._v(e._s(e.sms_content.length))])],1),t("el-form-item",{staticClass:"content-center"},[t("el-button",{attrs:{type:"primary"},on:{click:e.onSmsSends}},[e._v($t("q4f2c6"," 确定发送 ","lang"))])],1)],1),[t("el-alert",{attrs:{title:$t("fgo5y24","短信基础","lang"),type:"info",description:$t("3s1j0mbx","1、短信字符<=67个字符，按照70个字符一条短信计算；短信内容中，汉字、字母、符号、数字、空格全按一个字符算，不分半角、全角。含有标签（如短信签名、商品名、链接）的短信以实际发送时字符数计算；超过规定的67个字符的短信内容将会被拆分为两条或多条短信\n                          2、短信内容禁止有‘测试，test，错乱字符’等，这类短信会被拦截不予发送。\n                          3、短信接收不到原因：手机号黑名单发送不了；内容不正规不允发送；时间段导致延迟；被手机拦截软件拦截；该手机号短信接收上限；该手机号状态不正常（欠费，停机，空号，信号不正常）详询客服\n                          4、 短信内容切记出现敏感类字眼，如出现有的话，系统是发送不出去被拦截掉的哦。\n                          5、 短信内容当中不允许出现两个【】或 ⎣⎤ 括弧","lang")}}),t("el-alert",{attrs:{title:$t("wo2kw7d","营销短信（手动输入的短信）","lang"),type:"info",description:$t("1wp3bp17","营销短信发送时间为8：00~21:00，双十一双十二大促期间，短信发送时间可24小时。","lang")}}),t("el-alert",{attrs:{title:$t("s263818","短信限制注意事项","lang"),type:"info",description:$t("bu22ti1d","1、通知短信加营销短信同一号码月限制50条。2、相同内容，相同手机号，日限制2条，第3条会被拦截。","lang")}})]]:e._e(),"vip_delay"==e.params.action_type?[t("el-form",{attrs:{"label-width":"100px"}},[t("el-form-item",{staticClass:"content-center",attrs:{label:$t("wpycen6","付费会员类型","lang")}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.vipGradeDelay.vip_grade_id,callback:function(t){e.$set(e.vipGradeDelay,"vip_grade_id",t)},expression:"vipGradeDelay.vip_grade_id"}},e._l(e.vipGrade,function(e){return t("el-option",{key:e.lv_type,attrs:{label:e.grade_name,value:e.vip_grade_id}})}),1)],1)],1)],1),t("el-form-item",{staticClass:"content-center",attrs:{label:$t("cesaxq4","延期条件","lang")}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.vipGradeDelay.filter,callback:function(t){e.$set(e.vipGradeDelay,"filter",t)},expression:"vipGradeDelay.filter"}},[t("el-option",{key:"users",attrs:{label:$t("xzexvjb","指定会员 或 指定条件","lang"),value:"users"}}),t("el-option",{key:"expired",attrs:{label:$t("jsjqne7","付费会员已失效","lang"),value:"expired"}})],1)],1)],1)],1),t("el-form-item",{staticClass:"content-center",attrs:{label:$t("ceq0b44","延期天数","lang")}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("el-input",{model:{value:e.vipGradeDelay.add_day,callback:function(t){e.$set(e.vipGradeDelay,"add_day",t)},expression:"vipGradeDelay.add_day"}})],1)],1)],1),t("el-form-item",{staticClass:"content-center"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleVipGradeDelay(!0)}}},[e._v($t("rk8976"," 确定延期 ","lang"))])],1)],1)]:e._e(),"set_grade"==e.params.action_type?[t("el-form",{attrs:{"label-width":"100px"}},[t("el-form-item",{staticClass:"content-center",attrs:{label:$t("ac4j244","会员等级","lang")}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("el-select",{staticStyle:{width:"100%"},model:{value:e.gradeForm.grade_id,callback:function(t){e.$set(e.gradeForm,"grade_id",t)},expression:"gradeForm.grade_id"}},e._l(e.gradeList,function(e){return t("el-option",{key:e.grade_id,attrs:{label:e.grade_name,value:e.grade_id}})}),1)],1)],1)],1),t("el-form-item",{staticClass:"content-center",attrs:{label:$t("fqo12","备注","lang")}},[t("el-row",[t("el-col",{attrs:{span:20}},[t("el-input",{attrs:{focus:"",type:"textarea",rows:3},model:{value:e.gradeForm.remarks,callback:function(t){e.$set(e.gradeForm,"remarks",t)},expression:"gradeForm.remarks"}})],1)],1)],1),t("el-form-item",{staticClass:"content-center"},[t("el-button",{attrs:{type:"primary"},on:{click:e.gradeUpdateSubmit}},[e._v($t("pcnah6"," 确定修改 ","lang"))])],1)],1)]:e._e(),"set_saleman"==e.params.action_type?[t("el-col",{attrs:{gutter:20}},[t("el-input",{staticClass:"input-m",attrs:{placeholder:$t("mq06yf5","导购手机号","lang"),clearable:""},model:{value:e.salesmanPaging.mobile,callback:function(t){e.$set(e.salesmanPaging,"mobile",t)},expression:"salesmanPaging.mobile"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.salesmanSearch},slot:"append"})],1),t("el-input",{staticClass:"input-m",attrs:{placeholder:$t("c6s4qz4","导购姓名","lang"),clearable:""},model:{value:e.salesmanPaging.name,callback:function(t){e.$set(e.salesmanPaging,"name",t)},expression:"salesmanPaging.name"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.salesmanSearch},slot:"append"})],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingSalesman,expression:"loadingSalesman"}],attrs:{data:e.salesman,"highlight-current-row":""},on:{"row-click":e.handleSalesmanChange}},[t("el-table-column",{attrs:{label:"ID",prop:"salesperson_id"}}),t("el-table-column",{attrs:{label:$t("e5i9z3","导购员","lang"),prop:"salesman_name"}}),t("el-table-column",{attrs:{label:$t("ewbd43","手机号","lang"),prop:"mobile"}})],1),t("el-pagination",{staticClass:"content-center content-padded",attrs:{background:"","current-page":e.salesmanPaging.page,"page-sizes":[10,30,50],"page-size":e.salesmanPaging.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.salesmanPaging.total_count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),t("div",{staticClass:"content-padded content-center"},[t("el-button",{attrs:{type:"default"},on:{click:function(t){e.dialogIsShow=!1}}},[e._v($t("dd4ni4"," 取消 ","lang"))]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.setSalesman(!0)}}},[e._v($t("in1ck4"," 确定 ","lang"))])],1)]:e._e(),"basic_info"==e.params.action_type?[t("el-form",{attrs:{model:e.membersSetting,"label-width":"100px"}},[e._l(e.membersSetting,function(a,s){return t("el-form-item",{key:s,staticClass:"content-center",attrs:{label:a.name}},["input"==a.element_type?[t("el-input",{attrs:{disabled:"mobile"==s||"username"==s||"address"==s&&1==e.datapass_block},model:{value:e.basicInfo[s],callback:function(t){e.$set(e.basicInfo,s,t)},expression:"basicInfo[key]"}})]:e._e(),"date"==a.element_type?["birthday"==s?[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:$t("ikzrh64","选择日期","lang"),disabled:1==e.datapass_block,clearable:!1,editable:!1,"value-format":"yyyy-MM-dd"},model:{value:e.basicInfo[s],callback:function(t){e.$set(e.basicInfo,s,t)},expression:"basicInfo[key]"}})]:e._e()]:e._e(),"select"==a.element_type?["sex"==s?[t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:1==e.datapass_block},model:{value:e.basicInfo[s],callback:function(t){e.$set(e.basicInfo,s,t)},expression:"basicInfo[key]"}},e._l(e.sexoption,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)]:[t("el-select",{staticStyle:{width:"100%"},model:{value:e.basicInfo[s],callback:function(t){e.$set(e.basicInfo,s,t)},expression:"basicInfo[key]"}},e._l(a.items,function(e,a){return t("el-option",{key:a,attrs:{label:e,value:a.toString()}})}),1)]]:e._e(),"checkbox"==a.element_type?["habbit"==s?[t("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:$t("2eiivx5","请选择爱好","lang")},model:{value:e.basicInfo[s],callback:function(t){e.$set(e.basicInfo,s,t)},expression:"basicInfo[key]"}},e._l(a.items,function(e){return t("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}),1)]:e._e()]:e._e()],2)}),t("el-form-item",{staticClass:"content-center"},[t("el-button",{attrs:{type:"primary"},on:{click:e.infoUpdateSubmit}},[e._v($t("pcnah6"," 确定修改 ","lang"))])],1)],2)]:e._e()],2),t("el-dialog",{staticClass:"right-dialog",attrs:{title:$t("x6eknz7","修改会员手机号","lang"),visible:e.editMobileDialog,"before-close":e.handleCancelLabelsDialog},on:{"update:visible":function(t){e.editMobileDialog=t}}},[[t("el-form",[t("el-form-item",{attrs:{"label-width":"100px",label:$t("abxtvl4","会员名称","lang")}},[e._v(" "+e._s(e.form.username)+" ")]),t("el-form-item",{attrs:{"label-width":"100px",label:$t("ayl7k94","原手机号","lang")}},[e._v(" "+e._s(e.form.oldMobile)+" ")]),t("el-form-item",{attrs:{"label-width":"100px",label:$t("d8mdw84","新手机号","lang")}},[t("el-input",{attrs:{placeholder:$t("ewbd43","手机号","lang")},model:{value:e.form.newMobile,callback:function(t){e.$set(e.form,"newMobile",t)},expression:"form.newMobile"}})],1),t("el-form-item",{staticClass:"content-center"},[t("el-button",{attrs:{type:"primary"},on:{click:e.onEditMobileSubmit}},[e._v($t("tnxv36"," 确定添加 ","lang"))])],1)],1)],[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.operateLog,height:"580",border:""}},[t("el-table-column",{attrs:{prop:"old_data",label:$t("ayl7k94","原手机号","lang")}}),t("el-table-column",{attrs:{prop:"new_data",label:$t("8mjmf96","修改后手机号","lang")}}),t("el-table-column",{attrs:{prop:"operater",label:$t("f5hc93","操作员","lang")}}),t("el-table-column",{attrs:{prop:"created",label:$t("d1tr1p4","操作时间","lang")},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e._f("formatTimestamp")(a.row.created)))])]}}])})],1)]],2),t("el-dialog",{staticClass:"right-dialog",attrs:{title:e.remarksForm.title,visible:e.isEditRemarks,"before-close":e.handleCancelLabelsDialog},on:{"update:visible":function(t){e.isEditRemarks=t}}},[[t("el-form",[t("el-form-item",{attrs:{"label-width":"100px",label:e.remarksForm.label}},[t("el-input",{attrs:{placeholder:e.remarksForm.placeholder},model:{value:e.remarksForm.input,callback:function(t){e.$set(e.remarksForm,"input",t)},expression:"remarksForm.input"}})],1),t("el-form-item",{staticClass:"content-center"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editRemarks()}}},[e._v($t("in1ck4"," 确定 ","lang"))])],1)],1)]],2),t("el-dialog",{attrs:{title:$t("i2zka64","调整上级","lang"),visible:e.editSuperiorVisible,"before-close":e.handleCancelSuperior},on:{"update:visible":function(t){e.editSuperiorVisible=t}}},[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{md:8,lg:10}},[t("el-input",{attrs:{placeholder:$t("7ji3y96","请输入手机号","lang")},model:{value:e.identifierModal,callback:function(t){e.identifierModal=t},expression:"identifierModal"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.numberSearchModal},slot:"append"})],1)],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.modalLoading,expression:"modalLoading"}],staticStyle:{width:"100%"},attrs:{data:e.modalList,height:400,"element-loading-text":$t("5u04jg8","数据加载中...","lang"),"highlight-current-row":""},on:{"current-change":e.handleCurrentChangeUpLV}},[t("el-table-column",{attrs:{type:"index",width:"50"}}),t("el-table-column",{attrs:{prop:"username",label:$t("fqmy2","姓名","lang")}}),t("el-table-column",{attrs:{prop:"mobile",label:$t("ewbd43","手机号","lang")}}),t("el-table-column",{attrs:{prop:"disabled",label:$t("k1e32","状态","lang")},scopedSlots:e._u([{key:"default",fn:function(a){return["0"==a.row.disabled?t("el-tag",{attrs:{type:"success",size:"mini"}},[e._v($t("g4yo14"," 有效 ","lang"))]):t("el-tag",{attrs:{type:"info",size:"mini"}},[e._v($t("fyufs4"," 无效 ","lang"))])]}}])})],1),e.modal_total_count>e.paramsModal.pageSize?t("div",{staticClass:"mt-4 text-right"},[t("el-pagination",{attrs:{layout:"prev, pager, next","current-page":e.paramsModal.page,total:e.modal_total_count,"page-size":e.paramsModal.pageSize},on:{"update:currentPage":function(t){return e.$set(e.paramsModal,"page",t)},"update:current-page":function(t){return e.$set(e.paramsModal,"page",t)},"current-change":e.handleModalPage}})],1):e._e(),t("div",{staticClass:"dialog-footer content-center",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{nativeOn:{click:function(t){return e.handleCancelSuperior.apply(null,arguments)}}},[e._v($t("dd4ni4"," 取消 ","lang"))]),t("el-button",{attrs:{type:"primary"},on:{click:e.submitSuperiorAction}},[e._v($t("in1ck4"," 确定 ","lang"))])],1)],1),e.aliyunsmsDialogVisible?[t("aliyunsmsDialog",{attrs:{exterior:!0,visible:e.aliyunsmsDialogVisible,user_id:e.user_id,info:e.aliyunsmsDialogInfo},on:{smsMassLogEditHandler:e.switchAliyunsmsDialog}})]:e._e()],2)],1)},[],!1,null,"503d79ee",null),h=u.exports}}]);