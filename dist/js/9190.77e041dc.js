"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[9190],{19190:function(e,t,a){a.r(t),a.d(t,{default:function(){return i}});a(18111),a(61701);var r={components:{},mixins:[],props:{},data(){this.$createElement;return{params:{time:[],delivery_staff_name:"",delivery_staff_mobile:"",distributor_id:"",merchant_id:""},setting:{columns:[{name:$t("iecoit5","配送员编号","lang"),key:"staff_no",width:110},{name:$t("ie6cda5","配送员姓名","lang"),key:"username",width:110},{name:$t("ewbd43","手机号","lang"),key:"mobile",width:130},{name:$t("cs44ip4","所属店铺","lang"),key:"distributor_ids",width:300,render:(e,{row:t})=>e("div",[t.distributor_ids.map(t=>e("el-tag",{key:t.distributor_ids,attrs:{size:"mini"}},[t.name]))])},{name:$t("7ghqlq6","配送结算方式","lang"),width:150,key:"payment_method",render:(e,{row:t})=>e("span",["order"===t.payment_method?$t("rxhm1x5","按单笔订单","lang"):$t("1ncyxr7","按订单金额比例","lang")])},{name:$t("ifaauf5","配送客户数","lang"),key:"user_count",width:110},{name:$t("im946g5","配送订单量","lang"),key:"order_count",width:110},{name:$t("ix94t24","配送单价","lang"),key:"payment_method",render:(e,{row:t})=>e("span",["order"===t.payment_method?t.payment_fee/100:t.payment_fee/100+"%"])},{name:$t("hyxqu74","订单金额","lang"),key:"total_fee_count",render:(e,{row:t})=>e("span",[t.total_fee_count/100])},{name:$t("ixj6ub4","配送费用","lang"),key:"self_delivery_fee_count",render:(e,{row:t})=>e("span",[t.self_delivery_fee_count/100])},{name:$t("iec99w5","配送员类型","lang"),width:110,key:"staff_type",render:(e,{row:t})=>e("span",["platform"===t.staff_type?$t("gixp2","平台","lang"):"distributor"===t.staff_type?$t("gwn72","店铺","lang"):$t("f0a82","商家","lang")])},{name:$t("ie6ubx5","配送员属性","lang"),width:110,key:"staff_attribute",render:(e,{row:t})=>e("span",["full_time"===t.staff_attribute?$t("ejtw2","全职","lang"):$t("ekb42","兼职","lang")])}],actions:[{name:$t("g3ge2","导出","lang"),key:"add",type:"button",slot:"header",buttonType:"primary",action:{handler:async e=>{let t={page:1,pageSize:20,type:"delivery_staffdata",...this.params,start:this.params.time.length?this.params.time[0]/1e3:"",end:this.params.time.length?this.params.time[1]/1e3:""},a=await this.$api.trade.datacubeDeliverystaffdataExport(t);if(a.status)return this.$message({type:"success",message:$t("xdh90kk","已加入执行队列，请在设置-导出列表中下载","lang")}),void this.$export_open(t.type);a.url?(this.downloadUrl=a.url,this.downloadName=a.filename,this.downloadView=!0):this.$message({type:"error",message:$t("d17rj2j","无内容可导出 或 执行失败，请检查重试","lang")})}}}]},belonginStore:[],belongingMerchant:[]}},computed:{},watch:{},mounted(){this.getMerchantsList()},methods:{async getMerchantsList(){let e=await this.$api.mall_marketing.getMerchantsList({pageSize:1e3,page:1});this.belongingMerchant=e.list},onSearch(){this.$refs.finder.refresh()},beforeSearch(e){const t={...e,...this.params,start:this.params.time.length?this.params.time[0]/1e3:"",end:this.params.time.length?this.params.time[1]/1e3:""};return delete t.time,t}}},i=(0,a(81656).A)(r,function(){var e=this,t=e._self._c;return t("SpPage",[t("SpFilterForm",{staticClass:"sp-filter-form",attrs:{model:e.params},on:{onSearch:e.onSearch,onReset:e.onSearch}},[t("SpFilterFormItem",{attrs:{prop:"time",label:$t("833x5e5","时间筛选:","lang"),size:"max"}},[t("el-date-picker",{attrs:{type:"datetimerange","start-placeholder":$t("cd0ag54","开始日期","lang"),"end-placeholder":$t("gfhy2u4","结束日期","lang"),"default-time":["00:00:00","23:59:59"],"value-format":"timestamp"},model:{value:e.params.time,callback:function(t){e.$set(e.params,"time",t)},expression:"params.time"}})],1),t("SpFilterFormItem",{attrs:{prop:"delivery_staff_name",label:$t("1yk7oc6","配送员姓名:","lang")}},[t("el-input",{attrs:{placeholder:$t("qlumjv8","请输入配送员姓名","lang")},model:{value:e.params.delivery_staff_name,callback:function(t){e.$set(e.params,"delivery_staff_name",t)},expression:"params.delivery_staff_name"}})],1),t("SpFilterFormItem",{attrs:{prop:"delivery_staff_mobile",label:$t("cttsc24","手机号:","lang")}},[t("el-input",{attrs:{placeholder:$t("ewbd43","手机号","lang")},model:{value:e.params.delivery_staff_mobile,callback:function(t){e.$set(e.params,"delivery_staff_mobile",t)},expression:"params.delivery_staff_mobile"}})],1),t("SpFilterFormItem",{attrs:{prop:"distributor_id",label:$t("tz4fpj5","所属店铺:","lang")}},[t("SpSelectShop",{attrs:{clearable:"",placeholder:$t("l72nr3","请选择","lang")},model:{value:e.params.distributor_id,callback:function(t){e.$set(e.params,"distributor_id",t)},expression:"params.distributor_id"}})],1)],1),t("SpFinder",{ref:"finder",attrs:{url:"/datacube/deliverystaffdata","no-selection":"",setting:e.setting,hooks:{beforeSearch:e.beforeSearch}}})],1)},[],!1,null,"620975ec",null).exports}}]);