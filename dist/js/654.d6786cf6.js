"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[654],{654:function(t,a,e){e.r(a),e.d(a,{default:function(){return i}});var l=e(95353),s=e(5134),n={data(){return{tabList:[{name:$t("en402","全部","lang"),value:null,activeName:"first"},{name:$t("edmdy3","已结算","lang"),value:"true",activeName:"second"},{name:$t("fq8cu3","未结算","lang"),value:"false",activeName:"third"}],activeName:"first",total_count:0,loading:!1,count:{cashWithdrawalRebate:0,freezeCashWithdrawalRebate:0,itemTotalPrice:0,noCloseRebate:0,payedRebate:0,rebateTotal:0,pointTotal:0},params:{page:1,pageSize:20,user_id:0,distributor_id:0,pathSource:""},list:[{}]}},mounted(){this.loginType=this.$store.getters.login_type,this.params.pathSource=this.$route.path,this.$route.query.user_id&&(this.params.user_id=this.$route.query.user_id),this.$route.query.distributor_id&&(this.params.distributor_id=this.$route.query.distributor_id),this.getCount(),this.getList()},methods:{handleClick(t,a){this.params.page=1,"second"==this.activeName?this.params.is_close="true":"third"==this.activeName?this.params.is_close="false":this.params.is_close="",this.getList()},handleCurrentChange(t){this.params.page=t,this.getList()},getCount(){(0,s.withdrawalStatistics)({user_id:this.params.user_id,distributor_id:this.params.distributor_id}).then(t=>{this.count=t.data.data})},getList(){this.loading=!0,(0,s.getBrokerageLog)(this.params).then(t=>{t.data.data.list&&(this.list=t.data.data.list,this.total_count=t.data.data.total_count),this.loading=!1})}},computed:{...(0,l.L8)(["wheight"])}},i=(0,e(81656).A)(n,function(){var t=this,a=t._self._c;return a("div",["distributor"!==t.loginType&&-1===t.$route.path.indexOf("detail")?a("div",{staticClass:"time-box basic"},[a("el-row",[a("el-col",{attrs:{span:3}},[t._v($t("18gjbp6"," 可提现: ","lang")),a("span",[t._v(t._s(t.count.cashWithdrawalRebate/100))]),t._v($t("dtml2","元 ","lang"))]),a("el-col",{attrs:{span:3}},[t._v($t("unetuw6"," 已提现: ","lang")),a("span",[t._v(t._s(t.count.payedRebate/100))]),t._v($t("dtml2","元 ","lang"))]),a("el-col",{attrs:{span:3}},[t._v($t("z0xw3u7"," 申请提现: ","lang")),a("span",[t._v(t._s(t.count.freezeCashWithdrawalRebate/100))]),t._v($t("dtml2","元 ","lang"))]),a("el-col",{attrs:{span:3}},[t._v($t("8u0ous6"," 未结算: ","lang")),a("span",[t._v(t._s(t.count.noCloseRebate/100))]),t._v($t("dtml2","元 ","lang"))]),a("el-col",{attrs:{span:3}},[t._v($t("kcst7a7"," 佣金总额: ","lang")),a("span",[t._v(t._s(t.count.rebateTotal/100))]),t._v($t("dtml2","元 ","lang"))]),a("el-col",{attrs:{span:3}},[t._v($t("qvcha77"," 积分总额: ","lang")),a("span",[t._v(t._s(t.count.pointTotal))]),t._v($t("i8wll3","积分 ","lang"))]),a("el-col",{attrs:{span:3}},[t._v($t("236zwd7"," 商品总额: ","lang")),a("span",[t._v(t._s(t.count.itemTotalPrice/100))]),t._v($t("dtml2","元 ","lang"))])],1)],1):t._e(),"distributor"==t.loginType||-1!==t.$route.path.indexOf("detail")||-1!==t.$route.path.indexOf("sellers")?a("div",{staticClass:"time-box basic"},[a("el-row",[a("el-col",{attrs:{span:3}},[t._v($t("8u0ous6"," 未结算: ","lang")),a("span",[t._v(t._s(t.count.countDataShop.rebate_sum_noclose/100))]),t._v($t("dtml2","元 ","lang"))]),a("el-col",{attrs:{span:3}},[t._v($t("kcst7a7"," 佣金总额: ","lang")),a("span",[t._v(t._s(t.count.countDataShop.rebate_sum/100))]),t._v($t("dtml2","元 ","lang"))]),a("el-col",{attrs:{span:3}},[t._v($t("236zwd7"," 商品总额: ","lang")),a("span",[t._v(t._s(t.count.countDataShop.price_sum/100))]),t._v($t("dtml2","元 ","lang"))])],1)],1):t._e(),a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},t._l(t.tabList,function(e,l){return a("el-tab-pane",{key:l,attrs:{label:e.name,name:e.activeName}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.list,border:"",height:t.wheight-240}},[a("el-table-column",{attrs:{prop:"order_id",label:$t("kuwys3","订单号","lang"),"min-width":"84"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{path:t.matchInternalRoute("communityactivityorder_detail"),query:{orderId:e.row.order_id,resource:"/popularize/logs/?user_id="+e.row.user_id}}}},[t._v(" "+t._s(e.row.order_id)+" ")])]}}],null,!0)}),a("el-table-column",{attrs:{label:$t("ih79qy4","返佣来源","lang"),"min-width":"64"},scopedSlots:t._u([{key:"default",fn:function(e){return["order"==e.row.source?a("span",[t._v($t("hikg2","提成","lang"))]):t._e(),"order_team"==e.row.source?a("span",[t._v($t("jc8f2","津贴","lang"))]):t._e()]}}],null,!0)}),a("el-table-column",{attrs:{label:$t("b3zwdc4","商品价格","lang"),"min-width":"64"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s(e.row.price/100)+" ")]),t._v($t("ehct3"," 元 ","lang"))]}}],null,!0)}),a("el-table-column",{attrs:{label:$t("iheptn4","返佣金额","lang"),"min-width":"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s(e.row.rebate/100)+" ")]),t._v($t("ehct3"," 元 ","lang"))]}}],null,!0)}),a("el-table-column",{attrs:{prop:"is_close",label:$t("fmxk815","是否已结算","lang"),"min-width":"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.is_close?a("el-tag",{attrs:{type:"warning"}},[t._v($t("cvbp0q5"," 已结算 ","lang"))]):a("el-tag",{attrs:{type:"info"}},[t._v($t("e16m2a5"," 未结算 ","lang"))])]}}],null,!0)}),"distributor"==t.loginType?a("el-table-column",{attrs:{prop:"store_name",label:$t("gwn72","店铺","lang")}}):t._e(),"distributor"==t.loginType?a("el-table-column",{attrs:{prop:"user_id",label:$t("w0lpvw5","业务员ID","lang")}}):t._e(),"distributor"==t.loginType?a("el-table-column",{attrs:{prop:"title",label:$t("hymh3b4","订单内容","lang")}}):t._e()],1),t.total_count>t.params.pageSize?a("div",{staticClass:"mt-4 text-right"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","page-sizes":[t.params.pageSize],total:t.total_count,"page-size":t.params.pageSize},on:{"current-change":t.handleCurrentChange}})],1):t._e()],1)}),1)],1)},[],!1,null,"226f7212",null).exports}}]);