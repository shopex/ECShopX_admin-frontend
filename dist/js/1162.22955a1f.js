"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[1162],{91162:function(t,e,a){a.r(e),a.d(e,{default:function(){return r}});a(44114);var n=a(95353),i=a(5134),l={data(){return{loading:!1,giveLogList:[],totalCount:0,params:{page:1,pageSize:20}}},computed:{...(0,n.L8)(["wheight"])},mounted(){this.getGiveLogList()},methods:{handleCurrentChange(t){this.params.page=t,this.getGiveLogList()},getGiveLogList(){this.loading=!0,(0,i.getGiveLogList)(this.params).then(t=>{this.giveLogList=t.data.data.list,this.totalCount=t.data.data.total_count,this.loading=!1}).catch(t=>{this.loading=!1,this.$message({type:"error",message:$t("3lcu04d","获取优惠券发放列表信息出错","lang")})})},onDetail(t){this.$router.push({path:`${this.$route.path}/detail/${t.give_id}`})}}},r=(0,a(81656).A)(l,function(){var t=this,e=t._self._c;return e("SpPage",[-1===t.$route.path.indexOf("detail")?[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{border:"",data:t.giveLogList,height:t.wheight-90}},[e("el-table-column",{attrs:{width:"140",label:$t("hkxb2","操作","lang")},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.onDetail(a.row)}}},[t._v($t("8jzqpv6","发送失败详情","lang"))])]}}],null,!1,3240223302)}),e("el-table-column",{attrs:{width:"220",label:$t("azwu174","发放时间","lang")},scopedSlots:t._u([{key:"default",fn:function(a){return[e("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(t._f("datetime")(a.row.created,"YYYY-MM-DD HH:mm:ss"))+" ")]}}],null,!1,3889084640)}),e("el-table-column",{attrs:{prop:"sender",label:$t("f5hc93","操作员","lang")},scopedSlots:t._u([{key:"default",fn:function(a){return[e("i",{staticClass:"el-icon-user"}),t._v(" "+t._s(a.row.sender)+" ")]}}],null,!1,1221237531)}),e("el-table-column",{attrs:{prop:"number",width:"80",label:$t("ifiv284","赠送数量","lang")}}),e("el-table-column",{attrs:{prop:"error",width:"80",label:$t("bu5qib4","失败数量","lang")}})],1),e("div",{staticClass:"mt-4 text-right"},[e("el-pagination",{attrs:{layout:"prev, pager, next","current-page":t.params.page,total:t.totalCount,"page-size":t.params.pageSize},on:{"update:currentPage":function(e){return t.$set(t.params,"page",e)},"update:current-page":function(e){return t.$set(t.params,"page",e)},"current-change":t.handleCurrentChange}})],1)]:t._e(),e("router-view")],2)},[],!1,null,"bf8e633e",null).exports}}]);