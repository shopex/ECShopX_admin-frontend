"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[693],{10693:function(t,e,a){a.r(e),a.d(e,{default:function(){return r}});var n=a(44878),l={data(){return{isOpenErp:!1,refund_bn:"",refundDetail:{},refundDialog:!1,refundForm:{bank_account_name:"",bank_account_no:"",bank_name:"",refund_account_name:"",refund_account_bank:"",refund_account_no:"",pay_type:"",order_id:"",refund_fee:""},refundFormList:[{label:$t("im1vlg4","退款方式","lang"),key:"pay_type",type:"radio",required:!0,options:[{label:"offline_pay",name:$t("gbmw6e4","线下转账","lang")}]},{label:$t("glcpg85","收款人户名","lang"),key:"bank_account_name",type:"input",required:!0,message:$t("9fqdlr8","请输入收款人户名","lang")},{label:$t("85dvrl6","收款银行账号","lang"),key:"bank_account_no",type:"input",required:!0,message:$t("e62dbk7","请输入银行账号","lang")},{label:$t("cegvwt4","开户银行","lang"),key:"bank_name",type:"input",required:!0,message:$t("l4m4y27","请输入开户银行","lang")},{label:$t("8ndib65","退款人户名","lang"),key:"refund_account_name",type:"input",required:!0,message:$t("yogld58","请输入退款人户名","lang")},{label:$t("6z1swr6","退款银行账号","lang"),key:"refund_account_bank",type:"input",required:!0,message:$t("imd8269","请输入退款银行账号","lang")},{label:$t("dxlkj96","退款开户银行","lang"),key:"refund_account_no",type:"input",required:!0,message:$t("bntgfo9","请输入退款开户银行","lang")},{label:$t("im9oyy4","退款金额","lang"),key:"refund_fee",type:"input",disabled:!0}]}},mounted(){this.$route.query.refund_bn&&(this.refund_bn=this.$route.query.refund_bn),this.loading=!0,this.refundsInfo()},methods:{refundsInfo(){(0,n.getRefundsDetail)(this.refund_bn).then(t=>{let e=t.data.data;this.refundDetail=e,this.loading=!1})},handleCancel:function(){this.$router.back(-1)},async handleAccountView(){const{offline_refund:t,pay_type:e}=this.refundDetail;this.refundForm={...t,pay_type:e},this.refundDialog=!0}}},s=(0,a(81656).A)(l,function(){var t=this,e=t._self._c;return e("SpPage",{attrs:{title:$t("8o8yba5","退款单详情","lang")}},[e("template",{slot:"page-footer"},[e("div",{staticClass:"text-center"},[e("el-button",{nativeOn:{click:function(e){return t.handleCancel.apply(null,arguments)}}},[t._v($t("m1m0m4"," 返回 ","lang"))])],1)]),e("div",{staticClass:"section-white"},[e("div",{staticClass:"section-body"},[e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("s0mq867"," 退款单号: ","lang"))]),e("el-col",{attrs:{span:20}},[t._v(" "+t._s(t.refundDetail.refund_bn)+" ")])],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("3ptilm6"," 订单号: ","lang"))]),e("el-col",{attrs:{span:20}},[t._v(" "+t._s(t.refundDetail.order_id)+" ")])],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("i3bhp47"," 售后单号: ","lang"))]),e("el-col",{attrs:{span:20}},[t._v(" "+t._s(t.refundDetail.aftersales_bn)+" ")])],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("7pkh9w9"," 对应支付单号: ","lang"))]),e("el-col",{attrs:{span:20}},[t._v(" "+t._s(t.refundDetail.trade_id)+" ")])],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("e1kopq7"," 应退金额: ","lang"))]),e("el-col",{attrs:{span:20}},[t._v(" ￥"+t._s(t.refundDetail.refund_fee/100)+" ")])],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("aazfpw7"," 实退金额: ","lang"))]),e("el-col",{attrs:{span:20}},[t._v(" ￥"+t._s(t.refundDetail.refunded_fee/100)+" ")])],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("aqsj1l7"," 应退积分: ","lang"))]),e("el-col",{attrs:{span:20}},[t._v(" "+t._s(t.refundDetail.refund_point)+" ")])],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("707a1r7"," 实退积分: ","lang"))]),e("el-col",{attrs:{span:20}},[t._v(" "+t._s(t.refundDetail.refunded_point)+" ")])],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("kfusvc8"," 退款单状态: ","lang"))]),e("el-col",{attrs:{span:20}},["READY"==t.refundDetail.refund_status?e("el-tag",{attrs:{size:"mini",type:"info"}},[t._v($t("dvxqf35"," 未审核 ","lang"))]):"AUDIT_SUCCESS"==t.refundDetail.refund_status?e("el-tag",{attrs:{size:"mini",type:"success"}},[t._v($t("568wpv9"," 审核成功待退款 ","lang"))]):"SUCCESS"==t.refundDetail.refund_status?e("el-tag",{attrs:{size:"mini",type:"success"}},[t._v($t("nvk9cj6"," 退款成功 ","lang"))]):"REFUSE"==t.refundDetail.refund_status?e("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v($t("o3ub2v6"," 退款驳回 ","lang"))]):"CANCEL"==t.refundDetail.refund_status?e("el-tag",{attrs:{size:"mini",type:"info"}},[t._v($t("1v0bom6"," 撤销退款 ","lang"))]):"PROCESSING"==t.refundDetail.refund_status?e("el-tag",{attrs:{size:"mini",type:"success"}},[t._v($t("gdlensb"," 已发起退款等待到账 ","lang"))]):"CHANGE"==t.refundDetail.refund_status?e("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v($t("nv64i46"," 退款异常 ","lang"))]):t._e()],1)],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("x7zt9w7"," 退款类型: ","lang"))]),e("el-col",{attrs:{span:20}},["0"==t.refundDetail.refund_type?e("el-tag",{attrs:{effect:"plain",type:"warning",size:"mini"}},[t._v($t("dfvq84"," 售后 ","lang"))]):"1"==t.refundDetail.refund_type?e("el-tag",{attrs:{effect:"plain",size:"mini"}},[t._v($t("dfkzl4"," 售前 ","lang"))]):"2"==t.refundDetail.refund_type?e("el-tag",{attrs:{effect:"plain",type:"danger",size:"mini"}},[t._v($t("ffonx4"," 拒单 ","lang"))]):t._e()],1)],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("f5ioqg8"," 是否退运费: ","lang"))]),e("el-col",{attrs:{span:20}},[t.refundDetail.freight<=0?e("el-tag",{attrs:{effect:"plain",type:"warning",size:"mini"}},[t._v($t("g26cho6"," 不退运费 ","lang"))]):t.refundDetail.freight>0?e("el-tag",{attrs:{effect:"plain",size:"mini"}},[t._v($t("j96bqv5"," 退运费 ","lang"))]):t._e()],1)],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("4fl1yd8"," 退运费金额: ","lang"))]),e("el-col",{attrs:{span:20}},[t._v(" "+t._s(t.refundDetail.freight/100)+" ")])],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("u5hmo39"," 退款支付方式: ","lang"))]),e("el-col",{attrs:{span:20}},["wxpay"==t.refundDetail.pay_type?e("span",[t._v($t("cemv244","微信支付","lang"))]):t._e(),"wxpayapp"==t.refundDetail.pay_type?e("span",[t._v($t("k8r0sp7","微信APP支付","lang"))]):t._e(),"wxpayh5"==t.refundDetail.pay_type?e("span",[t._v($t("njsuvr6","微信H5支付","lang"))]):t._e(),"wxpaypc"==t.refundDetail.pay_type?e("span",[t._v($t("k0ionq7","微信POS支付","lang"))]):t._e(),"wxpaypos"==t.refundDetail.pay_type?e("span",[t._v($t("njnglt6","微信PC支付","lang"))]):t._e(),"alipayapp"==t.refundDetail.pay_type?e("span",[t._v($t("2samja8","支付宝APP支付","lang"))]):t._e(),"alipay"==t.refundDetail.pay_type?e("span",[t._v($t("k88wub5","支付宝支付","lang"))]):t._e(),"alipayh5"==t.refundDetail.pay_type?e("span",[t._v($t("99rluy7","支付宝H5支付","lang"))]):t._e(),"alipaypos"==t.refundDetail.pay_type?e("span",[t._v($t("30iyo98","支付宝POS支付","lang"))]):t._e(),"deposit"==t.refundDetail.pay_type?e("span",[t._v($t("an4pv14","余额支付","lang"))]):t._e(),"ebuy"==t.refundDetail.pay_type?e("span",[t._v($t("xqg3ey6","EBUY支付","lang"))]):t._e(),"point"==t.refundDetail.pay_type?e("span",[t._v($t("fq5ozk4","积分支付","lang"))]):t._e(),"pos"==t.refundDetail.pay_type?e("span",[t._v($t("f5b6xs8","POS银行卡支付","lang"))]):t._e()])],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("vn4n3r7"," 退款渠道: ","lang"))]),e("el-col",{attrs:{span:20}},["offline"==t.refundDetail.refund_channel?e("span",[t._v($t("8sulti5","线下退款 ","lang")),"SUCCESS"==t.refundDetail.refund_status?e("el-button",{attrs:{type:"text"},on:{click:t.handleAccountView}},[t._v($t("dlv3fb4","查看账户","lang"))]):t._e()],1):"original"==t.refundDetail.refund_channel?e("span",[t._v($t("b568xm4","原路返回","lang"))]):t._e()])],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("c5sbt35"," 备注: ","lang"))]),e("el-col",{attrs:{span:20}},[t._v(" "+t._s(t.refundDetail.refunds_memo)+" ")])],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("864uaa"," 第三方退款单号: ","lang"))]),e("el-col",{attrs:{span:20}},[t._v(" "+t._s(t.refundDetail.refund_id)+" ")])],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("zfprc87"," 申请时间: ","lang"))]),e("el-col",{attrs:{span:20}},[t._v(" "+t._s(t._f("datetime")(t.refundDetail.create_time,"YYYY-MM-DD HH:mm:ss"))+" ")])],1),e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("m0vbyp9"," 退款成功时间: ","lang"))]),e("el-col",{attrs:{span:20}},[t.refundDetail.refund_success_time?e("span",[t._v(t._s(t._f("datetime")(t.refundDetail.refund_success_time,"YYYY-MM-DD HH:mm:ss")))]):t._e()])],1),t.refundDetail.refuse_reason?e("el-row",[e("el-col",{staticClass:"col-3 content-right",attrs:{span:3}},[t._v($t("3js5l6b"," 商家处理申请说明: ","lang"))]),e("el-col",{attrs:{span:20}},[t._v(" "+t._s(t.refundDetail.refuse_reason)+" ")])],1):t._e()],1),e("SpDialog",{ref:"refundDialogRef",attrs:{title:`${$t("joy72j6","退款【订单：","lang")}${t.refundForm.order_id}】`,form:t.refundForm,"form-list":t.refundFormList,"is-show-footer":!1},model:{value:t.refundDialog,callback:function(e){t.refundDialog=e},expression:"refundDialog"}})],1)],2)},[],!1,null,"2f02d660",null),r=s.exports}}]);