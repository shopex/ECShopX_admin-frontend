"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[2773],{32773:function(e,t,a){a.r(t),a.d(t,{default:function(){return i}});var s=a(95353),r=a(5134),l={data(){return{params:{page:1,pageSize:15,status:"wait"},search_time:[],list:[],loading:!1,total_count:0}},mounted(){this.getList()},methods:{search(){},getList(){this.search_time.length>0?(this.params.time_start=this.search_time[0]/1e3,this.params.time_end=this.search_time[1]/1e3):(this.params.time_start="",this.params.time_end=""),this.loading=!0,(0,r.getTaskBrokerageLog)(this.params).then(e=>{this.loading=!1,this.list=e.data.data.list,this.total_count=e.data.data.total_count})},onReset(){this.search_time=[],this.params.page=1,this.params.status="wait",this.getList()},handleClick(){this.params.page=1,this.getList()},handleSizeChange(e){this.params.page=1,this.params.pageSize=e,this.getList()},handleCurrentChange(e){this.params.page=e,this.getList()}},computed:{...(0,s.L8)(["wheight"])}},i=(0,a(81656).A)(l,function(){var e=this,t=e._self._c;return t("SpPage",[t("SpFilterForm",{attrs:{model:e.params},on:{onSearch:e.handleClick,onReset:e.onReset}},[t("SpFilterFormItem",{attrs:{prop:"order_id",label:$t("kuwys3","订单号","lang")}},[t("el-input",{attrs:{size:"mini",placeholder:$t("kuwys3","订单号","lang")},model:{value:e.params.order_id,callback:function(t){e.$set(e.params,"order_id",t)},expression:"params.order_id"}})],1),t("SpFilterFormItem",{attrs:{prop:"promoter_mobile",label:$t("f20rl3","推广员","lang")}},[t("el-input",{attrs:{size:"mini",placeholder:$t("f20rl3","推广员","lang")},model:{value:e.params.promoter_mobile,callback:function(t){e.$set(e.params,"promoter_mobile",t)},expression:"params.promoter_mobile"}})],1),t("SpFilterFormItem",{attrs:{prop:"item_name",label:$t("eywr2","商品","lang")}},[t("el-input",{attrs:{size:"mini",placeholder:$t("eywr2","商品","lang")},model:{value:e.params.item_name,callback:function(t){e.$set(e.params,"item_name",t)},expression:"params.item_name"}})],1),t("SpFilterFormItem",{attrs:{label:$t("hwbe2","日期","lang"),prop:"search_time"}},[t("el-date-picker",{attrs:{type:"daterange","value-format":"timestamp","range-separator":$t("po31","至","lang"),"start-placeholder":$t("cd0ag54","开始日期","lang"),"end-placeholder":$t("gfhy2u4","结束日期","lang")},model:{value:e.search_time,callback:function(t){e.search_time=t},expression:"search_time"}})],1)],1),t("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.params.status,callback:function(t){e.$set(e.params,"status",t)},expression:"params.status"}},[t("el-tab-pane",{attrs:{name:"wait",label:$t("em0o73","待统计","lang")}}),t("el-tab-pane",{attrs:{name:"finish",label:$t("edpuc3","已统计","lang")}}),t("el-tab-pane",{attrs:{name:"close",label:$t("eod62","关闭","lang")}}),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.list,height:e.wheight-170,"element-loading-text":$t("go5gpa5","数据加载中","lang"),"default-sort":{prop:"bind_date",order:"descending"}}},[t("el-table-column",{attrs:{prop:"order_id",label:$t("kuwys3","订单号","lang")}}),t("el-table-column",{attrs:{prop:"promoter_mobile",label:$t("f20rl3","推广员","lang")}}),t("el-table-column",{attrs:{prop:"buy_mobile",label:$t("i52zaq4","购买用户","lang")}}),t("el-table-column",{attrs:{prop:"item_name",label:$t("eywr2","商品","lang")},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(a.row.item_name)),a.row.item_spec_desc?t("el-tag",{attrs:{size:"mini",effect:"plain"}},[e._v(" "+e._s(a.row.item_spec_desc)+" ")]):e._e()]}}])}),t("el-table-column",{attrs:{prop:"price",label:$t("j5i8hc4","销售总额","lang"),"min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.price/100)+$t("agipn04","元【数量","lang")+e._s(t.row.num)+"】 ")]}}])}),t("el-table-column",{attrs:{prop:"plan_date","min-width":"80",label:$t("okop2","账期","lang")}}),t("el-table-column",{attrs:{label:$t("k1e32","状态","lang"),"min-width":"60"},scopedSlots:e._u([{key:"default",fn:function(a){return["finish"==a.row.status?t("el-tag",{attrs:{type:"success"}},[e._v($t("cq1c3u5"," 已完成 ","lang"))]):e._e(),"close"==a.row.status?t("el-tag",{attrs:{type:"info"}},[e._v($t("d7exy4"," 关闭 ","lang"))]):e._e(),"wait"==a.row.status?t("el-tag",{attrs:{type:"warning"}},[e._v($t("d2jzuh5"," 待统计 ","lang"))]):e._e()]}}])})],1),t("div",{staticClass:"mt-4 text-right"},[t("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","current-page":e.params.page,"page-sizes":[15,20,50],total:e.total_count,"page-size":e.params.pageSize},on:{"update:currentPage":function(t){return e.$set(e.params,"page",t)},"update:current-page":function(t){return e.$set(e.params,"page",t)},"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)],1)],1)},[],!1,null,"5fe26ded",null).exports}}]);