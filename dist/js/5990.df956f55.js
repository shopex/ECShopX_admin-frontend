"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[5990],{5990:function(t,e,a){a.r(e),a.d(e,{default:function(){return i}});var o=a(95353),n=a(43897),l={components:{GlobalFooter:a(31380).default},data(){return{loading:!1,form:{freight_type:"cash",proportion:0,rounding_mode:"down"},entrance:{mobile_openstatus:!1,pc_openstatus:!1}}},mounted(){this.getInfo()},methods:{handleInput2(t){t.target.value=t.target.value.match(/^\d*(\.?\d{0,1})/g)[0]||null},getInfo(){this.loading=!0,(0,n.getSetting)().then(t=>{this.form.freight_type=t.data.data.freight_type,this.form.proportion=t.data.data.proportion,this.form.rounding_mode=t.data.data.rounding_mode,this.entrance.mobile_openstatus=!(!t.data.data.entrance||!t.data.data.entrance.mobile_openstatus)&&t.data.data.entrance.mobile_openstatus,this.loading=!1})},save(){(0,n.saveSetting)({...this.form,entrance:{mobile_openstatus:this.entrance.mobile_openstatus}}).then(t=>{this.$message({type:"success",message:$t("d1spvi4","操作成功","lang")}),this.getInfo()})}},computed:{...(0,o.L8)(["wheight"])}},i=(0,a(81656).A)(l,function(){var t=this,e=t._self._c;return e("SpPage",[e("div",{staticClass:"title"},[t._v($t("6ket1n8","积分商城基础设置","lang"))]),e("el-card",[e("div",{staticStyle:{width:"90%"}},[e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"label-width":"180px","label-position":"left"}},[e("el-form-item",{attrs:{label:$t("amkokf4","入口配置","lang")}},[e("span",{staticClass:"desc"},[t._v($t("c998uqv","开启后，您的用户能在对应界面进入积分商城页面使用积分换购商品。","lang"))])]),e("el-form-item",[e("span",{attrs:{slot:"label"},slot:"label"},[t._v($t("g85dku5"," 移动端 ","lang")),e("br"),t._v($t("umkm80g"," (包含小程序/H5/APP） ","lang"))]),e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.entrance.mobile_openstatus,callback:function(e){t.$set(t.entrance,"mobile_openstatus",e)},expression:"entrance.mobile_openstatus"}})],1)],1)],1)]),e("el-card",[e("div",{staticStyle:{width:"70%"}},[e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"label-width":"180px",model:t.form}},[e("el-form-item",{attrs:{label:$t("ew6i2v4","物流费用","lang")}},[e("el-radio-group",{model:{value:t.form.freight_type,callback:function(e){t.$set(t.form,"freight_type",e)},expression:"form.freight_type"}},[e("el-radio",{attrs:{label:"cash"}},[t._v($t("dgwqza5"," 按现金 ","lang"))]),e("el-radio",{attrs:{label:"point"}},[t._v($t("dhiu0w5"," 按积分 ","lang"))])],1),e("br"),e("span",{staticClass:"tip"},[t._v($t("luilcze","说明：运费使用现金或积分支付","lang"))])],1),"point"==t.form.freight_type?e("el-form-item",{attrs:{label:$t("40xapd8","积分商城汇率设置","lang")}},[e("el-input",{staticStyle:{width:"120px"},attrs:{type:"number",placeholder:"",min:1,max:9999999},model:{value:t.form.proportion,callback:function(e){t.$set(t.form,"proportion",e)},expression:"form.proportion"}}),t._v($t("4xh0rjb","积分 抵扣1元人民币 ","lang"))],1):t._e(),"point"==t.form.freight_type?e("el-form-item",{attrs:{label:$t("idrnln6","积分取整设置","lang")}},[e("el-radio-group",{model:{value:t.form.rounding_mode,callback:function(e){t.$set(t.form,"rounding_mode",e)},expression:"form.rounding_mode"}},[e("el-radio",{attrs:{label:"down"}},[t._v($t("13voxk6"," 向下取整 ","lang"))]),e("el-radio",{attrs:{label:"up"}},[t._v($t("13wbx36"," 向上取整 ","lang"))])],1),e("br")],1):t._e()],1)],1)]),e("template",{slot:"page-footer"},[e("div",{staticClass:"text-center"},[e("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v($t("cp35x4"," 保存 ","lang"))])],1)])],2)},[],!1,null,"bd168442",null).exports}}]);