"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[2401],{82401:function(e,t,a){a.r(t),a.d(t,{default:function(){return l}});var s=a(16519),n={data(){const e={employee_user_mobile:void 0,dependents_user_mobile:void 0};return{initialParams:e,loading:!1,purchase_id:null,dataList:[],total_count:0,params:{...e,page:1,pageSize:20}}},mounted(){this.purchase_id=this.$route.query.id,this.getPurchaseDependentsLists()},methods:{onReset(){this.params={...this.initialParams},this.onSearch()},onSearch(){this.params.page=1,this.$nextTick(()=>{this.getPurchaseDependentsLists()})},handleCurrentChange(e){this.params.page=e,this.getPurchaseDependentsLists()},getPurchaseDependentsLists(){this.loading=!0,this.params.purchase_id=this.purchase_id,(0,s.getPurchaseDependentsLists)(this.params).then(e=>{this.dataList=e.data.data.list,this.total_count=e.data.data.total_count,this.loading=!1}).catch(e=>{this.loading=!1,this.$message({type:"error",message:$t("sptfod8","获取亲友列表失败","lang")})})}}},l=(0,a(81656).A)(n,function(){var e=this,t=e._self._c;return t("div",[t("SpFilterForm",{attrs:{model:e.params},on:{onSearch:e.onSearch,onReset:e.onReset}},[t("SpFilterFormItem",{attrs:{prop:"employee_user_mobile",label:$t("jlfu7z6","员工手机号:","lang")}},[t("el-input",{attrs:{placeholder:$t("ewbd43","手机号","lang")},model:{value:e.params.employee_user_mobile,callback:function(t){e.$set(e.params,"employee_user_mobile",t)},expression:"params.employee_user_mobile"}})],1),t("SpFilterFormItem",{attrs:{prop:"dependents_user_mobile",label:$t("5rixe36","亲友手机号:","lang")}},[t("el-input",{attrs:{placeholder:$t("ewbd43","手机号","lang")},model:{value:e.params.dependents_user_mobile,callback:function(t){e.$set(e.params,"dependents_user_mobile",t)},expression:"params.dependents_user_mobile"}})],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,border:"",height:"580"}},[t("el-table-column",{attrs:{prop:"employee_user_mobile",label:$t("d462w55","员工手机号","lang")}}),t("el-table-column",{attrs:{prop:"employee_user_name",label:$t("b186g84","员工昵称","lang")}}),t("el-table-column",{attrs:{prop:"dependents_user_mobile",label:$t("yk08zz5","亲友手机号","lang")}}),t("el-table-column",{attrs:{prop:"dependents_user_name",label:$t("aa3lv84","亲友昵称","lang")}}),t("el-table-column",{attrs:{prop:"dependents_used_limitfee",label:$t("gsy1wr7","亲友已使用额度","lang")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" ￥"+e._s(t.row.dependents_used_limitfee/100)+" ")]}}])}),t("el-table-column",{attrs:{label:$t("gdqvl34","绑定时间","lang")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("datetime")(t.row.created,"YYYY-MM-DD HH:mm:ss"))+" ")]}}])})],1),e.total_count>e.params.pageSize?t("div",{staticClass:"content-center content-top-padded"},[t("el-pagination",{attrs:{layout:"prev, pager, next","current-page":e.params.page,total:e.total_count,"page-size":e.params.pageSize},on:{"update:currentPage":function(t){return e.$set(e.params,"page",t)},"update:current-page":function(t){return e.$set(e.params,"page",t)},"current-change":e.handleCurrentChange}})],1):e._e()],1)},[],!1,null,"80eef524",null).exports}}]);