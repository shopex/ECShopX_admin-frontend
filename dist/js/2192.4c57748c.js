"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[2192],{92192:function(e,t,a){a.r(t),a.d(t,{default:function(){return s}});var l=a(77825),i={mixins:[l.Ay,l.v8],data(){return{searchParams:{agent_name:"",province:[]},check_options:[{label:$t("eftvg3","待审核","lang"),value:0},{label:$t("c00pno4","审核通过","lang"),value:1},{label:$t("bzsx1e4","审核拒绝","lang"),value:2}],dataList:[],provinces:[],tableLoading:!1,loading:!1,editDialog:!1,editForm:{id:"",is_check:"0",agent_name:"",wx_openid:"",province:[]},tableSetting:{columns:[{name:$t("bzvg8y4","审核状态","lang"),key:"check_state"},{name:$t("vm0hbk5","供应商名称","lang"),key:"supplier_name"},{name:$t("lckeu3","负责人","lang"),key:"contact"},{name:$t("ewbd43","手机号","lang"),key:"mobile"},{name:$t("fcm8nf4","登录账号","lang"),key:"login_name"}],actions:[{name:$t("e5fv2","修改","lang"),key:"edit",type:"button",buttonType:"text",visible:e=>e.check_state==$t("c00pno4","审核通过","lang"),action:{type:"link",handler:([e])=>{this.editRow(e)}}},{name:$t("g5o72","审核","lang"),key:"review",type:"button",buttonType:"text",visible:e=>e.check_state!=$t("c00pno4","审核通过","lang"),action:{type:"link",handler:([e])=>{this.editRow(e)}}}]}}},mounted(){},methods:{beforeSearch(e){return{...e,...this.searchParams}},onSearch(){this.$refs.finder.refresh(!0)},async editRow(e){this.editForm={...e},this.editDialog=!0,this.loading=!1},async editFormSubmit(){if(!parseInt(this.editForm.is_check))return this.$message.error($t("vsjc9j7","请选择审核结果","lang")),!1;this.loading=!0;try{const{status:e}=await this.$api.supplier.checkSupplier(this.editForm);this.$message.success($t("aghf564","保存成功","lang")),this.editDialog=!1,this.$refs.finder.refresh()}catch(e){}this.loading=!1}}},s=(0,a(81656).A)(i,function(){var e=this,t=e._self._c;return t("SpPage",{staticClass:"distributorAftersalesAddress"},[e.VERSION_SHUYUN()?e._e():t("SpPlatformTip",{attrs:{h5:"",app:"",alipay:""}}),t("SpFilterForm",{attrs:{model:e.searchParams},on:{onSearch:e.onSearch,onReset:e.onSearch}},[t("SpFilterFormItem",{attrs:{label:$t("vm0hbk5","供应商名称","lang"),prop:"supplier_name"}},[t("el-input",{attrs:{placeholder:$t("5kxe9l8","请输入供应商名称","lang"),clearable:""},model:{value:e.searchParams.supplier_name,callback:function(t){e.$set(e.searchParams,"supplier_name",t)},expression:"searchParams.supplier_name"}})],1),t("SpFilterFormItem",{attrs:{label:$t("ewbd43","手机号","lang"),prop:"mobile"}},[t("el-input",{attrs:{placeholder:$t("7ji3y96","请输入手机号","lang"),clearable:""},model:{value:e.searchParams.mobile,callback:function(t){e.$set(e.searchParams,"mobile",t)},expression:"searchParams.mobile"}})],1),t("SpFilterFormItem",{attrs:{label:$t("bzvg8y4","审核状态","lang"),prop:"is_check"}},[t("el-select",{attrs:{placeholder:$t("l72nr3","请选择","lang"),clearable:""},model:{value:e.searchParams.is_check,callback:function(t){e.$set(e.searchParams,"is_check",t)},expression:"searchParams.is_check"}},e._l(e.check_options,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),t("SpFinder",{ref:"finder",attrs:{url:"/supplier/get_supplier_list","fixed-row-action":"","row-actions-width":"200px","other-config":{},setting:e.tableSetting,hooks:{beforeSearch:e.beforeSearch},"no-selection":"","row-actions-fixed-align":"left"}}),t("el-dialog",{attrs:{title:$t("gldtyu5","审核供应商","lang"),visible:e.editDialog,"close-on-click-modal":!1,width:"800px"},on:{"update:visible":function(t){e.editDialog=t}}},[t("el-descriptions",{attrs:{column:2,border:"","label-style":{width:"150px",textAlign:"right"}}},[t("el-descriptions-item",[t("template",{slot:"label"},[e._v($t("d1xfyo7"," 供应商名称 ","lang"))]),e._v(" "+e._s(e.editForm.supplier_name)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-user"}),e._v($t("h6ymul5"," 联系人 ","lang"))]),e._v(" "+e._s(e.editForm.contact)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-mobile"}),e._v($t("dbf7aw5"," 手机号 ","lang"))]),e._v(" "+e._s(e.editForm.mobile)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[e._v($t("vrs4dp6"," 客服电话 ","lang"))]),e._v(" "+e._s(e.editForm.service_tel)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[e._v($t("q5bonp6"," 营业执照 ","lang"))]),t("a",{attrs:{href:e.editForm.business_license,target:"_blank"}},[t("img",{attrs:{src:e.editForm.business_license,height:"100"}})])],2),t("el-descriptions-item",[t("template",{slot:"label"},[e._v($t("ef85n27"," 客服二维码 ","lang"))]),t("a",{attrs:{href:e.editForm.wechat_qrcode,target:"_blank"}},[t("img",{attrs:{src:e.editForm.wechat_qrcode,height:"100"}})])],2),t("el-descriptions-item",[t("template",{slot:"label"},[e._v($t("15gftq6"," 收款银行 ","lang"))]),e._v(" "+e._s(e.editForm.bank_name)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[e._v($t("16ujax6"," 收款账号 ","lang"))]),e._v(" "+e._s(e.editForm.bank_account)+" ")],2)],1),t("el-form",{ref:"editForm",staticStyle:{"padding-top":"10px"},attrs:{"label-width":"160px"}},[t("el-form-item",{attrs:{label:$t("bzxjxc4","审核结果","lang")}},[t("el-radio",{attrs:{label:"1"},model:{value:e.editForm.is_check,callback:function(t){e.$set(e.editForm,"is_check",t)},expression:"editForm.is_check"}},[e._v($t("c00pno4","审核通过","lang"))]),t("el-radio",{attrs:{label:"2"},model:{value:e.editForm.is_check,callback:function(t){e.$set(e.editForm,"is_check",t)},expression:"editForm.is_check"}},[e._v($t("bzsx1e4","审核拒绝","lang"))])],1),"2"==e.editForm.is_check?t("el-form-item",{attrs:{label:$t("bzr5iw4","审核备注","lang")}},[t("el-input",{attrs:{type:"textarea",rows:2,placeholder:$t("2jbrwj5","请输入内容","lang")},model:{value:e.editForm.audit_remark,callback:function(t){e.$set(e.editForm,"audit_remark",t)},expression:"editForm.audit_remark"}})],1):e._e(),t("div",{staticClass:"section-footer with-border content-center"},[t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.editFormSubmit}},[e._v($t("lwra3"," 确认","lang"))])],1)],1)],1)],1)},[],!1,null,"1378ff73",null).exports}}]);