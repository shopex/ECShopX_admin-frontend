"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[5125],{55125:function(t,e,a){a.r(e),a.d(e,{default:function(){return n}});var s=a(88951),i={data(){return{loading:!1,activeName:"first",pass_type:"password",form:{app_key:"",app_secret:""},rules:{app_key:{required:!0,message:$t("l6wdl3","请输入","lang"),trigger:"blur"},app_secret:{required:!1,message:$t("l6wdl3","请输入","lang"),trigger:"blur"}},tabList:[{name:$t("o89guq6","高德地图配置","lang"),activeName:"first"}]}},mounted(){this.onGetConfig()},methods:{onGetConfig(){(0,s.getMapSetting)().then(t=>{this.form=t.data.data.list[0]})},onSubmitChange(){this.loading=!0;let t={app_key:this.form.app_key,app_secret:this.form.app_secret,map_type:"amap",is_default:1};(0,s.setMapSetting)(t).then(t=>{this.$message({type:"success",message:$t("aghf564","保存成功","lang")}),this.pass_type="password",this.onGetConfig(),this.loading=!1}).catch(t=>{this.loading=!1})},onChangePassIcon(t){this.pass_type=t}}},n=(0,a(81656).A)(i,function(){var t=this,e=t._self._c;return e("div",{staticClass:"map-setting"},[t.VERSION_SHUYUN()?t._e():e("SpPlatformTip",{attrs:{h5:"",app:"",alipay:""}}),e("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabList,function(a,s){return e("el-tab-pane",{key:s,attrs:{label:a.name,name:a.activeName}},[e("el-form",{ref:"form",refInFor:!0,attrs:{model:t.form,rules:t.rules,"label-width":"150px"}},[e("div",{staticClass:"head-tips"},[t._v($t("xdu8wce"," 高德地图Key获取路径： ","lang")),e("el-link",{attrs:{href:"https://developer.amap.com/?ref=http%3A%2F%2Flbs.gaode.com%2Fdev%2F",target:"_blank",type:"primary"}},[t._v($t("pieu8k9"," 高德地图控制台 ","lang"))]),t._v($t("1d39l7y"," ，进入 「我的应用」-「 创建新应用 」-「 添加新Key 」。 ","lang"))],1),e("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"Key",prop:"app_key"}},[e("el-input",{staticStyle:{width:"60%"},attrs:{type:"textarea",rows:6},model:{value:t.form.app_key,callback:function(e){t.$set(t.form,"app_key",e)},expression:"form.app_key"}})],1),e("el-form-item",{attrs:{label:""}},[e("div",{staticClass:"row-tip"},[t._v($t("o5w65ov","Key 不填写或填写错误将导致该功能无法使用，请确保填写正确。","lang"))])]),e("el-form-item",{staticClass:"passwords",attrs:{label:$t("gfbz2","密钥","lang"),prop:"app_secret"}},[e("el-input",{staticStyle:{width:"60%"},attrs:{type:t.pass_type,rows:6},model:{value:t.form.app_secret,callback:function(e){t.$set(t.form,"app_secret",e)},expression:"form.app_secret"}}),"textarea"==t.pass_type?e("i",{staticClass:"iconfont icon-eye1 icons-class",attrs:{title:$t("jjp4l64","隐藏密码","lang")},on:{click:function(e){return t.onChangePassIcon("password")}}}):e("i",{staticClass:"iconfont icon-eye-slash1 icons-class",attrs:{title:$t("jjp4l64","隐藏密码","lang")},on:{click:function(e){return t.onChangePassIcon("textarea")}}})],1),e("div",{staticClass:"section-footer with-border content-center"},[e("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:t.onSubmitChange}},[t._v($t("cp35x4"," 保存 ","lang"))])],1)],1)],1)}),1)],1)},[],!1,null,null,null).exports}}]);