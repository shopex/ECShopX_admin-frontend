"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[2077],{42077:function(t,e,a){a.r(e),a.d(e,{default:function(){return l}});var r=a(7325),n=a(57270),s={data(){return{account:1e3,numberValidateForm:{money:null},rules:{money:[{required:!0,message:$t("2kr6p98","充值金额不能为空","lang"),trigger:"blur"},{validator:this.validateMoney,trigger:"change"}]}}},mounted(){this.getAccount()},methods:{submitForm(t){this.$refs[t].validate(async e=>{if(!e)return!1;{const e={amount:Number(this.numberValidateForm.money)};try{const{data:a}=await(0,r.getRechargeURL)(e);window.open(a.data.link),this.$refs[t].resetFields()}catch(t){n.Message.error($t("al7isr4","充值失败","lang"))}}})},async getAccount(){const t=await(0,r.get_DD_Account)();200==t.status&&(this.account=t.data.data.deliverBalance)},validateMoney(t,e,a){const r=/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/;Number(e)?r.test(e)?Number(e)>1e4?a(new Error($t("cozxafe","每次充值不得超过10000元","lang"))):a():a(new Error($t("jdp5sgh","请输入正确的金额，最多保留两位小数","lang"))):a(new Error($t("zer5nb8","请输入正确的数字","lang")))}}},l=(0,a(81656).A)(s,function(){var t=this,e=t._self._c;return e("SpPage",[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v($t("e9hz2","充值","lang"))])]),e("div",{staticClass:"content"},[e("div",{staticClass:"account"},[e("p",[e("span",[t._v($t("tzpaxa6","账户可用余额","lang"))]),t._v(" "),e("span",[t._v(t._s(t.account)+$t("gtf2"," 元","lang"))])]),e("el-form",{ref:"numberValidateForm",staticClass:"demo-ruleForm",attrs:{rules:t.rules,model:t.numberValidateForm,"label-width":"100px"}},[e("el-form-item",{staticClass:"item",attrs:{label:$t("alh7sz4","充值金额","lang"),prop:"money"}},[e("el-input",{attrs:{type:"money",autocomplete:"off"},model:{value:t.numberValidateForm.money,callback:function(e){t.$set(t.numberValidateForm,"money",e)},expression:"numberValidateForm.money"}})],1),e("el-form-item",{staticClass:"formItem"},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("numberValidateForm")}}},[t._v($t("pg53x6"," 确定充值 ","lang"))])],1)],1)],1)])])],1)},[],!1,null,"7f3f07c5",null).exports}}]);