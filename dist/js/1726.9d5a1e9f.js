"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[1726],{41726:function(e,t,_){_.r(t),_.d(t,{default:function(){return l}});var a=_(86650).A,l=(0,_(81656).A)(a,function(){var e=this,t=e._self._c;return t("div",{staticClass:"section section-white"},[t("div",{staticClass:"section-header with-border"},[e._v($t("hn45x06","员工内购详情","lang"))]),t("div",{staticClass:"section-body"},[t("el-form",{ref:"detail",attrs:{model:e.detail,"label-width":"150px","label-position":"right"}},[t("el-form-item",{attrs:{label:$t("bor30q5","活动名称：","lang")}},[e._v(" "+e._s(e.detail.purchase_name)+" ")]),t("el-form-item",{attrs:{label:$t("56ot1d7","活动分享图片：","lang")}},[t("img",{staticClass:"detail-img",attrs:{src:e.detail.ad_pic}})]),t("el-form-item",{attrs:{label:$t("8utvow7","活动有效时间：","lang"),prop:"activity_time"}},[e._v(" "+e._s(e.detail.begin_date)+" ~ "+e._s(e.detail.end_date)+" ")]),t("el-form-item",{attrs:{label:$t("a6boyc5","适用角色：","lang")}},[e._v(" "+e._s(e.roleTransform(e.detail.used_roles))+" ")]),t("el-form-item",{attrs:{label:$t("cw86585","员工额度：","lang")}},[e._v(" "+e._s(e.detail.employee_limitfee)+" ")]),t("el-form-item",{attrs:{label:$t("2it4a19","亲友是否共有额度：","lang")}},[e._v(" "+e._s(e.detail.is_share_limitfee?$t("k6n1","是","lang"):$t("gme1","否","lang"))+" ")]),e.detail.used_roles&&e.detail.used_roles.indexOf("dependents")>-1&&!e.detail.is_share_limitfee?t("el-form-item",{attrs:{label:$t("d6dd6u7","每位亲友额度：","lang")}},[e._v(" "+e._s(e.detail.dependents_limitfee)+" ")]):e._e(),e.detail.used_roles&&e.detail.used_roles.indexOf("dependents")>-1?t("el-form-item",{attrs:{label:$t("udq6tz9","员工邀请亲友上限：","lang")}},[e._v(" "+e._s(e.detail.dependents_limit)+" ")]):e._e(),t("el-form-item",{attrs:{label:e.itemTypeTransform(e.detail.item_type)+$t("mq09p3","限购：","lang")}},["all"==e.detail.item_type?t("p",[e._v($t("dxs3qg4","每人限购","lang")+e._s(e.detail.item_limit)+$t("fli1","件","lang"))]):t("el-table",{attrs:{data:e.detail.item_limit}},[t("el-table-column",{attrs:{prop:"item_id",label:"ID"}}),t("el-table-column",{attrs:{prop:"name",label:$t("eyrn2","名称","lang")}}),"item"===e.detail.item_type?t("el-table-column",{attrs:{prop:"item_spec_desc",label:$t("uhwcs46","商品规格描述","lang")}}):e._e(),t("el-table-column",{attrs:{prop:"limit_num",label:$t("dxs3qg4","每人限购","lang")}}),t("el-table-column",{attrs:{prop:"limit_fee",label:$t("dxs5zs4","每人限额","lang")}})],1)],1),t("el-form-item",{attrs:{label:$t("g0n0b29","单笔订单最低金额：","lang")}},[e._v(" "+e._s(e.detail.minimum_amount)+" ")])],1)],1)])},[],!1,null,"0b309fd1",null).exports},86650:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(44114),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18111),core_js_modules_es_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_iterator_map_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(61701),core_js_modules_es_iterator_map_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_iterator_map_js__WEBPACK_IMPORTED_MODULE_2__),_api_purchase__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(16519);__webpack_exports__.A={data(){return{detail:{}}},mounted(){if(this.$route.query.id){let e={purchase_id:this.$route.query.id};(0,_api_purchase__WEBPACK_IMPORTED_MODULE_3__.getPurchaseInfo)(e).then(e=>{this.detail=e.data.data;const{dependents_limitfee:t,employee_limitfee:_,item_limit:a,minimum_amount:l}=this.detail;this.detail.dependents_limitfee=(t/100).toFixed(2),this.detail.employee_limitfee=(_/100).toFixed(2),this.detail.minimum_amount=(l/100).toFixed(2),Array.isArray(a)&&a.length>0&&(this.detail.item_limit=a.map(e=>(e.limit_fee=(e.limit_fee/100).toFixed(2),e)))})}},methods:{roleTransform(role){if(role){let transRole=eval(role),textArr=[];return transRole.length>0&&transRole.indexOf("employee")>-1&&textArr.push($t("ev0t2","员工","lang")),transRole.length>0&&transRole.indexOf("dependents")>-1&&textArr.push($t("duft2","亲友","lang")),textArr.toString()}},itemTypeTransform(e){switch(e){case"all":return $t("av9wor4","全部商品","lang");case"item":return $t("cvh7u64","指定商品","lang");case"tag":return $t("cxj1z96","指定商品标签","lang");case"category":return $t("cvgvs84","指定分类","lang");case"brand":return $t("cvhahq4","指定品牌","lang")}}}}}}]);