"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[5974],{45974:function(t,e,a){a.r(e),a.d(e,{default:function(){return r}});a(18111),a(61701);var s=a(20041),i=a(27671),l=a(2038);var n={data(){return{incomeList:{},shopValue:"",shopValues:[],distributor_id:"",tips_1:!1,tips_2:!1,dateValue:[],select_regions_value:[],regions:i,total_count:0,pickerOptions:{disabledDate(t){return t.getTime()>Date.now()},shortcuts:[{text:$t("dw2n2","今天","lang"),onClick(t){const e=new Date,a=new Date;e.setTime(e.getTime()-0),a.setTime(a.getTime()-0),t.$emit("pick",[e,a])}},{text:$t("msk66n6","最近 7 天","lang"),onClick(t){const e=new Date,a=new Date;e.setTime(e.getTime()-6048e5),a.setTime(a.getTime()-0),t.$emit("pick",[e,a])}},{text:$t("3p963g7","最近 15 天","lang"),onClick(t){const e=new Date,a=new Date;e.setTime(e.getTime()-1296e6),a.setTime(a.getTime()-0),t.$emit("pick",[e,a])}},{text:$t("3pacd17","最近 30 天","lang"),onClick(t){const e=new Date,a=new Date;e.setTime(e.getTime()-2592e6),a.setTime(a.getTime()-0),t.$emit("pick",[e,a])}},{text:$t("3pe6a77","最近 90 天","lang"),onClick(t){const e=new Date,a=new Date;e.setTime(e.getTime()-7776e6),a.setTime(a.getTime()-0),t.$emit("pick",[e,a])}}]},page:{page:1,page_size:10},params:{name:"",mobile:"",is_valid:"",province:"",city:"",area:""},pickerDate:{startTime:"",endTime:""},tableData:[],loading:!1}},computed:{getNowFormatDate(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,s=t.getDate();return a>=1&&a<=9&&(a="0"+a),s>=0&&s<=9&&(s="0"+s),e+"-"+a+"-"+s}},created(){},mounted(){this.dateValue=[this.getNowFormatDate,this.getNowFormatDate],this.get_config(),this.getList()},methods:{async get_config(){this.loading=!0;const t={start_date:this.dateValue[0],end_date:this.dateValue[1],...this.page,distributor_id:this.distributor_id},e=await(0,s.get_all)(t);this.loading=!1,this.incomeList=e.data.data.totle,this.tableData=e.data.data.list.data,this.total_count=e.data.data.list.total_count,this.total_count<=0&&this.$message.error($t("dcv57g4","暂无数据","lang"))},mouseenterHandle(t){1!=t||this.tips_1?2!=t||this.tips_2||(this.tips_2=!0):this.tips_1=!0},mouseoverHandle(t){1==t&&this.tips_1?this.tips_1=!1:2==t&&this.tips_2&&(this.tips_2=!1)},changeDateHandle(){if(this.dateValue){(new Date(this.dateValue[1])-new Date(this.dateValue[0]))/864e5>90?(this.$message.error($t("xa9qewb","所选日期不能大于90天","lang")),this.dateValue=[this.getNowFormatDate,this.getNowFormatDate],this.get_config()):this.get_config(this.dateValue[0],this.dateValue[1])}else this.$nextTick(()=>{this.dateValue=[this.getNowFormatDate,this.getNowFormatDate],this.get_config()})},searchAction(t){},RegionChangeSearch(t){this.shopValue="",this.distributor_id="";var e,a,s=(e=t,a=this.regions,e.map(function(t,e,s){for(var i of a)if(i.value===t)return a=i.children,i;return null}));1==s.length?(this.params.province=s[0].label,this.params.city="",this.params.area=""):2==s.length?(this.params.province=s[0].label,this.params.city=s[1].label,this.params.area=""):3==s.length&&(this.params.province=s[0].label,this.params.city=s[1].label,this.params.area=s[2].label),0==this.select_regions_value.length&&(this.params.area="",this.params.city="",this.params.province="",this.get_config()),this.getList()},async getList(){try{const t=await(0,l.getDistributorList)(this.params);this.shopValues=t.data.data.list}catch(t){this.$message({message:$t("vp6h9m6","获取店铺失败","lang"),type:"error"})}},formatMoney(t){var e=parseFloat(t);if(isNaN(e))return console($t("he24bpb","传递参数错误，请检查！","lang")),!1;var a=(e=Math.round(100*t)/100).toString(),s=a.indexOf(".");for(s<0&&(s=a.length,a+=".");a.length<=s+2;)a+="0";return"￥"+a},handleSizeChange(t){this.page.page_size=t,this.get_config()},handleCurrentChange(t){this.page.page=t,this.get_config()},selectChange(t){this.distributor_id=t,this.get_config()},async exportHandle(){const t={start_date:this.dateValue[0],end_date:this.dateValue[1],distributor_id:this.distributor_id};if((await(0,s.exportData)(t)).data.data.status)return this.$message.success($t("by5dal4","导出成功","lang"))}}},r=(0,a(81656).A)(n,function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-transactionStatistics"},[e("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[e("div",{staticClass:"header_",attrs:{slot:"header"},slot:"header"},[e("div",[t._v($t("3ehtjx6","平台账户收入","lang"))]),e("div",{staticClass:"why",on:{mouseenter:function(e){return t.mouseenterHandle(1)},mouseout:function(e){return t.mouseoverHandle(1)}}},[e("img",{attrs:{src:a(92390),alt:""}}),t.tips_1?e("div",{staticClass:"tips"},[e("div",{staticClass:"tips_content"},[e("h4",{staticClass:"title"},[t._v($t("e9a9meb","平台总计收入（含退款）","lang"))]),e("h5",{staticClass:"value"},[t._v($t("f3x64xc","分账手续费统计（含退款）","lang"))])]),e("div",{staticClass:"tips_content"},[e("h4",{staticClass:"title"},[t._v($t("6oy1t47","平台总退款金额","lang"))]),e("h5",{staticClass:"value"},[t._v($t("z2mo1oh","分账手续费总退款金额（已退款成功）","lang"))])]),e("div",{staticClass:"tips_content"},[e("h4",{staticClass:"title"},[t._v($t("vpbgxp7","平台未结算金额","lang"))]),e("h5",{staticClass:"value"},[t._v($t("7wf44ht","订单为过售后期进行分账的手续费（不含全额退款成功及退款中）","lang"))])]),e("div",{staticClass:"tips_content"},[e("h4",{staticClass:"title"},[t._v($t("4cazej7","平台已结算金额","lang"))]),e("h5",{staticClass:"value"},[t._v($t("2wuscfe","已进行分账且成功的手续费金额","lang"))])]),e("div",{staticClass:"tips_content"},[e("h4",{staticClass:"title"},[t._v($t("buifs77","当前可提现余额","lang"))]),e("h5",{staticClass:"value"},[t._v($t("97xkh8b","汇付平台账户中当前余额","lang"))])])]):t._e()])]),e("div",{staticClass:"content"},[e("div",{staticClass:"item"},[e("p",{staticClass:"money"},[t._v(" "+t._s(t.incomeList.income)+" ")]),e("p",[t._v($t("e9a9meb","平台总计收入（含退款）","lang"))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"money"},[t._v(" "+t._s(t.incomeList.refund)+" ")]),e("p",[t._v($t("6oy1t47","平台总退款金额","lang"))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"money"},[t._v(" "+t._s(t.incomeList.unsettled_funds)+" ")]),e("p",[t._v($t("vpbgxp7","平台未结算金额","lang"))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"money"},[t._v(" "+t._s(t.incomeList.settlement_funds)+" ")]),e("p",[t._v($t("4cazej7","平台已结算金额","lang"))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"money"},[t._v(" "+t._s(t.incomeList.withdrawal_balance)+" ")]),e("p",[t._v($t("buifs77","当前可提现余额","lang"))])])])]),e("el-card",{staticClass:"box-card box-card2",attrs:{shadow:"never"}},[e("div",{staticClass:"header_",attrs:{slot:"header"},slot:"header"},[e("div",{staticClass:"left"},[e("div",{staticClass:"date"},[e("el-date-picker",{attrs:{type:"daterange","alue-format":"yyyy-MM-dd","picker-options":t.pickerOptions,"range-separator":$t("po31","至","lang"),"start-placeholder":$t("cd0ag54","开始日期","lang"),"end-placeholder":$t("gfhy2u4","结束日期","lang"),align:"right","value-format":"yyyy-MM-dd"},on:{change:t.changeDateHandle},model:{value:t.dateValue,callback:function(e){t.dateValue=e},expression:"dateValue"}})],1),e("div",[e("el-cascader",{attrs:{placeholder:$t("via1sx5","省/市/区","lang"),options:t.regions,clearable:""},on:{change:t.RegionChangeSearch},model:{value:t.select_regions_value,callback:function(e){t.select_regions_value=e},expression:"select_regions_value"}})],1),t.shopValues.length>=0?e("div",[e("el-select",{attrs:{clearable:"",placeholder:$t("l72nr3","请选择","lang")},on:{change:t.selectChange},model:{value:t.shopValue,callback:function(e){t.shopValue=e},expression:"shopValue"}},t._l(t.shopValues,function(t){return e("el-option",{key:t.distributor_id,attrs:{label:t.name,value:t.distributor_id}})}),1)],1):t._e()]),e("div",{staticClass:"right"},[e("div",{staticClass:"btn"},[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.exportHandle}},[t._v($t("efepu4"," 导出 ","lang"))])],1),e("div",{staticClass:"why",on:{mouseenter:function(e){return t.mouseenterHandle(2)},mouseout:function(e){return t.mouseoverHandle(2)}}},[e("img",{attrs:{src:a(92390),alt:""}}),t.tips_2?e("div",{staticClass:"tips"},[e("div",{staticClass:"tips_content"},[e("h4",{staticClass:"title"},[t._v($t("bu74rj7","当前可提现金额","lang"))]),e("h5",{staticClass:"value"},[t._v($t("jxfyz5e","当前店铺在支付平台账户中余额","lang"))])]),e("div",{staticClass:"tips_content"},[e("h4",{staticClass:"title"},[t._v($t("ye016g5","交易总笔数","lang"))]),e("h5",{staticClass:"value"},[t._v($t("m7iqnsg","当前时间段内交易总笔数（含退款）","lang"))])]),e("div",{staticClass:"tips_content"},[e("h4",{staticClass:"title"},[t._v($t("vghz2u5","总交易金额","lang"))]),e("h5",{staticClass:"value"},[t._v($t("p11w80g","当前时间段内总支付金额（含退款）","lang"))])]),e("div",{staticClass:"tips_content"},[e("h4",{staticClass:"title"},[t._v($t("dzordic","已退款总笔数&退款总金额","lang"))]),e("h5",{staticClass:"value"},[t._v($t("91k67jj","已退总笔数：当前时间段内退款成功总笔数","lang"))]),e("h5",{staticClass:"value"},[t._v($t("811brsi","退款总金额：当前时间段内退款成功总额","lang"))])]),e("div",{staticClass:"tips_content"},[e("h4",{staticClass:"title"},[t._v($t("jhsntkb","在退总笔数&在退总金额","lang"))]),e("h5",{staticClass:"value"},[t._v($t("17i05ni","在退总笔数：当前时间段内退款中总笔数","lang"))]),e("h5",{staticClass:"value"},[t._v($t("7445sbi","在退总金额：当前时间段内退款中总金额","lang"))])]),e("div",{staticClass:"tips_content"},[e("h4",{staticClass:"title"},[t._v($t("prhos2h","已结算手续费总额&未结算手续费总额","lang"))]),e("h5",{staticClass:"value"},[t._v($t("7rzqoeq","已结算手续费总额：当前时间段内已分账到平台账户中金额","lang"))]),e("h5",{staticClass:"value"},[t._v($t("gp9ruaq","未结算手续费总额：当前时间段内未分账到平台账户中金额","lang"))])])]):t._e()])])]),e("div",{staticClass:"content2"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{prop:"distributor_name",label:$t("cjqdxi4","店铺名称","lang"),width:"180"}}),e("el-table-column",{attrs:{prop:"withdrawal_balance",label:$t("bu74rj7","当前可提现金额","lang")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.withdrawal_balance&&t.formatMoney(e.row.withdrawal_balance/100))+" ")]}}])}),e("el-table-column",{attrs:{prop:"order_count",label:$t("ye016g5","交易总笔数","lang")}}),e("el-table-column",{attrs:{prop:"order_total_fee",label:$t("vghz2u5","总交易金额","lang")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.order_total_fee&&t.formatMoney(e.row.order_total_fee/100))+" ")]}}])}),e("el-table-column",{attrs:{prop:"order_refund_count",label:$t("utnzc76","已退款总笔数","lang")}}),e("el-table-column",{attrs:{prop:"order_refund_total_fee",label:$t("8q6a215","退款总金额","lang")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.order_refund_total_fee&&t.formatMoney(e.row.order_refund_total_fee/100))+" ")]}}])}),e("el-table-column",{attrs:{prop:"order_refunding_count",label:$t("470qkf5","在退总笔数","lang")}}),e("el-table-column",{attrs:{prop:"order_refunding_total_fee",label:$t("474vwv5","在退总金额","lang")},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"red"},[t._v(" "+t._s(a.row.order_refunding_total_fee&&t.formatMoney(a.row.order_refunding_total_fee/100)))])]}}])}),e("el-table-column",{attrs:{prop:"order_profit_sharing_charge",label:$t("wogtr78","已结算手续费总额","lang")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.order_profit_sharing_charge&&t.formatMoney(e.row.order_profit_sharing_charge/100))+" ")]}}])}),e("el-table-column",{attrs:{prop:"order_un_profit_sharing_charge",label:$t("73up9n8","未结算手续费总额","lang")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.order_un_profit_sharing_charge&&t.formatMoney(e.row.order_un_profit_sharing_charge/100))+" ")]}}])})],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{"page-sizes":[10,20,50],"current-page":t.page.page,"page-size":t.page.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.total_count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])],1)},[],!1,null,"bbb8981a",null).exports},92390:function(t,e,a){t.exports=a.p+"img/wenhao.94ef230f.png"}}]);