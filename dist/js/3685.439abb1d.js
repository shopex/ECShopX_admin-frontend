"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[3685],{33685:function(a,t,s){s.r(t),s.d(t,{default:function(){return f}});s(44114),s(18111),s(7588);var n=s(82997),e={props:["info"],data(){return{}},mounted(){},methods:{}},r=s(81656),l=(0,r.A)(e,function(){var a=this,t=a._self._c;return t("el-card",{staticClass:"order_info_card"},[t("h3",[a._v($t("hym7z54","订单信息","lang"))]),t("el-row",[t("el-col",{attrs:{span:6}},[t("span",{staticClass:"order_info_label"},[a._v($t("mar5lf7","分账订单日期:","lang"))]),t("span",{staticClass:"order_info_value"},[a._v(a._s(a.info.hf_order_date))])]),t("el-col",{attrs:{span:6}},[t("span",{staticClass:"order_info_label"},[a._v($t("pzufe6","分账订单号:","lang"))]),t("span",{staticClass:"order_info_value"},[a._v(a._s(a.info.hf_order_id))])]),t("el-col",{attrs:{span:6}},[t("span",{staticClass:"order_info_label"},[a._v($t("5bv21n8","原订单支付日期:","lang"))]),t("span",{staticClass:"order_info_value"},[a._v(a._s(a.info.pay_time))])]),t("el-col",{attrs:{span:6}},[t("span",{staticClass:"order_info_label"},[a._v($t("hapf0i7","原支付订单号:","lang"))]),t("span",{staticClass:"order_info_value"},[a._v(a._s(a.info.order_id))])]),t("el-col",{attrs:{span:6}},[t("span",{staticClass:"order_info_label"},[a._v($t("yg395j5","交易单号:","lang"))]),t("span",{staticClass:"order_info_value"},[a._v(a._s(a.info.trade_id))])]),t("el-col",{attrs:{span:6}},[t("span",{staticClass:"order_info_label"},[a._v($t("ezi1x86","原交易类型:","lang"))]),t("span",{staticClass:"order_info_value"},[a._v(a._s(a.info.app_pay_type_desc))])]),t("el-col",{attrs:{span:6}},[t("span",{staticClass:"order_info_label"},[a._v($t("slei6q7","订单支付金额:","lang"))]),t("span",{staticClass:"order_info_value",staticStyle:{color:"#67c23a"}},[a._v("￥ "+a._s((a.info.total_fee/100).toFixed(2)))])]),t("el-col",{attrs:{span:6}},[t("span",{staticClass:"order_info_label"},[a._v($t("eqbc2z5","结算状态:","lang"))]),t("span",{staticClass:"order_info_value"},[a._v(a._s("1"===a.info.profitsharing_status?$t("fq8cu3","未结算","lang"):$t("edmdy3","已结算","lang")))])]),t("el-col",{attrs:{span:6}},[t("span",{staticClass:"order_info_label"},[a._v($t("1vpog06","平台手续费:","lang"))]),t("span",{staticClass:"order_info_value"},[a._v("￥ "+a._s((a.info.charge/100).toFixed(2)))])]),t("el-col",{attrs:{span:6}},[t("span",{staticClass:"order_info_label"},[a._v($t("pr45qz7","平台服务费率:","lang"))]),t("span",{staticClass:"order_info_value"},[a._v(a._s(a.info.profitsharing_rate)+"%")])]),t("el-col",{attrs:{span:6}},[t("span",{staticClass:"order_info_label"},[a._v($t("xu5q0k5","店铺名称:","lang"))]),t("span",{staticClass:"order_info_value"},[a._v(a._s(a.info.distributor_name))])]),t("el-col",{attrs:{span:6}},[t("span",{staticClass:"order_info_label"},[a._v($t("8xg2c05","退款金额:","lang"))]),t("span",{staticClass:"order_info_value",staticStyle:{color:"#d9001b"}},[a._v("￥ "+a._s((a.info.refund_fee/100).toFixed(2)))])]),t("el-col",{attrs:{span:6}},[t("span",{staticClass:"order_info_label"},[a._v($t("banz2c5","订单状态:","lang"))]),t("span",{staticClass:"order_info_value"},[a._v(" "+a._s("refunding"===a.info.order_status&&$t("llz8v3","退款中","lang")||"pay"===a.info.order_status&&$t("d3gkpk4","支付成功","lang")||"refundsuccess"===a.info.order_status&&$t("im16q54","退款成功","lang")||"refundfail"===a.info.order_status&&$t("ilzzyq4","退款失败","lang")||"NOTPAY"===a.info.order_status&&$t("flmib3","未支付","lang")||"PART_PAYMENT"===a.info.order_status&&$t("imd7no4","部分付款","lang")||"WAIT_GROUPS_SUCCESS"===a.info.order_status&&$t("d1ddtb6","等待拼团成功","lang")||"PAYED"===a.info.order_status&&$t("e90jf3","已支付","lang")||"CANCEL"===a.info.order_status&&$t("e68dg3","已取消","lang")||"WAIT_BUYER_CONFIRM"===a.info.order_status&&$t("xij9qd5","待用户收货","lang"))+" ")])]),"refunding"===a.info.order_status||"refundsuccess"===a.info.order_status||"refundfail"===a.info.order_status?t("el-col",{attrs:{span:6}},[t("span",{staticClass:"order_info_label"},[a._v($t("mb7kn65","剩余金额:","lang"))]),t("span",{staticClass:"order_info_value"},[a._v("￥"+a._s((a.info.balance/100).toFixed(2)))])]):a._e()],1)],1)},[],!1,null,"2805e612",null).exports,o={props:["data"],data(){return{}}},i=(0,r.A)(o,function(){var a=this,t=a._self._c;return a.data.length>0?t("el-card",{staticClass:"ledger_info_card"},[t("h3",[a._v($t("axi4jy4","分账信息","lang"))]),t("el-table",{staticStyle:{width:"100%"},attrs:{data:a.data}},[t("el-table-column",{attrs:{prop:"created_at",label:$t("g97lzy5","分账客户号","lang")}}),t("el-table-column",{attrs:{prop:"distributor_name",label:$t("6pqvig6","分账客户名称","lang")}}),t("el-table-column",{attrs:{prop:"total_fee",label:$t("axtnf04","分账金额","lang")},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v(" ￥"+a._s((t.row.total_fee/100).toFixed(2))+" ")]}}],null,!1,549929772)})],1)],1):a._e()},[],!1,null,"1507123b",null).exports,_={props:["data","arr"],data(){return{}},methods:{objectSpanMethod({row:a,column:t,rowIndex:s,columnIndex:n}){if(0===n){const a=this.arr[s];return{rowspan:a,colspan:a>0?1:0}}}}},d={components:{OrderInfo:l,RefundInfo:(0,r.A)(_,function(){var a=this,t=a._self._c;return a.data.length>0?t("el-card",{staticClass:"refund_info_card"},[t("h3",[a._v($t("ily63w4","退款信息","lang"))]),t("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:a.data,border:"","span-method":a.objectSpanMethod}},[t("el-table-column",{attrs:{prop:"refund_bn",label:$t("ilyosg4","退款单号","lang")}}),t("el-table-column",{attrs:{prop:"refund_id",label:$t("q9ln8x6","汇付退款单号","lang")}}),t("el-table-column",{attrs:{prop:"distributor_name",label:$t("ed73je6","退款客户名称","lang")}}),t("el-table-column",{attrs:{prop:"refund_fee",label:$t("im9oyy4","退款金额","lang")},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v(" ￥"+a._s((t.row.refund_fee/100).toFixed(2))+" ")]}}],null,!1,954466016)}),t("el-table-column",{attrs:{prop:"refund_status",label:$t("im43bd4","退款状态","lang")},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v(" "+a._s("READY"===t.row.refund_status&&$t("fk50h3","未审核","lang")||"SUCCESS"===t.row.refund_status&&$t("8q4cqb5","退款成功 ","lang")||"CANCEL"===t.row.refund_status&&$t("dbhp964","撤销退款","lang")||"CHANGE"===t.row.refund_status&&$t("im0qb84","退款异常","lang")||"REFUNDCLOSE"===t.row.refund_status&&$t("ilyqag4","退款关闭","lang")||"PROCESSING"===t.row.refund_status&&$t("8oyrcd5","退款处理中","lang")||"AUDIT_SUCCESS"===t.row.refund_status&&$t("llz8v3","退款中","lang")||"REFUSE"===t.row.refund_status&&$t("ilzzyq4","退款失败","lang"))+" ")]}}],null,!1,123762641)})],1)],1):a._e()},[],!1,null,"429283c6",null).exports,LedgerInfo:i},data(){return{concatArr:[],testPosition:0,orderInfoList:{},lendgerInfoData:[],refundInfoData:[],loading:!0,isShowLedger:!1,isShowRefund:!1}},mounted(){this.onGetDetail()},methods:{rowspan(a,t,s){this.refundInfoData.forEach((n,e)=>{0===e?(a.push(1),t=0):this.refundInfoData[e][s]===this.refundInfoData[e-1][s]?(a[t]+=1,a.push(0)):(a.push(1),t=e)})},onGetDetail(){let a=this.$route.query.orderId;(0,n.GetOrderInfoList)(a).then(a=>{this.orderInfoList=a.data.data,this.refundInfoData=a.data.data.refund_list,this.lendgerInfoData=a.data.data.profit_share_list,this.loading=!1,this.rowspan(this.concatArr,this.testPosition,"refund_bn")})}}},f=(0,r.A)(d,function(){var a=this,t=a._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}]},[t("OrderInfo",{attrs:{info:a.orderInfoList}}),t("LedgerInfo",{attrs:{data:a.lendgerInfoData}}),t("RefundInfo",{attrs:{data:a.refundInfoData,arr:a.concatArr}})],1)},[],!1,null,"5abeaf5e",null).exports}}]);