"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[6733],{36733:function(t,a,e){e.r(a),e.d(a,{default:function(){return o}});var s=e(50002),l=e(18306),r=e(57270),i={data(){return{activeName:"first",form:{corpid:"",agents:{app:{appid:"",agent_id:"",secret:"",token:"",aes_key:""},customer:{secret:"",URL:"",token:"",aes_key:""},report:{secret:"",token:"",aes_key:""},dianwu:{agent_id:"",h5_host:"",h5_url:"",secret:""}}},part2form:{url:"",secret:"",AgentID:""},uploadUrl:"htts://ecshopx82.shopex123.com/api/workwechat/domain/verify",uploadHeader:{Authorization:"bearer "+l.A.getters.token}}},mounted(){this.get_DW_Config()},methods:{handleClick(t,a){},onCopy(){this.$notify.success({message:$t("bkv2mw4","复制成功","lang"),showClose:!0})},handleUploadSuccess(t,a,e){this.get_DW_Config()},async get_DW_Config(){const t=await(0,s.getWorkWechatConfig)();this.form=t.data.data},async onSubmit(){200===(await(0,s.setWorkWechatConfig)(this.form)).status&&r.Message.success($t("aghf564","保存成功","lang"))},copyHandle(t){document.getElementById(t).select(),document.execCommand("copy")}}},o=(0,e(81656).A)(i,function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-workwechat"},[a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:t.form,"label-width":"90px"}},[a("el-row",[a("el-col",{attrs:{span:14}},[a("el-form-item",{staticClass:"first",attrs:{label:$t("aa61as4","企业ID","lang")}},[a("el-input",{attrs:{type:"age",autocomplete:"off"},model:{value:t.form.corpid,callback:function(a){t.$set(t.form,"corpid",a)},expression:"form.corpid"}})],1)],1),a("el-col",{attrs:{span:10}},[a("p",{staticClass:"tips"},[a("a",{attrs:{href:"https://work.weixin.qq.com/api/doc#90000/90135/90665/corpid",target:"_blank"}},[t._v($t("m28pdxl","您企业主体的认证ID、用于确认企业的唯一性","lang"))])])])],1)],1)],1),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:$t("mp6kte5","导购小程序","lang"),name:"first"}},[a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v($t("kl8htg5","小程序配置","lang"))]),a("div",{staticClass:"formBox"},[a("el-form",{ref:"form",attrs:{"label-width":"150px"}},[a("el-card",{attrs:{shadow:"never"}},[a("el-form-item",{attrs:{label:"AppID"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.form.agents.app.appid,callback:function(a){t.$set(t.form.agents.app,"appid",a)},expression:"form.agents.app.appid"}}),a("span",{staticClass:"tips"},[a("a",{attrs:{href:"http://",target:"_blank",rel:"noopener noreferrer"}},[t._v($t("wthhr4m"," 企业微信的小程序AppID，点击跳转说明 ","lang"))])])],1),a("el-form-item",{attrs:{label:"AgentId"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.form.agents.app.agent_id,callback:function(a){t.$set(t.form.agents.app,"agent_id",a)},expression:"form.agents.app.agent_id"}}),a("span",{staticClass:"tips"},[a("a",{attrs:{href:"https://work.weixin.qq.com/api/doc#90000/90135/90665/agentid",target:"_blank"}},[t._v($t("m28e5sg","企业微信的小程序agent_id","lang"))])])],1),a("el-form-item",{attrs:{label:"Secret"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.form.agents.app.secret,callback:function(a){t.$set(t.form.agents.app,"secret",a)},expression:"form.agents.app.secret"}}),a("span",{staticClass:"tips"},[a("a",{attrs:{href:"https://work.weixin.qq.com/api/doc#90000/90135/90665/secret",target:"_blank"}},[t._v($t("dcrqumc","企业微信的小程序凭证密钥","lang"))])])],1),a("el-form-item",{attrs:{label:"Token"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.form.agents.app.token,callback:function(a){t.$set(t.form.agents.app,"token",a)},expression:"form.agents.app.token"}})],1),a("el-form-item",{attrs:{label:"EncodingAESKey"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.form.agents.app.aes_key,callback:function(a){t.$set(t.form.agents.app,"aes_key",a)},expression:"form.agents.app.aes_key"}}),a("span",{staticClass:"tips"},[a("a",{attrs:{href:"https://work.weixin.qq.com/api/doc#90000/90135/90930",target:"_blank"}},[t._v($t("tcpqj4c","企业微信小程序的加密秘钥","lang"))])])],1)],1)],1)],1)]),a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v($t("h1svx6","客户联系配置","lang"))]),a("div",{staticClass:"formBox"},[a("div",{staticClass:"introduce"},[a("p",[t._v($t("sy8cfa5","获取路径：","lang"))]),a("p",[t._v($t("dsj2g19","1. 在企业微信管理后台 - 「应用管理」- 应用 - 下方的「自建应用」中找到云店小程序","lang"))]),a("p",[t._v($t("347kst2l"," 2. 点击进入应用详情页，点击「Secret」后的「查看」按钮。该Secret会发送到当前登录的管理员账号的企业微信内，管理员在企业微信内复制获取，将获取到的Secret粘贴至此处。 ","lang"))])]),a("el-form",{ref:"form",attrs:{"label-width":"150px"}},[a("el-card",{attrs:{shadow:"never"}},[a("div",{staticClass:"borderBottom"},[a("el-form-item",{attrs:{label:"Secret"}},[a("el-input",{staticStyle:{width:"600px"},model:{value:t.form.agents.customer.secret,callback:function(a){t.$set(t.form.agents.customer,"secret",a)},expression:"form.agents.customer.secret"}})],1)],1),a("div",{staticClass:"introduce-Flex"},[a("div",{staticClass:"subtitle"},[t._v($t("81fag2a","接受事件服务器配置：","lang"))]),a("div",{staticClass:"content"},[a("p",[t._v($t("570kkr5","设置路径：","lang"))]),a("p",[t._v($t("y9ywxk1b"," 1. 在企业微信管理后台 - 「应用管理」- 应用 - 下方的「自建应用」中找到云店小程序 ","lang"))]),a("p",[t._v($t("nyd9e91q"," 2. 点击进入应用详情页，找到「功能」中的「接收消息」，点击「设置 API 接收」，依次复制下方内容填写至对应输入框中。 ","lang"))])])]),a("el-form-item",{attrs:{label:"URL"}},[a("el-input",{staticClass:"bg-gray",attrs:{disabled:""},model:{value:t.form.agents.customer.URL,callback:function(a){t.$set(t.form.agents.customer,"URL",a)},expression:"form.agents.customer.URL"}}),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.form.agents.customer.URL,expression:"form.agents.customer.URL",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],staticClass:"btn"},[t._v($t("fljd2","复制","lang"))])],1),a("el-form-item",{attrs:{label:"Token"}},[a("el-input",{staticClass:"bg-gray",attrs:{disabled:""},model:{value:t.form.agents.customer.token,callback:function(a){t.$set(t.form.agents.customer,"token",a)},expression:"form.agents.customer.token"}}),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.form.agents.customer.token,expression:"form.agents.customer.token",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],staticClass:"btn"},[t._v($t("fljd2","复制","lang"))])],1),a("el-form-item",{attrs:{label:"EncodingAESKey"}},[a("el-input",{staticClass:"bg-gray",attrs:{disabled:""},model:{value:t.form.agents.customer.aes_key,callback:function(a){t.$set(t.form.agents.customer,"aes_key",a)},expression:"form.agents.customer.aes_key"}}),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.form.agents.customer.aes_key,expression:"form.agents.customer.aes_key",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],staticClass:"btn"},[t._v($t("fljd2","复制","lang"))])],1)],1)],1)],1)]),a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v($t("d7mwv55","通讯录配置","lang"))]),a("div",{staticClass:"formBox"},[a("div",{staticClass:"introduce"},[a("p",[t._v($t("sy8cfa5","获取路径：","lang"))]),a("p",[t._v($t("a9pbuu19","1. 在企业微信管理后台 - 「应用管理」- 应用 - 下方的「自建应用」中找到店务工作台","lang"))]),a("p",[t._v($t("347kst2l"," 2. 点击进入应用详情页，点击「Secret」后的「查看」按钮。该Secret会发送到当前登录的管理员账号的企业微信内，管理员在企业微信内复制获取，将获取到的Secret粘贴至此处。 ","lang"))]),a("p",[t._v($t("geti728","3. 点击同步。","lang"))])]),a("el-form",{ref:"form",attrs:{"label-width":"150px"}},[a("el-card",{attrs:{shadow:"never"}},[a("el-form-item",{attrs:{label:"Secret"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.form.agents.report.secret,callback:function(a){t.$set(t.form.agents.report,"secret",a)},expression:"form.agents.report.secret"}}),a("span",{staticClass:"tips"},[t._v($t("dcwuzgc","企业微信的小程序凭证秘钥","lang"))])],1),a("el-form-item",{attrs:{label:"Token"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.form.agents.report.token,callback:function(a){t.$set(t.form.agents.report,"token",a)},expression:"form.agents.report.token"}})],1),a("el-form-item",{attrs:{label:"EncodingAESKey"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.form.agents.report.aes_key,callback:function(a){t.$set(t.form.agents.report,"aes_key",a)},expression:"form.agents.report.aes_key"}}),a("span",{staticClass:"tips"},[t._v($t("2zurj2e"," 企业微信小程序的加密密钥 ","lang"))])],1)],1)],1)],1)]),a("div",{staticClass:"page-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v($t("cp35x4"," 保存 ","lang"))])],1)]),a("el-tab-pane",{attrs:{label:$t("dweqfi6","店务自建应用","lang"),name:"second"}},[a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v($t("d7mwv55","通讯录配置","lang"))]),a("div",{staticClass:"formBox"},[a("div",{staticClass:"introduce"},[a("p",[t._v($t("sy8cfa5","获取路径：","lang"))]),a("p",[t._v($t("137tla17","1. 在 企业微信管理后台 -「应用管理」-应用-下方的「自建应用」中找到店务工作台。","lang"))]),a("p",[t._v($t("3e83grx","2. 点击进入应用详情页，复制顶部「AgentID」至下方输入框。","lang"))]),a("p",[t._v($t("ziiccw2o"," 3. 点击进入应用详情页，点击「Secret」后的「查看」按钮。该Secret会发送到当前登录的管理员账号的企业微信内，管理员在企业微信内复制获取，将获取到的Secret粘贴至下方输入框。 ","lang"))])]),a("el-form",{ref:"form",attrs:{"label-width":"150px"}},[a("el-card",{attrs:{shadow:"never"}},[a("el-form-item",{attrs:{label:"AgentID"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.form.agents.dianwu.agent_id,callback:function(a){t.$set(t.form.agents.dianwu,"agent_id",a)},expression:"form.agents.dianwu.agent_id"}}),a("span",{staticClass:"tips"},[t._v($t("sr6u6od"," 企业微信的自建应用凭证 ","lang"))])],1),a("el-form-item",{staticClass:"first",attrs:{label:"Secret"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.form.agents.dianwu.secret,callback:function(a){t.$set(t.form.agents.dianwu,"secret",a)},expression:"form.agents.dianwu.secret"}}),a("span",{staticClass:"tips"},[t._v($t("sso9z9d"," 企业微信的自建应用密钥 ","lang"))])],1)],1)],1)],1)]),a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v($t("awvbi1a","企业微信自建H5地址","lang"))]),a("div",{staticClass:"formBox"},[a("div",{staticClass:"introduce"},[a("p",[t._v($t("lmrfs55","操作指南：","lang"))]),a("p",[t._v($t("k6dgu01c"," 1. 在企业微信管理后台 - 「应用管理」- 应用 - 下方的「自建应用」中找到店务工作台。 ","lang"))]),a("p",[t._v($t("53g62q1d"," 2. 点击进入应用详情页，点击「应用主页」后的「设置」按钮，并复制下方的url为「网页地址」。 ","lang"))]),a("p",[t._v($t("4232wj7","3. 点击确定","lang"))])]),a("el-form",{ref:"form",attrs:{"label-width":"150px"}},[a("el-card",{attrs:{shadow:"never"}},[a("el-form-item",{staticClass:"first",attrs:{label:"URL"}},[a("el-input",{staticClass:"bg-gray",attrs:{disabled:""},model:{value:t.form.agents.dianwu.h5_url,callback:function(a){t.$set(t.form.agents.dianwu,"h5_url",a)},expression:"form.agents.dianwu.h5_url"}}),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.form.agents.dianwu.h5_url,expression:"form.agents.dianwu.h5_url",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],staticClass:"btn"},[t._v($t("fljd2","复制","lang"))])],1)],1)],1)],1)]),a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v($t("6l3bog8","设置可信域名地址","lang"))]),a("div",{staticClass:"formBox"},[a("div",{staticClass:"introduce"},[a("p",[t._v($t("lmrfs55","操作指南：","lang"))]),a("p",[t._v($t("k6dgu01c"," 1. 在企业微信管理后台 - 「应用管理」- 应用 - 下方的「自建应用」中找到店务工作台。 ","lang"))]),a("p",[t._v($t("4wj684x","2. 点击进入应用详情页，点击最下方的「网页授权及JS-SDK」。","lang"))]),a("p",[t._v($t("e9tq413","3. 将下方「可信域名」复制至企业微信后台的「可信域名」，并点击申请校验域名。","lang"))]),a("p",[t._v($t("ck24lq8","4. 点击确定。","lang"))])]),a("el-form",{ref:"form",attrs:{"label-width":"150px"}},[a("el-card",{attrs:{shadow:"never"}},[a("el-form-item",{staticClass:"first",attrs:{label:$t("ax8l0g4","可信域名","lang")}},[a("el-input",{staticClass:"bg-gray",attrs:{disabled:""},model:{value:t.form.agents.dianwu.h5_host,callback:function(a){t.$set(t.form.agents.dianwu,"h5_host",a)},expression:"form.agents.dianwu.h5_host"}}),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.form.agents.dianwu.h5_host,expression:"form.agents.dianwu.h5_host",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],staticClass:"btn"},[t._v($t("fljd2","复制","lang"))])],1)],1)],1)],1)]),a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v($t("7rd0xv6","申请校验域名","lang"))]),a("div",{staticClass:"formBox"},[a("div",{staticClass:"introduce"},[a("p",[t._v($t("lmrfs55","操作指南：","lang"))]),a("p",[t._v($t("e3quiyt","1. 接上方操作，点击企业微信说明中第一步的「下载文件」。","lang"))]),a("p",[t._v($t("2xktyit","2. 回到云店后台，点击下方上传文件，选择刚刚下载的文件。","lang"))]),a("p",[t._v($t("o7309fh","3. 回到企业微信后台，点击确定。","lang"))])]),a("el-form",{ref:"form",attrs:{"label-width":"150px"}},[a("el-card",{attrs:{shadow:"never"}},[a("el-form-item",{staticClass:"first yuming",attrs:{label:$t("bfsicd4","域名文件","lang")}},[a("div",{staticClass:"line"},[a("div",{staticClass:"filename"},[t.form.agents.dianwu.verify_file_name?a("span",[t._v($t("c6evde4","已上传：","lang"))]):t._e(),t._v(t._s(t.form.agents.dianwu.verify_file_name)+" ")]),a("el-upload",{staticClass:"upload-demo",attrs:{action:t.uploadUrl,headers:t.uploadHeader,name:"file","show-file-list":!1,"on-success":t.handleUploadSuccess}},[a("el-button",{attrs:{size:"small",type:"primary",plain:""}},[t._v($t("unjubc6"," 点击上传 ","lang"))])],1)],1)])],1)],1)],1)]),a("div",{staticClass:"page-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v($t("cp35x4"," 保存 ","lang"))])],1)])],1)],1)},[],!1,null,null,null).exports}}]);