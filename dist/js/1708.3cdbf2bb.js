"use strict";(self.webpackChunkecshopx_admin=self.webpackChunkecshopx_admin||[]).push([[1708],{1708:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});a(18111),a(20116);var n=a(86529),l=a(62109),i=a(81125);const[o,s]=(0,i.mN)({formItems:[{component:"input",label:$t("1b04pl5","RSA公钥","lang"),fieldName:"rsa_public_key",formItemClass:"w-3/4",componentProps:{type:"textarea",rows:6}}],showDefaultActions:!1}),[p,r]=(0,i.mN)({formType:"normalForm",labelWidth:"120px",showDefaultActions:!1,formItems:[{fieldName:"bank_account_name",label:$t("glcpg85","收款人户名","lang"),component:"input",formItemClass:"w-2/4",value:"",componentProps:{placeholder:$t("9fqdlr8","请输入收款人户名","lang")},rules:[{required:!0,message:$t("9fqdlr8","请输入收款人户名","lang"),trigger:"blur"}]},{fieldName:"bank_account_no",label:$t("jd0njb4","银行账号","lang"),component:"input",formItemClass:"w-2/4",value:"",componentProps:{placeholder:$t("e62dbk7","请输入银行账号","lang")},rules:[{required:!0,message:$t("e62dbk7","请输入银行账号","lang"),trigger:"blur"}]},{fieldName:"bank_name",label:$t("cegvwt4","开户银行","lang"),component:"input",formItemClass:"w-2/4",value:"",componentProps:{placeholder:$t("l4m4y27","请输入开户银行","lang")},rules:[{required:!0,message:$t("l4m4y27","请输入开户银行","lang"),trigger:"blur"}]},{fieldName:"china_ums_no",label:$t("mfr893","银联号","lang"),component:"input",formItemClass:"w-2/4",value:"",componentProps:{placeholder:$t("7byo346","请输入银联号","lang")},rules:[{required:!0,message:$t("7byo346","请输入银联号","lang"),trigger:"blur"}]},{fieldName:"pic",label:$t("lov2nz6","银行LOGO","lang"),component:"imagepicker",value:"",componentProps:{multiple:!1,limit:1,onChange:e=>{}},rules:[{required:!0,message:$t("gjw80e9","请上传银行LOGO","lang"),trigger:"change"}]},{fieldName:"remark",label:$t("fqo12","备注","lang"),component:"input",formItemClass:"w-2/4",value:"",componentProps:{type:"textarea",rows:3,placeholder:$t("2jaeja5","请输入备注","lang")}},{fieldName:"is_default",label:$t("d92ns34","是否默认","lang"),component:"radio",value:"no",componentProps:{options:[{label:$t("k6n1","是","lang"),value:"yes"},{label:$t("gme1","否","lang"),value:"no"}]},rules:[{required:!0,message:$t("x1og4a7","请选择是否默认","lang"),trigger:"change"}]}]});var m={components:{SpFormPlus:n.default,CompAccountForm:p},data(){this.$createElement;return{activeDomestic:"wxpay",activeInternational:"paypal",isHfpay:!1,loading:!1,domesticPaymentList:[{name:"wxpay",title:$t("ahwpkz6","微信支付配置","lang"),icon:a(31675),description:$t("li8lxap","支持客户端:移动商城(微信小程序、H5)、PC商城","lang"),enabled:!1,isShow:!0},{name:"alipay",title:$t("mbnr5q7","支付宝支付配置","lang"),icon:a(76631),description:$t("m64rfjj","支持客户端:移动商城(H5)、PC商城","lang"),enabled:!1,isShow:!this.isHfpay&&!this.VERSION_IN_PURCHASE()&&!this.VERSION_SHUYUN()},{name:"chinaumspay",title:$t("judynx8","银联商务支付配置","lang"),icon:a(21572),description:$t("3sto3ek","支持客户端:移动商城(微信小程序、H5)","lang"),enabled:!1,isShow:!this.VERSION_SHUYUN()},{name:"offline_pay",title:$t("gbmw6e4","线下转账","lang"),icon:"",description:$t("m64rfjj","支持客户端:移动商城(H5)、PC商城","lang"),enabled:!1,isShow:!this.VERSION_SHUYUN()&&!this.VERSION_B2C()},{name:"bspay",title:$t("u5n0uj8","汇付斗拱支付配置","lang"),icon:a(80516),description:$t("li8lxap","支持客户端:移动商城(微信小程序、H5)、PC商城","lang"),enabled:!1,isShow:!0}],internationalPaymentList:[{name:"paypal",title:"PayPal",icon:a(26032),description:$t("m64rfjj","支持客户端:移动商城(H5)、PC商城","lang"),enabled:!1,isShow:!0}],paymentForms:{wxpay:{},alipay:{},chinaumspay:{},offline_pay:{},bspay:{},paypal:{}},publicKeyDialogForm:{rsa_public_key:""},offlineList:[],accountsForm:{bank_account_name:"",bank_account_no:"",bank_name:"",pic:"",remark:"",china_ums_no:"",is_default:null},accountsSetting:{columns:[{name:$t("glcpg85","收款人户名","lang"),key:"bank_account_name"},{name:$t("jd0njb4","银行账号","lang"),key:"bank_account_no"},{name:$t("cegvwt4","开户银行","lang"),key:"bank_name"},{name:$t("mfr893","银联号","lang"),key:"china_ums_no"},{name:$t("lov2nz6","银行LOGO","lang"),width:100,key:"pic",render:(e,{row:t})=>e("SpImage",{attrs:{src:t.pic,width:60,height:60}})},{name:$t("fqo12","备注","lang"),key:"remark"},{name:$t("d92ns34","是否默认","lang"),width:100,key:"staff_attribute",render:(e,{row:t})=>e("span",["true"===t.is_default?$t("k6n1","是","lang"):$t("gme1","否","lang")])}],actions:[{name:$t("mekb2","编辑","lang"),key:"detail",type:"button",buttonType:"text",action:{handler:([e])=>{this.accountsForm={...e},this.addDeliveryman("edit")}}},{name:$t("eslg2","删除","lang"),key:"apply",type:"button",buttonType:"text",action:{handler:async([e])=>{await this.$confirm(`${$t("8ddcgr5","确认删除？","lang")}`,$t("hn562","提示","lang"),{confirmButtonText:$t("kzjg2","确定","lang"),cancelButtonText:$t("ev022","取消","lang")});try{await this.$api.offline.deleteOfflineAccount(e.id),this.getOfflineList()}catch(e){}}}}]}}},watch:{"paymentForms.offline_pay.is_open":{immediate:!0,handler(e){e&&this.getOfflineList()}}},computed:{allPaymentList(){return[...this.domesticPaymentList,...this.internationalPaymentList]},wxpayFormItems(){return this.getWxpayFormItems()},alipayFormItems(){return this.getAlipayFormItems()},chinaumspayFormItems(){return this.getChinaumspayFormItems()},offlineFormItems(){return this.getOfflineFormItems()},bspayFormItems(){return this.getBspayFormItems()},paypalFormItems(){return this.getPaypalFormItems()}},methods:{beforeSearch(e){return{...e,...this.params}},async initPaymentData(){try{const e=await(0,l.hfpayVersionStatus)();e.data.data.hfpay_version_status?(this.activeDomestic="hfpay",this.isHfpay=!0):(this.activeDomestic="offline_pay",this.isHfpay=!1)}catch(e){}await this.loadAllPaymentConfigs()},async loadAllPaymentConfigs(){const e=["wxpay","alipay","hfpay","chinaumspay","adapay","offline_pay","bspay","paypal"];for(const t of e)try{await this.loadPaymentConfig(t)}catch(e){}},async loadPaymentConfig(e){try{const t=await this.$api.trade.getPaymentSetting({pay_type:e});this.$set(this.paymentForms,e,{...t,is_open:"true"===t.is_open||!0===t.is_open});const a=this.allPaymentList.find(t=>t.name===e);a&&(a.enabled="true"===t.is_open||!0===t.is_open),this.$nextTick(()=>{this.refreshFormData()})}catch(e){}},getFormItems(e){return{wxpay:this.getWxpayFormItems(),alipay:this.getAlipayFormItems(),chinaumspay:this.getChinaumspayFormItems(),offline_pay:this.getOfflineFormItems(),bspay:this.getBspayFormItems(),paypal:this.getPaypalFormItems()}[e]||[]},getWxpayFormItems(){const e=this.$createElement,t=this.paymentForms.wxpay||{};return[{fieldName:"group1",label:$t("blsc7b4","基础配置","lang"),component:"group"},{fieldName:"app_id",label:$t("vz7ze16","公众账号ID","lang"),component:"input",value:t.app_id||"",componentProps:{placeholder:$t("6dsyf49","请输入公众账号ID","lang"),style:"width: 300px"},tip:()=>e("div",[e("div",[$t("po5fhj11","适用于【微信浏览器、第三方APP、第三方手机浏览器、微信小程序、PC网站】","lang")]),e("div",[$t("e35rro1n","微信支付分配的公众账号ID（企业号corpid即为此appId）。请到 微信公众平台 → 开发 → 基本配置 → 获取","lang")])])},{fieldName:"app_app_id",label:$t("b4erhs7","APP应用ID","lang"),component:"input",value:t.app_app_id||"",componentProps:{placeholder:$t("n83ztza","请输入APP应用ID","lang"),style:"width: 300px"},tip:()=>e("div",[e("div",[$t("ctwz5ob","适用于【第三方APP】","lang")]),e("div",[$t("m7mdkv1m","微信开放平台审核通过的应用APPID（请登录open.weixin.qq.com查看，注意与公众号的APPID不同）","lang")])])},{fieldName:"merchant_id",label:$t("cyt7q3","商户号","lang"),component:"input",value:t.merchant_id||"",componentProps:{placeholder:$t("7lfm3n6","请输入商户号","lang"),style:"width: 300px"},tip:()=>e("div",[e("div",[$t("po5fhj11","适用于【微信浏览器、第三方APP、第三方手机浏览器、微信小程序、PC网站】","lang")]),e("div",[$t("xnk9dko","请到 微信支付商户平台→账户中心→商户信息→获取","lang")])])},{fieldName:"key",label:$t("11nmzd5","API密钥","lang"),component:"input",value:t.key||"",componentProps:{placeholder:$t("r2qq1c8","请输入API密钥","lang"),style:"width: 300px"},tip:()=>e("div",[e("div",[$t("po5fhj11","适用于【微信浏览器、第三方APP、第三方手机浏览器、微信小程序、PC网站】","lang")]),e("div",[$t("mmqm4e1h","请到 微信支付商户平台 → 账户中心 → API安全 → API密钥 中设置32位密钥，并将密钥复粘贴过来","lang")])])},{fieldName:"is_servicer",label:$t("f1widx6","是否特约商户","lang"),component:"switch",value:t.is_servicer||!1,componentProps:{activeColor:"#13ce66",inactiveColor:"#ff4949"},tip:$t("p9licrn","如是特约商户，请联系您的服务商获取如下两个参数","lang")},{fieldName:"servicer_app_id",label:$t("tif3wq8","服务商APPID","lang"),component:"input",value:t.servicer_app_id||"",componentProps:{placeholder:$t("lhj1fxb","请输入服务商APPID","lang"),style:"width: 300px"}},{fieldName:"servicer_merchant_id",label:$t("voshgs6","服务商商户号","lang"),component:"input",value:t.servicer_merchant_id||"",componentProps:{placeholder:$t("63dghv9","请输入服务商商户号","lang"),style:"width: 300px"}},{label:$t("b692ra4","商户证书","lang"),component:"upload",componentProps:{title:t.cert_name,buttonSize:$t("ek7w3c4","点击上传","lang"),size:"middle",autoUpload:!1,onChange:(e,t)=>{this.paymentForms.wxpay.cert=e.raw}},tip:"微信商户平台(pay.weixin.qq.com)--\x3e账户设置--\x3eAPI安全--\x3e证书下载 apiclient_cert.pem"},{label:$t("c8vvcz6","商户证书秘钥","lang"),component:"upload",componentProps:{title:t.cert_key_url,buttonSize:$t("ek7w3c4","点击上传","lang"),size:"middle",autoUpload:!1,onChange:(e,t)=>{this.paymentForms.wxpay.cert_key=e.raw}},tip:"微信商户平台(pay.weixin.qq.com)--\x3e账户设置--\x3eAPI安全--\x3e证书下载 apiclient_key.pem"}]},getAlipayFormItems(){const e=this.paymentForms.alipay||{};return[{fieldName:"group1",label:$t("blsc7b4","基础配置","lang"),component:"group"},{fieldName:"app_id",label:$t("ri1d26","合作者PID","lang"),component:"input",value:e.app_id||"",componentProps:{placeholder:$t("otwzlv9","请输入合作者PID","lang"),style:"width: 300px"},tip:"APPID"},{fieldName:"ali_public_key",label:$t("k8bw2b5","支付宝公钥","lang"),component:"input",formItemClass:"w-3/4",value:e.ali_public_key||"",componentProps:{type:"textarea",rows:5,placeholder:$t("5sr6zo8","请输入支付宝公钥","lang")},tip:$t("8jthi0k","RSA2(SHA256)密钥 支付宝公钥","lang")},{fieldName:"private_key",label:$t("cf78rc4","应用私钥","lang"),component:"input",value:e.private_key||"",formItemClass:"w-3/4",componentProps:{type:"textarea",rows:5,placeholder:$t("l3vs3j7","请输入应用私钥","lang")},tip:$t("nj3phcj","RSA2(SHA256)密钥 自己私钥","lang")},{label:$t("ej6wcp4","温馨提示","lang"),component:({value:e,props:t,onInput:a,h:n,formData:l})=>n("div",{class:"custom-field"},[n("span",{},$t("y03twpf","您绑定的企业支付宝账号必须开通","lang")),n("a",{attrs:{href:"https://b.alipay.com/signing/productDetail.htm?productId=I1011000290000001001",target:"_blank",class:"text-blue-500"}},$t("p65lhc6","手机网站支付","lang"))])}]},getChinaumspayFormItems(){const e=this.paymentForms.chinaumspay||{};return[{fieldName:"mid",label:$t("p34kfd5","平台商户号","lang"),component:"input",value:e.mid||"",componentProps:{placeholder:$t("jwwehs8","请输入平台商户号","lang"),style:"width: 300px"}},{fieldName:"tid",label:$t("p9bn3n5","平台终端号","lang"),component:"input",value:e.tid||"",componentProps:{placeholder:$t("jqpbti8","请输入平台终端号","lang"),style:"width: 300px"}},{fieldName:"rate",label:$t("onla2","费率","lang"),component:"input",value:e.rate||0,componentProps:{placeholder:$t("2jbrwj5","请输入内容","lang"),style:"width: 300px",type:"number"},tip:$t("kfu05mb","收单手续费（单位：%）","lang")},{label:$t("5837o36","商户加签私钥","lang"),component:"upload",componentProps:{buttonSize:$t("ek7w3c4","点击上传","lang"),size:"middle",autoUpload:!1,onChange:(e,t)=>{tthis.paymentForms.chinaumspay.rsa_private=e.raw}}},{fieldName:"password",label:$t("g9ob2","密码","lang"),component:"input",value:e.password||"",componentProps:{placeholder:$t("2j9vj05","请输入密码","lang"),style:"width: 300px"}},{label:$t("jerpuy8","商户回盘验签公钥","lang"),component:"upload",componentProps:{buttonSize:$t("ek7w3c4","点击上传","lang"),size:"middle",autoUpload:!1,onChange:(e,t)=>{tthis.paymentForms.chinaumspay.rsa_public=e.raw}}}]},getOfflineFormItems(){this.$createElement;const e=this.paymentForms.offline_pay||{};return[{fieldName:"group1",label:$t("blsc7b4","基础配置","lang"),component:"group"},{fieldName:"pay_name",label:$t("dfdz0i6","支付方式名称","lang"),component:"input",value:e.pay_name||"",componentProps:{placeholder:$t("w0b1zp9","请输入支付方式名称","lang"),style:"width: 300px"},rules:[{required:!0,message:$t("w0b1zp9","请输入支付方式名称","lang"),trigger:"blur"}]},{fieldName:"pay_tips",label:$t("d7y0rm4","收款说明","lang"),component:"input",value:e.pay_tips||"",formItemClass:"w-3/4",componentProps:{type:"textarea",rows:5,placeholder:$t("kb50397","请输入收款说明","lang")}},{fieldName:"pay_desc",label:$t("aedtvk4","付款说明","lang"),component:"input",formItemClass:"w-3/4",value:e.pay_desc||"",componentProps:{type:"textarea",rows:5,placeholder:$t("n4p6zb7","请输入付款说明","lang")}},{fieldName:"auto_cancel_time",label:$t("s5orz38","订单自动取消时间","lang"),component:"input",value:e.auto_cancel_time||0,componentProps:{type:"number",min:0,placeholder:$t("fqnfu9d","请输入自动取消时间（小时）","lang"),style:"width: 300px"},tip:`${$t("kg1cfqc","未付款订单将在指定时间 ","lang")}${e.auto_cancel_time}${$t("wuz9b09","（小时）后自动取消","lang")}`,rules:[{required:!0,message:$t("hesk2x9","请输入自动取消时间","lang"),trigger:"blur"}]},{isShow:()=>e.is_open,component:({value:e,props:t,onInput:a,h:n,formData:l})=>n("div",[n("el-button",{attrs:{type:"primary",plain:!0},on:{click:()=>this.addDeliveryman("add")}},[$t("t0525a6","添加收款账户","lang")]),n("SpFinder",{ref:"finder",attrs:{url:"",data:this.offlineList,"no-selection":!0,setting:this.accountsSetting}})]),rules:[{required:!0,message:$t("lpluuua","请输入商户RSA私钥","lang"),trigger:"blur"}],width:"960px"}]},getBspayFormItems(){const e=this.paymentForms.bspay||{};return[{fieldName:"group1",label:$t("blsc7b4","基础配置","lang"),component:"group"},{fieldName:"sys_id",label:"sys_id",component:"input",value:e.sys_id||"",componentProps:{placeholder:$t("ax42nq9","请输入sys_id","lang"),style:"width: 300px"},rules:[{required:!0,message:$t("ax42nq9","请输入sys_id","lang"),trigger:"blur"}]},{fieldName:"product_id",label:"product_id",component:"input",value:e.product_id||"",componentProps:{placeholder:$t("uou2s4d","请输入product_id","lang"),style:"width: 300px"},rules:[{required:!0,message:$t("uou2s4d","请输入product_id","lang"),trigger:"blur"}]},{fieldName:"rsa_merch_private_key",label:$t("b66eet4","商户私钥","lang"),component:"input",formItemClass:"w-3/4",value:e.rsa_merch_private_key||"",componentProps:{type:"textarea",rows:5,placeholder:$t("mcwmg27","请输入商户私钥","lang")},rules:[{required:!0,message:$t("mcwmg27","请输入商户私钥","lang"),trigger:"blur"}]},{fieldName:"rsa_huifu_public_key",label:$t("dzlo164","汇付公钥","lang"),component:"input",formItemClass:"w-3/4",value:e.rsa_huifu_public_key||"",componentProps:{type:"textarea",rows:5,placeholder:$t("jjhctp7","请输入汇付公钥","lang"),style:"width: 600px"},rules:[{required:!0,message:$t("jjhctp7","请输入汇付公钥","lang"),trigger:"blur"}]},{fieldName:"admin_token_no",label:$t("9jmlsv5","绑卡序列号","lang"),component:"input",value:e.admin_token_no||"",componentProps:{placeholder:$t("zged4a8","请输入绑卡序列号","lang"),style:"width: 300px"}},{fieldName:"group2",label:$t("ep0pv06","支付渠道设置","lang"),component:"group"},{fieldName:"pay_channel",label:$t("d3iyrg4","支付渠道","lang"),component:"checkbox",value:e.pay_channel||[],componentProps:{options:[{label:$t("pfaqf7","微信小程序支付","lang"),value:"wx_lite"},{label:$t("n9vwrm7","微信公众号支付","lang"),value:"wx_pub"},{label:$t("aoniq66","微信扫码支付","lang"),value:"wx_qr"},{label:$t("99rluy7","支付宝H5支付","lang"),value:"alipay_wap"},{label:$t("m4wy0j7","支付宝扫码支付","lang"),value:"alipay_qr"}]}},{fieldName:"group3",label:$t("iau7vi4","费率设置","lang"),component:"group"},{fieldName:"wxpay_fee_type",label:$t("bzvsxo8","微信渠道费率类型","lang"),component:"radio",value:e.wxpay_fee_type||"online",componentProps:{options:[{label:$t("jhjyuw6","标准费率线上","lang"),value:"online"}]}},{fieldName:"wx_lite_online",label:$t("vmfo5z9","微信小程序支付费率","lang"),component:"input",value:e.wx_lite_online||"",componentProps:{placeholder:"请输入费率，如：0.26",style:"width: 300px"}},{fieldName:"wx_pub_online",label:$t("7syxkg9","微信公众号支付费率","lang"),component:"input",value:e.wx_pub_online||"",componentProps:{placeholder:"请输入费率，如：0.26",style:"width: 300px"}},{fieldName:"wx_qr_online",label:$t("ve5pi88","微信扫码支付费率","lang"),component:"input",value:e.wx_qr_online||"",componentProps:{placeholder:"请输入费率，如：0.26",style:"width: 300px"}},{fieldName:"alipay_fee_type",label:$t("8el9dn9","支付宝渠道费率类型","lang"),component:"radio",value:e.alipay_fee_type||"online",componentProps:{options:[{label:$t("jhjyuw6","标准费率线上","lang"),value:"online"}]}},{fieldName:"alipay_call",label:$t("mbmzu37","支付宝支付费率","lang"),component:"input",value:e.alipay_call||"",componentProps:{placeholder:"请输入费率，如：0.26",style:"width: 300px"}},{fieldName:"alipay_qr_online",label:$t("yzg9299","支付宝扫码支付费率","lang"),component:"input",value:e.alipay_qr_online||"",componentProps:{placeholder:"请输入费率，如：0.26",style:"width: 300px"}}]},getPaypalFormItems(){const e=this.paymentForms.paypal||{};return[{fieldName:"group1",label:$t("blsc7b4","基础配置","lang"),component:"group"},{fieldName:"client_id",label:"Client ID",component:"input",value:e.client_id||"",componentProps:{placeholder:$t("2a0vgj","请输入PayPal Client ID","lang"),style:"width: 300px"}},{fieldName:"client_secret",label:"Client Secret",component:"input",value:e.client_secret||"",componentProps:{placeholder:$t("378zq7n","请输入PayPal Client Secret","lang"),style:"width: 300px"}},{fieldName:"sandbox",label:$t("ea80f86","是否沙盒环境","lang"),component:"switch",value:e.sandbox||!1,componentProps:{activeColor:"#13ce66",inactiveColor:"#ff4949"}},{fieldName:"webhook_id",label:"webhook_id",component:"input",value:e.webhook_id||"",componentProps:{placeholder:$t("6utki4d","请输入webhook_id","lang"),style:"width: 300px"}}]},handleTogglePayment(e){this.$set(this.paymentForms[e.name],"is_open",e.enabled),this.savePaymentConfig(e.name)},refreshFormData(){this.$forceUpdate()},async handleSubmit(e){await this.savePaymentConfig(e)},async savePaymentConfig(e){this.loading=!0;try{const t=this.paymentForms[e],a={pay_type:e,...t,is_open:t.is_open?"true":"false"};await this.$api.trade.setPaymentSetting(a),this.$message.success($t("aghf564","保存成功","lang"))}catch(e){this.$message.error($t("agg8dr4","保存失败","lang"))}finally{this.loading=!1}},async createKey(){const e=this.$createElement,{rsa_private_key:t,rsa_public_key:a}=await this.$api.adapay.createAdapayKey();this.paymentForms.adapay.rsa_private_key=t,this.publicKeyDialogForm.rsa_public_key=a,await this.$dialog.open({title:$t("1b04pl5","RSA公钥","lang"),size:"small",content:e(o,{attrs:{value:this.publicKeyDialogForm}}),confirmBefore:async()=>{}})},async addDeliveryman(e){const t=this.$createElement;"add"==e&&(this.accountsForm={}),await this.$dialog.open({title:"edit"==e?$t("3e7hd86","编辑收款账户","lang"):$t("t0525a6","添加收款账户","lang"),size:"medium",content:t("CompAccountForm",{ref:"accountsForm",attrs:{value:this.accountsForm}}),confirmBefore:async()=>{try{await r.validate()}catch(e){throw new Error($t("pr074a6","表单验证失败","lang"))}}});let a={...await r.getFieldsValue()};"edit"==e&&(a.id=this.accountsForm.id),a.id?(await this.$api.offline.updateOfflineAccount(a),this.$message.success($t("gmjwui4","编辑成功","lang"))):(await this.$api.offline.createOfflineAccount(a),this.$message.success($t("aghf564","保存成功","lang"))),this.getOfflineList()},async getOfflineList(){const e=await this.$api.offline.getOfflineList();this.offlineList=e.list}},mounted(){this.initPaymentData()}},c=(0,a(81656).A)(m,function(){var e=this,t=e._self._c;return t("SpPage",[t("div",{staticClass:"payment-section"},[t("h3",{staticClass:"section-title"},[e._v($t("kjju606","境内支付平台","lang"))]),t("el-collapse",{attrs:{accordion:""},model:{value:e.activeDomestic,callback:function(t){e.activeDomestic=t},expression:"activeDomestic"}},e._l(e.domesticPaymentList,function(a){return a.isShow?t("el-collapse-item",{key:a.name,attrs:{name:a.name}},[t("template",{slot:"title"},[t("div",{staticClass:"payment-item-header"},[t("div",{staticClass:"payment-info"},[a.icon?t("img",{staticClass:"payment-icon",attrs:{src:a.icon,alt:a.title}}):t("span",{staticClass:"payment-title"},[e._v(e._s(a.title))]),t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(t){return e.handleTogglePayment(a)}},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:a.enabled,callback:function(t){e.$set(a,"enabled",t)},expression:"item.enabled"}}),t("span",{staticClass:"payment-description"},[e._v(e._s(a.description))])],1)])]),t("div",{staticClass:"payment-config-content"},[t("SpFormPlus",{attrs:{"form-items":e.getFormItems(a.name),"form-type":"normalForm","label-width":"200px"},on:{submit:function(t){return e.handleSubmit(a.name)}},model:{value:e.paymentForms[a.name],callback:function(t){e.$set(e.paymentForms,a.name,t)},expression:"paymentForms[item.name]"}})],1)],2):e._e()}),1)],1),t("div",{staticClass:"payment-section"},[t("h3",{staticClass:"section-title"},[e._v($t("91hn6h6","境外支付平台","lang"))]),t("el-collapse",{attrs:{accordion:""},model:{value:e.activeInternational,callback:function(t){e.activeInternational=t},expression:"activeInternational"}},e._l(e.internationalPaymentList,function(a){return a.isShow?t("el-collapse-item",{key:a.name,attrs:{name:a.name}},[t("template",{slot:"title"},[t("div",{staticClass:"payment-item-header"},[t("div",{staticClass:"payment-info"},[a.icon?t("img",{staticClass:"payment-icon",attrs:{src:a.icon,alt:a.title}}):t("span",{staticClass:"payment-title"},[e._v(e._s(a.title))]),t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(t){return e.handleTogglePayment(a)}},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:a.enabled,callback:function(t){e.$set(a,"enabled",t)},expression:"item.enabled"}}),t("span",{staticClass:"payment-description"},[e._v(e._s(a.description))])],1)])]),t("div",{staticClass:"payment-config-content"},[t("SpFormPlus",{attrs:{"form-items":e.getFormItems(a.name),"form-type":"normalForm","label-width":"160px"},on:{submit:function(t){return e.handleSubmit(a.name)}},model:{value:e.paymentForms[a.name],callback:function(t){e.$set(e.paymentForms,a.name,t)},expression:"paymentForms[item.name]"}})],1)],2):e._e()}),1)],1)])},[],!1,null,"1476371c",null).exports},21572:function(e,t,a){e.exports=a.p+"img/unionpay.dee84818.png"},26032:function(e,t,a){e.exports=a.p+"img/paypal.bf6f724c.png"},31675:function(e,t,a){e.exports=a.p+"img/wepay.2246fa74.png"},76631:function(e,t,a){e.exports=a.p+"img/alipay.a0f561ed.png"},80516:function(e,t,a){e.exports=a.p+"img/huifu.acbe93d0.png"}}]);